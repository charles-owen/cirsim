/*! For license information please see cirsim.min.js.LICENSE.txt */
(()=>{var t,e,i={396:(t,e,i)=>{"use strict";i(664);const n=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){return e.reject(i)}))}))};const o=function(t){return new this((function(e,i){if(!t||void 0===t.length)return i(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function r(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(e){r(t,e)}),(function(i){n[t]={status:"rejected",reason:i},0==--o&&e(n)}))}n[t]={status:"fulfilled",value:i},0==--o&&e(n)}for(var s=0;s<n.length;s++)r(s,n[s])}))};var r=setTimeout;function s(t){return Boolean(t&&void 0!==t.length)}function a(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function l(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void h(e.promise,t)}u(e.promise,n)}else(1===t._state?u:h)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof c)return t._state=3,t._value=e,void d(t);if("function"==typeof i)return void f((n=i,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,d(t)}catch(e){h(t,e)}var n,o}function h(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,i=t._deferreds.length;e<i;e++)l(t,t._deferreds[e]);t._deferreds=null}function p(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function f(t,e){var i=!1;try{t((function(t){i||(i=!0,u(e,t))}),(function(t){i||(i=!0,h(e,t))}))}catch(t){if(i)return;i=!0,h(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var i=new this.constructor(a);return l(this,new p(t,e,i)),i},c.prototype.finally=n,c.all=function(t){return new c((function(e,i){if(!s(t))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function r(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){r(t,e)}),i)}n[t]=s,0==--o&&e(n)}catch(t){i(t)}}for(var a=0;a<n.length;a++)r(a,n[a])}))},c.allSettled=o,c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,i){i(t)}))},c.race=function(t){return new c((function(e,i){if(!s(t))return i(new TypeError("Promise.race accepts an array"));for(var n=0,o=t.length;n<o;n++)c.resolve(t[n]).then(e,i)}))},c._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const v=c;var m=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("unable to locate global object")}();"function"!=typeof m.Promise?m.Promise=v:m.Promise.prototype.finally?m.Promise.allSettled||(m.Promise.allSettled=o):m.Promise.prototype.finally=n;i(224),i(384);function y(t,e){t.classList.add("resizer");let i=e.grabSize,n=e.handle;"bar"===n?(t.style.resize="none",t.style.borderBottom=i+"px solid #18453B"):"handle"===n?t.style.resize="vertical":"none"===n||(t.style.resize="none",t.style.borderBottom=n);let o=!1,r=!1,s=null;const a=t.getBoundingClientRect();let c=a.height,l=a.width,u=getComputedStyle(t).minHeight;u=u.substr(0,u.length-2);let h=getComputedStyle(t).minWidth;h=h.substr(0,h.length-2);let d,p,f,v,m=null,y=null,g=null;function b(){m=null;const i=20*e.maxSpeed/1e3;if(null!==g){const e=+c;let n=g-e;Math.abs(n)>i?(n=n<0?-i:i,c=e+n,t.style.height=c+"px"):(c=g,t.style.height=c+"px",g=null)}if(null!==y){const e=+l;let n=y-e;Math.abs(n)>i?(n=n<0?-i:i,l=e+n,t.style.width=l+"px"):(l=y,t.style.width=l+"px",y=null)}null===g&&null===y||(m=setTimeout(b,20))}let A=null;function w(e,i){d=e,p=i;t.getBoundingClientRect();l=+t.clientWidth,f=l,c=+t.clientHeight,v=c,y=null,g=null}function x(e,i){let n=i-p,o=null,r=null;if("horizontal"!==A&&"both"!==A||(o=f+(e-d),o<h&&(o=h)),"vertical"===A||"both"===A){t.offsetHeight;r=v+n,r<u&&(r=u)}y=o,g=r,null===m&&b()}function k(t){const e=t.pageX,i=t.pageY;A=M(e,i,!1),null!==A&&(t.stopPropagation(),t.preventDefault(),w(e,i),O(),z(),o=!0,document.addEventListener("mousemove",I,!1),document.addEventListener("mouseup",C,!1))}function I(t){t.stopPropagation(),t.preventDefault(),1===t.buttons?x(t.pageX,t.pageY):B()}function C(t){B()}function T(t){const e=t.touches[0].pageX,i=t.touches[0].pageY;A=M(e,i,!0),null!==A&&(t.stopPropagation(),t.preventDefault(),w(e,i),O(),z(),r=!0,document.addEventListener("touchmove",E),document.addEventListener("touchend",S),document.addEventListener("touchcancel",S))}function E(t){t.stopPropagation();x(t.touches[0].pageX,t.touches[0].pageY)}function S(t){B()}function O(){if(!e.useMask)return;j();let t=document.querySelector("body");s=document.createElement("div"),s.style.position="fixed",s.style.left=0,s.style.top=0,s.style.width="100%",s.style.height="100%",s.style.backgroundColor="transparent",s.style.zIndex=1e4,s.style.opacity=.5,s.style.cursor="pointer",t.appendChild(s)}function B(){null!==m&&(clearTimeout(m),m=null),z(),j()}function z(){o&&(document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",C),o=!1),r&&(document.removeEventListener("touchmove",E),document.removeEventListener("touchend",S),document.removeEventListener("touchcancel",S),r=!1)}function j(){if(null!==s){document.querySelector("body").removeChild(s),s=null}}function M(n,o,r){let s=t.getBoundingClientRect();const a=r?10:0;let c=o>=s.bottom+window.pageYOffset-i-a,l=n>=s.right+window.pageXOffset-i-a;if("both"===e.resize){if(c&&l)return"both";if(c)return"vertical";if(l)return"horizontal"}return"both"!==e.resize&&"vertical"!==e.resize||!c?"both"!==e.resize&&"horizontal"!==e.resize||!l?null:"horizontal":"vertical"}let R=0;function L(e){null!==M(e.pageX,e.pageY,!1)?2!==R&&(t.style.cursor="pointer",R=2):1!==R&&(t.style.cursor="text",R=1)}t.addEventListener("mousedown",k),t.addEventListener("touchstart",T),t.addEventListener("mousemove",L)}function g(t){for(var e in t=t||{},this.resize="vertical",this.handle="bar",this.grabSize=10,this.maxSpeed=1e3,this.useMask=!0,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}}const b=function(t,e){if(e=new g(e),"string"==typeof t)for(var i=document.querySelectorAll(t),n=0;n<i.length;n++)new y(i[n],e);else t.nodeType&&new y(t,e)};var A=function(){this.circuit=null,this.x=0,this.y=0,this.moveX=0,this.moveY=0,this.selectedStyle="#ff0000",this.unselectedStyle="#000000"};A.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.moveX=t.moveX,this.moveY=t.moveY},A.prototype.single=function(){return!1},A.prototype.selectStyle=function(t,e){return e.selection.isSelected(this)?(t.strokeStyle=this.selectedStyle,t.fillStyle=this.selectedStyle,!0):(t.strokeStyle=this.unselectedStyle,t.fillStyle=this.unselectedStyle,!1)},A.prototype.grab=function(){this.moveX=this.x,this.moveY=this.y},A.prototype.move=function(t,e){this.moveX+=t,this.moveY+=e,this.x=this.moveX,this.y=this.moveY,null!==this.circuit&&this.circuit.snapIt(this)},A.prototype.place=function(t,e){this.moveX=t,this.moveY=e,this.x=this.moveX,this.y=this.moveY,null!==this.circuit&&this.circuit.snapIt(this)},A.prototype.delete=function(){},A.prototype.drop=function(){},A.prototype.spawn=function(t,e){return null};var w=function(){};w.toHex=function(t,e){for(var i=Number(t).toString(16);i.length<e;)i="0"+i;return i},w.toBinary=function(t,e){for(var i=Number(t).toString(2);i.length<e;)i="0"+i;return i},w.inArray=function(t,e){for(var i=0;i<e.length;i++)if(e[i].toLowerCase()===t.toLowerCase())return!0;return!1};var x=function(t,e){this.x=t,this.y=e};x.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);this.x/=t,this.y/=t},x.normalize=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return new x(t.x/e,t.y/e)},x.rotate=function(t,e){var i=Math.sin(e),n=Math.cos(e);return new x(n*t.x-i*t.y,i*t.x+n*t.y)},x.distanceToLine=function(t,e,i,n){return 0==e?Math.abs((i*t.y+n)/i):0==i?Math.abs((e*t.x+n)/e):Math.abs(e*t.x+i*t.y+n)/Math.sqrt(e*e+i*i)},x.distanceToLineP2=function(t,e,i){return x.distanceToLine(t,e.y-i.y,i.x-e.x,e.x*i.y-i.x*e.y)},x.nearestOnLine=function(t,e,i,n){return 0==e?{x:t.x,y:-n/i}:0==i?{x:-n/e,y:t.y}:{x:(i*(i*t.x-e*t.y)-e*n)/(e*e+i*i),y:(e*(-i*t.x+e*t.y)-i*n)/(e*e+i*i)}},x.nearestOnLineP2=function(t,e,i){return x.nearestOnLine(t,e.y-i.y,i.x-e.x,e.x*i.y-i.x*e.y)},x.computeT=function(t,e,i){var n=i.x-e.x,o=i.y-e.y;return Math.abs(n)>Math.abs(o)?(t.x-e.x)/n:(t.y-e.y)/o},x.distance=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},x.distanceToLineSegment=function(t,e,i){var n=x.nearestOnLineP2(t,e,i),o=x.computeT(n,e,i);if(o>=0&&o<=1)return{d:x.distance(t,n),p:n};var r=x.distance(t,e),s=x.distance(t,i);return r<s?{d:r,p:e}:{d:s,p:i}};var k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.left=t,this.top=e,this.right=i,this.bottom=n};k.prototype.setRightBottom=function(t,e){this.right=t,this.bottom=e},k.prototype.normalize=function(){if(this.left>this.right){var t=this.left;this.left=this.right,this.right=t}if(this.top>this.bottom){var e=this.top;this.top=this.bottom,this.bottom=e}},k.prototype.isEmpty=function(){return this.left>=this.right||this.top>=this.bottom},k.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},k.prototype.expand=function(t){t.left<this.left&&(this.left=t.left),t.right>this.right&&(this.right=t.right),t.top<this.top&&(this.top=t.top),t.bottom>this.bottom&&(this.bottom=t.bottom)},k.prototype.expandXY=function(t,e){t<this.left&&(this.left=t),t>this.right&&(this.right=t),e<this.top&&(this.top=e),e>this.bottom&&(this.bottom=e)};var I=function(t,e,i,n,o,r){this.component=t,this.x=e,this.y=i,this.len=void 0!==n?n:16,this.index=void 0,this.name=o,this.inv=r,this.value=void 0,this.touchRange=8,this.bus=!1,this.reference=null,this.clock=!1};function C(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}I.prototype.orientation="w",I.prototype.single=function(){return!0},I.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.len=t.len,this.index=t.index,this.name=t.name,this.inv=t.inv,this.value=t.value,this.touchRange=t.touchRange,this.bus=t.bus,this.reference=t.reference},I.prototype.get=function(){return this.value},I.prototype.getAsString=function(){return function t(e){if(Array.isArray(e)){var i="";return e.forEach((function(e){i=t(e)+i})),i}return void 0===e?"?":e?"1":"0"}(this.value)},I.parseBusValue=function(t){for(var e=[],i=t.length-1;i>=0;i--){switch(t.substr(i,1)){case"0":e.push(!1);break;case"1":e.push(!0);break;case"?":e.push(void 0);break;default:return null}}return e},I.busValueToDecimal=function(t,e){if(void 0===t)return null;var i=0,n=1;for(var o in t){if(void 0===t[o])return null;t[o]&&(i+=n),n*=2}return void 0!==e&&(i%=e),i},I.prototype.touch=function(t,e){var i=this.getLoc(),n=this.touchRange;return t>=i.x-n&&t<=i.x+n&&e>=i.y-n&&e<=i.y+n},I.prototype.getLoc=function(){switch(this.orientation){case"w":return new x(this.component.x+this.x-this.len,this.component.y+this.y);case"n":return new x(this.component.x+this.x,this.component.y+this.y-this.len);case"s":return new x(this.component.x+this.x,this.component.y+this.y+this.len);case"e":return new x(this.component.x+this.x+this.len,this.component.y+this.y)}},I.prototype.draw=function(t,e){var i=this.component.x+this.x,n=this.component.y+this.y;switch(this.bus?t.lineWidth=2:t.lineWidth=1,this.orientation){case"e":if(t.beginPath(),t.moveTo(i,n+.5),t.lineTo(i+this.len,n+.5),t.fillRect(i+this.len-1,n-1,3,3),this.component.circuit.circuits.model.main.options.showOutputStates){t.font="11px Times",t.textAlign="left";var o=this.getAsString();o.length>8&&(o=parseInt(o,2),o=isNaN(o)?"?":w.toHex(o,4)),t.fillText(o,i+5,n-2)}void 0!==this.name&&(t.font="12px Times",t.textAlign="right",t.fillText(this.name,i-3,n+3)),t.stroke();break;case"w":if(t.beginPath(),t.moveTo(i,n+.5),t.lineTo(i-this.len,n+.5),t.fillRect(i-this.len-1,n-1,3,3),this.clock){var r=7;t.moveTo(i,n-r),t.lineTo(i+r,n),t.lineTo(i,n+r)}void 0!==this.name&&(t.font="12px Times",t.textAlign="left",t.fillText(this.name,i+2,n+3)),t.stroke();break;case"n":if(t.beginPath(),t.moveTo(i+.5,n),t.lineTo(i+.5,n-this.len),t.fillRect(i-1,n-this.len-1,3,3),this.clock){r=7;t.moveTo(i-r,n),t.lineTo(i,n+r),t.lineTo(i+r,n)}t.stroke(),void 0!==this.name&&(n+=this.clock?12+r:12,t.font="12px Times",t.textAlign="center",t.fillText(this.name,i,n));break;case"s":if(t.beginPath(),t.moveTo(i+.5,n),t.lineTo(i+.5,n+this.len),t.fillRect(i-1,n+this.len-1,3,3),this.clock){r=7;t.moveTo(i-r,n),t.lineTo(i,n-r),t.lineTo(i+r,n)}t.stroke(),void 0!==this.name&&(n-=this.clock?6+r:6,t.font="12px Times",t.textAlign="center",t.fillText(this.name,i,n))}t.lineWidth=1},I.prototype.autoLen=function(){switch(this.orientation){case"s":for(this.len=8*Math.floor(this.y/8)+8-this.y;this.len<12;)this.len+=8}},I.prototype.bounds=function(){var t=this.component.x+this.x,e=this.component.y+this.y,i=new k(t,e,t,e);switch(this.orientation){case"e":i.expandXY(t+this.len,e);break;case"w":i.expandXY(t-this.len,e);break;case"n":i.expandXY(t,e-this.len);break;case"s":i.expandXY(t,e+this.len)}return i};var E=function(t,e,i,n,o,r){I.call(this,t,e,i,n,o,r),this.to=[],this.orientation="e"};(E.prototype=Object.create(I.prototype)).constructor=E,E.prototype.clone=function(){var t=new E(this.component,this.x,this.y,this.len,this.name,this.inv);return t.orientation=this.orientation,t.copyFrom(this),t},E.prototype.set=function(t){var e=!0;if(Array.isArray(t)){if(Array.isArray(this.value)&&t.length===this.value.length)for(var i in e=!1,t)if(t[i]!==this.value[i]){e=!0;break}}else e=this.value!==t;if(e){this.value=t;for(var n=0;n<this.to.length;n++){var o=this.to[n].to;null!==o&&o.set()}}},E.prototype.setAsString=function(t){if(this.bus)this.set(I.parseBusValue(t));else switch(t){default:this.set(!1);break;case"1":this.set(!0);break;case"?":this.set(void 0)}},E.prototype.get=function(){return this.value},E.prototype.draw=function(t,e){I.prototype.draw.call(this,t,e),this.bus?t.lineWidth=2:t.lineWidth=1;for(var i=0;i<this.to.length;i++)this.to[i].draw(t,e);t.lineWidth=1},E.prototype.add=function(t){this.to.push(t)},E.prototype.remove=function(t){var e=[];this.to.forEach((function(i){i!==t&&e.push(i)})),this.to=e},E.prototype.clear=function(){this.to.forEach((function(t){t.delete(this)})),this.to=[]},E.prototype.touchConnections=function(t,e){for(var i=0;i<this.to.length;i++){var n=this.to[i].touch(t,e);if(null!=n)return n}return null},E.prototype.selectRect=function(t,e){for(var i=0;i<this.to.length;i++)this.to[i].selectRect(t,e)},E.prototype.bounds=function(){var t,e=I.prototype.bounds.call(this),i=C(this.to);try{for(i.s();!(t=i.n()).done;){var n=t.value;e.expand(n.bounds())}}catch(t){i.e(t)}finally{i.f()}return e};var S=function(t,e,i,n,o,r){I.call(this,t,e,i,n,o,r),this.from=[],this.orientation="w"};(S.prototype=Object.create(I.prototype)).constructor=S,S.prototype.clone=function(){var t=new S(this.component,this.x,this.y,this.len,this.name,this.inv);return t.orientation=this.orientation,t.copyFrom(this),t},S.prototype.set=function(){var t=this.from.length>0&&null!==this.from[0].from?this.from[0].from.value:void 0;this.value!==t&&(this.value=t,this.component.pending())},S.prototype.testAsString=function(t){this.component.testAsString(t,this)},S.prototype.setConnection=function(t){this.from.forEach((function(t){t.delete(this)})),t.to=this,this.from=[t],this.set()},S.prototype.clear=function(){this.from.forEach((function(t){t.delete(this)})),this.from=[]},S.prototype.add=function(t){this.from.push(t)},S.prototype.remove=function(t){var e=[];this.from.forEach((function(i){i!==t&&e.push(i)})),this.from=e},S.prototype.draw=function(t,e){I.prototype.draw.call(this,t,e);for(var i=0;i<this.from.length;i++)null===this.from[i].from&&this.from[i].draw(t,e)},S.prototype.bounds=function(){return I.prototype.bounds.call(this)};var O=function(t,e,i,n,o,r){E.call(this,t,e,i,n,o,r)};(O.prototype=Object.create(E.prototype)).constructor=O,O.prototype.draw=function(t,e){var i=this.component.x+this.x,n=this.component.y+this.y;t.beginPath(),t.arc(i+4+.5,n,4,0,2*Math.PI),t.moveTo(i+8,n+.5),t.lineTo(i+this.len,n+.5),t.fillRect(i+this.len-1,n-1,3,3),this.component.circuit.circuits.model.main.options.showOutputStates&&(t.font="11px Times",t.fillText(void 0===this.value?"?":this.value?"1":"0",i+7+8,n-2)),t.stroke(),void 0!==this.name&&(t.font="12px Times",t.textAlign="right",t.fillText(this.name,i-3,n+3),this.inv&&(n-=8,t.beginPath(),t.moveTo(i-3,n),t.lineTo(i-13,n),t.stroke()));for(var o=0;o<this.to.length;o++)this.to[o].draw(t,e)},O.prototype.set=function(t){void 0===t?E.prototype.set.call(this,t):E.prototype.set.call(this,!t)};var B=function(t,e){A.call(this),this.connection=null,void 0!==t&&(this.x=t,this.moveX=t),void 0!==e&&(this.y=e,this.moveY=e)};function z(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}(B.prototype=Object.create(A.prototype)).constructor=B,B.prototype.touchRange=12,B.prototype.size=4,B.prototype.clone=function(){var t=new B;return t.copyFrom(this),t},B.prototype.draw=function(t,e){e.selection.isSelected(this)&&(this.selectStyle(t,e),t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fill())},B.prototype.touch=function(t,e){return Math.abs(t-this.x)+Math.abs(e-this.y)<=this.touchRange},B.prototype.delete=function(t){this.connection.removeBend(this)},B.prototype.save=function(){return{x:this.x,y:this.y}};var M=function(t,e,i){if(A.call(this),this.touchRange=8,this.bends=[],null!==t){if(this.circuit=t.component.circuit,this.from=t,this.from.add(this),null===e){var n=t.getLoc();this.x=n.x,this.y=n.y}}else this.from=null;if(void 0===e&&console.log(this),null!==e){if(this.circuit=e.component.circuit,this.to=e,this.to.add(this),null===t){n=e.getLoc();this.x=n.x,this.y=n.y}!0!==i&&e.set()}else this.to=null};(M.prototype=Object.create(A.prototype)).constructor=M,M.prototype.clone=function(){if(null===this.from||null===this.to)return null;var t=this.from.component.prev,e=this.to.component.prev,i=this.from.index,n=this.to.index;void 0===e.ins[n]&&console.log(this);for(var o=new M(t.outs[i],e.ins[n],!0),r=0;r<this.bends.length;r++){var s=this.bends[r].clone();o.addBend(s)}return o},M.prototype.delete=function(t){var e=this.to;null!==this.to&&this.to!==t&&this.to.remove(this),null!==this.from&&this.from!==t&&this.from.remove(this),null!==e&&e.set()},M.prototype.removeBend=function(t){var e=[];this.bends.forEach((function(i){i!==t&&e.push(i)})),this.bends=e},M.prototype.getCircuit=function(){return null!==this.from?this.from.component.circuit:null!==this.to?this.to.component.circuit:null},M.prototype.drop=function(){if(null!==this.from&&null===this.to){var t=this.from.component.circuit.touchIn(this.x,this.y);null!==t&&this.from.bus===t.bus?t.setConnection(this):this.from.remove(this)}else if(null===this.from&&null!==this.to){var e=this.to.component.circuit.touchOut(this.x,this.y);null!==e&&this.to.bus===e.bus?(this.to.clear(),this.to.from=[this],this.from=e,e.add(this),this.to.set()):this.to.remove(this)}},M.prototype.draw=function(t,e){if(this.selectStyle(t,e),t.beginPath(),null!==this.from){var i=this.from.getLoc();t.moveTo(i.x+.5,i.y+.5)}else t.moveTo(this.x+.5,this.y+.5);for(var n=0;n<this.bends.length;n++){var o=this.bends[n];t.lineTo(o.x+.5,o.y+.5)}if(null!==this.to){i=this.to.getLoc();t.lineTo(i.x+.5,i.y+.5)}else t.lineTo(this.x+.5,this.y+.5);t.stroke();for(n=0;n<this.bends.length;n++)this.bends[n].draw(t,e)},M.prototype.bounds=function(){var t=null;if(null!==this.from){var e=this.from.getLoc();t=new k(e.x,e.y,e.x,e.y)}else t=new k(this.x,this.y,this.x,this.y);var i,n=z(this.bends);try{for(n.s();!(i=n.n()).done;){var o=i.value;t.expandXY(o.x,o.y)}}catch(t){n.e(t)}finally{n.f()}if(null!==this.to){var r=this.to.getLoc();t.expandXY(r.x,r.y)}else t.expandXY(this.x,this.y);return t},M.prototype.touch=function(t,e){for(var i=null!==this.from?this.from:new x(t,e),n=null!==this.to?this.to:new x(t,e),o=0;o<this.bends.length;o++){var r=this.bends[o];if(r.touch(t,e))return r}var s=i.getLoc();for(o=0;o<this.bends.length;o++){var a=this.bends[o];if(x.distanceToLineSegment({x:t,y:e},s,a).d<=this.touchRange)return this;s=a}return x.distanceToLineSegment({x:t,y:e},s,n.getLoc()).d<=this.touchRange?this:null},M.prototype.selectRect=function(t,e){for(var i=0;i<this.bends.length;i++){var n=this.bends[i];t.contains(n.x,n.y)&&e.push(n)}},M.prototype.spawn=function(t,e){if(null!==this.to&&null!==this.from){for(var i=0,n=1e10,o=this.from.getLoc(),r=0;r<this.bends.length;r++){var s=this.bends[r];(a=x.distanceToLineSegment({x:t,y:e},o,s)).d<=n&&(i=r,n=a.d),o=s}var a;(a=x.distanceToLineSegment({x:t,y:e},o,this.to.getLoc())).d<=n&&(i=r,n=a.d);var c=new B;return i<this.bends.length?this.insertBend(i,c):this.addBend(c),c.place(t,e),c}return null},M.prototype.insertBend=function(t,e){e.connection=this,e.circuit=this.circuit,this.bends.splice(t,0,e)},M.prototype.addBend=function(t){t.connection=this,t.circuit=this.circuit,this.bends.push(t)},M.prototype.save=function(){if(null===this.from||null===this.to)return null;for(var t=this.from.component,e=this.to.component,i=this.from.index,n=this.to.index,o=[],r=0;r<this.bends.length;r++){var s=this.bends[r];o.push(s.save())}return{from:t.id,out:i,to:e.id,in:n,bends:o}},M.prototype.load=function(t){var e=this;t.bends.forEach((function(t){var i=new B(t.x,t.y);e.addBend(i)}))};var R=function(){};R.unique=1,R.uniqueId=function(){return R.unique++},R.uniqueName=function(){return"cirsim-id-"+R.unique++};const L=R;function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return P(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var U=function(){};U.isVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},U.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},U.addClasses=function(t,e){null!=e&&e.split(" ").forEach((function(e){U.addClass(t,e)}))},U.removeClass=function(t,e){var i=new RegExp("\\b"+e+"\\b","g");t.className=t.className.replace(i,"")},U.createClassedDiv=function(t,e){var i=document.createElement("div");return U.addClass(i,t),void 0!==e&&U.addContent(i,e),i},U.addContent=function(t,e){U.isString(e)?t.innerHTML+=e:U.isElement(e)&&t.appendChild(e)},U.isString=function(t){return"string"==typeof t||!!t&&"object"===N(t)&&"[object String]"===Object.prototype.toString.call(t)},U.isElement=function(t){return null!=t&&void 0!==t.nodeValue},U.offset=function(t){var e=t.getBoundingClientRect();return{left:e.left+t.scrollLeft+window.pageXOffset,top:e.top+t.scrollTop+window.pageYOffset}},U.child=function(t,e){var i,n=D(t.childNodes);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.tagName===e)return o}}catch(t){n.e(t)}finally{n.f()}return null};var q=i(25),H=i.n(q);const F=function(t){for(var e in t=t||{},this.title="Dialog Box",this.addClass=null,this.resize="none",this.grabSize=4,this.titleBarButtons=null,this.titleBarAddClass=null,this.buttons=null,this.content=null,this.modal=!0,this.parent=null,this.form=!0,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}},_=function(){};_.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},_.addClasses=function(t,e){null!=e&&e.split(" ").forEach((e=>{_.addClass(t,e)}))},_.createClassedDiv=function(t,e){let i=document.createElement("div");return _.addClass(i,t),_.addContent(i,e),i},_.addContent=function(t,e){_.isString(e)?t.innerHTML+=e:_.isElement(e)&&t.appendChild(e)},_.isString=function(t){return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===Object.prototype.toString.call(t)},_.isElement=function(t){return null!=t&&void 0!==t.nodeValue};const Q=_;function X(t,e){let i,n,o,r,s=t.options,a=!1,c=!1;function l(e,i){let n=document.createElement("button");e.appendChild(n),Q.addClass(n,"dialog-cl-tb-button"),n.innerHTML='<span class="icons-cl icons-cl-close">',n.onclick=e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click():t.close()}}function u(e,s){let a=o+(e-i),c=r+(s-n);t.div.style.left=a+"px",t.div.style.top=c+"px"}function h(e){i=e.pageX,n=e.pageY;let s=t.div.getBoundingClientRect();o=s.left,r=s.top,y(),a=!0,document.addEventListener("mousemove",d),document.addEventListener("mouseup",p)}function d(t){1===t.buttons?u(t.pageX,t.pageY):y()}function p(t){y()}function f(e){e.stopPropagation(),e.preventDefault(),i=e.touches[0].pageX,n=e.touches[0].pageY;let s=t.div.getBoundingClientRect();o=s.left,r=s.top,y(),c=!0,document.addEventListener("touchmove",v),document.addEventListener("touchend",m),document.addEventListener("touchcancel",m)}function v(t){t.stopPropagation(),u(t.touches[0].pageX,t.touches[0].pageY)}function m(t){y()}function y(){a&&(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",p),a=!1),c&&(document.removeEventListener("touchmove",v),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),c=!1)}(()=>{let i=`<h1>${s.title}</h1>`,n=Q.createClassedDiv("dialog-cl-top",i);Q.addClasses(n,s.titleBarAddClass),e.appendChild(n),null===s.titleBarButtons?l(n):s.titleBarButtons.forEach((e=>{"close"===e.type?l(n,e):"custom"===e.type&&function(e,i){let n=document.createElement("button");e.appendChild(n),Q.addClass(n,"dialog-cl-tb-button"),n.innerHTML=i.contents,n.onclick=e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click():t.close()}}(n,e)}));let o=n.querySelector("h1");o.addEventListener("mousedown",h),o.addEventListener("touchstart",f)})()}const W=function(t,e){let i=t.options,n=document.createElement("div");n.classList.add("dialog-cl-body"),Q.addContent(n,i.content),e.appendChild(n),this.div=n};const Y=function(t,e){let i=t.options;(()=>{let n=Q.createClassedDiv("cl-dialog-bottom");e.appendChild(n),null===i.buttons?function(e,i){let n=document.createElement("button");n.type="submit",e.appendChild(n),n.innerHTML="Ok",n.onclick=e=>{e.preventDefault(),void 0!==i&&void 0!==i.click?i.click(t):t.close()},n.focus()}(n):i.buttons.forEach((e=>{!function(e,i){let n=document.createElement("button");n.type="submit",e.appendChild(n),n.innerHTML=i.contents,n.onclick=e=>{e.preventDefault(),void 0!==i&&void 0!==i.click&&i.click(t)},void 0!==i.class&&n.classList.add(i.class);!0===i.focus&&n.focus()}(n,e)}))})(),this.default=function(){i.buttons.forEach((e=>{!0===e.default&&void 0!==e.click&&e.click(t)}))}},J=function(t){let e=t.options,i=null;if(e.modal){let e=document.querySelector("body");i=Q.createClassedDiv("mask"),i.style.position="fixed",i.style.left=0,i.style.top=0,i.style.width="100%",i.style.height="100%",i.style.backgroundColor="transparent",i.style.zIndex=t.zIndex-1,e.appendChild(i)}this.remove=function(){if(null!==i){document.querySelector("body").removeChild(i),i=null}}};let V=function(t){t=new F(t),this.options=t;let e=null,i=null,n=null,o=null;Object.defineProperties(this,{form:{get:function(){return o}}});const r=t=>{27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.close())};let s=e=>{if("none"!==t.resize){let i={resize:t.resize,handle:"none",grabSize:t.grabSize};new b(e,i)}};function a(t){return t+"px"}const c=(t,e)=>{let i,n;null===e?(i=window.innerWidth,n=window.innerHeight):(i=e.offsetWidth,n=e.offsetHeight);let o=n/2-t.offsetHeight/2;o<10&&(o=10);let r=i/2-t.offsetWidth/2;r<0&&(r=0),t.style.left=a(r),t.style.top=a(o)};(()=>{V.zIndex+=2,this.zIndex=V.zIndex;let a=Q.createClassedDiv("dialog-cl");Q.addClasses(a,t.addClass),this.div=a,a.style.zIndex=this.zIndex,document.querySelector("body").appendChild(a),s(a);let l=a;t.form&&(o=document.createElement("form"),a.appendChild(o),l=o),new X(this,l),e=new W(this,l),!1!==t.buttons&&(n=new Y(this,l)),i=new J(this),c(a,t.parent),document.addEventListener("keydown",r,!0)})(),this.addContent=function(t){Q.addContent(e.div,t)},this.close=function(){i.remove(),this.div.parentNode.removeChild(this.div),document.removeEventListener("keydown",r,!0)},this.default=function(){null!==n&&n.default()}};V.zIndex=1e4;const G=V;let K=function(t,e,i,n,o){let r=[{contents:"Ok",click:function(t){void 0!==n&&n(),t.close()},focus:!0}];i===K.OKCANCEL&&(r=[{contents:"Ok",click:function(t){void 0!==n&&n(),t.close()},focus:!0},{contents:"Cancel",click:function(t){void 0!==o&&o(),t.close()}}]);new G({title:t,content:'<div class="message-cl"><p>'+e+"</p></div>",buttons:r})};K.OK=0,K.OKCANCEL=1;const Z=K;i(627),i(307);G.MessageBox=Z;const $=G;var tt=function(t){this.classes=void 0!==t?"cirsim "+t:"cirsim",this.buttonOk="Ok",this.buttonCancel="Cancel",this.resize="none;",this.titleBarButtons=null};tt.prototype.contents=function(t,e){this.html=t,this.title=e},tt.prototype.open=function(){var t=this,e=document.createElement("form"),i=U.createClassedDiv("cirsim-dlg-content");e.appendChild(i);var n="".concat(this.html,'<p class="error"></p>\n<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">');i.innerHTML=n,this.element=i;var o=[];null!==this.buttonOk&&o.push({contents:"Ok",click:function(e){t.ok()},focus:!0,class:"cs-ok"}),null!==this.buttonCancel&&o.push({contents:"Cancel",click:function(t){t.close()},class:"cs-cancel"});var r=new $({addClass:this.classes,title:this.title,content:e,buttons:o,resize:this.resize,titleBarButtons:this.titleBarButtons});this.dialog=r,this.onOpen(),this.close=function(){r.close()},e.addEventListener("submit",(function(e){e.preventDefault(),t.ok()})),this.buttonOk=function(){return this.dialog.div.querySelector("button.cs-ok")}},tt.prototype.ok=function(){this.close()},tt.prototype.error=function(t){void 0!==t&&(this.element.querySelector(".error").innerHTML=t)},tt.prototype.cancel=function(){},tt.prototype.onOpen=function(){},tt.prototype.sanitize=function(t){return H().sanitize(t)},tt.prototype.uniqueId=function(){return R.uniqueName()};var et=function(t,e){var i=this;tt.call(this,"component"),this.resize="both";var n=null,o="",r=function(){},s=function(){return null},a=function(){return null};this.open=function(){var s="";"help"in t.constructor&&(s+='<a class="helper">help</a>'),"description"in t.constructor&&(s+='<div class="description">',s+=t.constructor.description+"</div>");var a="";if(null!==t.naming)a=t.naming;else if(null!==t.prefix)for(var c=1;;c++){if(a=t.prefix+c,null===t.circuit.getComponentByNaming(a))break}var l="";null!==t.prefix&&(l+='<div class="control1 center gap"><label for="'+(n=R.uniqueName())+'">Name: </label><input type="text" name="'+n+'" id="'+n+'" value="'+a+'" spellcheck="false" class="compname text ui-widget-content ui-corner-all"></div>'),l+=o+s,i.contents(l,"Cirsim Component Properties"),tt.prototype.open.call(i),r(),null!==n&&document.getElementById(n).select();var u=i.element.querySelector("a.helper");null!==u&&u.addEventListener("click",(function(i){i.preventDefault();var n=t.constructor.help;e.menu.helpMenu.componentHelp(n)}))},this.ok=function(){var o="";if(null!==t.prefix){var r=document.getElementById(n);if(0!==(o=r.value.replace(/^\s+|\s+$/gm,"")).length){var c=t.circuit.getComponentByNaming(o);if(null!==c&&c!==t)return U.addClass(r,"cirsim-error"),void i.error("Name already exists")}U.removeClass(r,"cirsim-error"),o=i.sanitize(o)}var l=s();null===l?(e.backup(),null!==t.prefix&&(t.naming=o.length>0?o:null),a(),i.close(),e.currentView().draw()):i.error(l)},this.extra=function(t,e,i){o=t,s=e,a=i},this.extraCreate=function(t){r=t}};function it(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}(et.prototype=Object.create(tt.prototype)).constructor=et;var ot=function(){A.call(this);var t=null;Object.defineProperty(this,"circuit",{get:function(){return t},set:function(e){t=e}}),this.height=10,this.width=10,this.prev=null,this.id="",this.circuit=null,this.naming=null,this.ins=[],this.outs=[]};(ot.prototype=Object.create(A.prototype)).constructor=ot,ot.prototype.prefix="U",ot.prototype.nameRequired=!1,ot.prototype.delay=11,ot.prototype.brand=function(){this.id="c"+ ++ot.maxId},ot.maxId=1e3,ot.prototype.copyFrom=function(t){this.height=t.height,this.width=t.width,this.prev=t.prev,this.naming=t.naming,this.id=t.id,t.prev=this,A.prototype.copyFrom.call(this,t);for(var e=0;e<this.ins.length;e++)this.ins[e].copyFrom(t.ins[e]);for(var i=0;i<this.outs.length;i++)this.outs[i].copyFrom(t.outs[i])},ot.prototype.drop=function(){this.x<this.width/2&&(this.x=this.width/2),this.y<this.height/2&&(this.y=this.height/2)},ot.prototype.grab=function(){A.prototype.grab.call(this),this.circuit.moveToFront(this)},ot.prototype.mouseUp=function(){},ot.prototype.added=function(t){if(this.circuit=t,null===this.naming&&this.nameRequired)for(var e=1;;e++){var i=void 0;if(i="*"===this.prefix.charAt(0)?e<=26?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(e-1):this.prefix.charAt(1)+(e-26):this.prefix+e,null===this.circuit.getComponentByNaming(i)){this.naming=i;break}}},ot.prototype.addIn=function(t,e,i,n){var o=new S(this,t,e,i,n);return o.index=this.ins.length,this.ins.push(o),o},ot.prototype.addOut=function(t,e,i,n,o){var r=new E(this,t,e,i,n,o);return r.index=this.outs.length,this.outs.push(r),r},ot.prototype.addOutInv=function(t,e,i,n,o){var r=new O(this,t,e,i,n,o);return r.index=this.outs.length,this.outs.push(r),r},ot.prototype.touch=function(t,e){var i=this.touchOut(t,e);if(null!==i)return new M(i,null);if(null!==(i=this.touchIn(t,e)))return new M(null,i);if(t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y-this.height/2&&e<=this.y+this.height/2)return this;for(var n=0;n<this.outs.length;n++){var o=this.outs[n].touchConnections(t,e);if(null!==o)return o}return null},ot.prototype.touchOut=function(t,e){for(var i=0;i<this.outs.length;i++)if(this.outs[i].touch(t,e))return this.outs[i];return null},ot.prototype.touchIn=function(t,e){for(var i=0;i<this.ins.length;i++)if(this.ins[i].touch(t,e))return this.ins[i];return null},ot.prototype.inRect=function(t,e){t.contains(this.x,this.y)&&e.push(this),this.outs.forEach((function(i){i.selectRect(t,e)}))},ot.prototype.delete=function(){for(var t=0;t<this.ins.length;t++)this.ins[t].clear();for(t=0;t<this.outs.length;t++)this.outs[t].clear();this.circuit.delete(this)},ot.prototype.bounds=function(){var t,e=new k(this.x-this.width/2,this.y-this.height/2,this.x+this.width/2,this.y+this.height/2),i=it(this.ins);try{for(i.s();!(t=i.n()).done;){var n=t.value;e.expand(n.bounds())}}catch(t){i.e(t)}finally{i.f()}var o,r=it(this.outs);try{for(r.s();!(o=r.n()).done;){var s=o.value;e.expand(s.bounds())}}catch(t){r.e(t)}finally{r.f()}return e},ot.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,3),this.drawIO(t,e)},ot.prototype.drawIO=function(t,e){for(var i=0;i<this.ins.length;i++)this.selectStyle(t,e),this.ins[i].draw(t,e);for(i=0;i<this.outs.length;i++)this.selectStyle(t,e),this.outs[i].draw(t,e)},ot.prototype.save=function(){var t=this.constructor.type,e=this.naming;return null!==e&&(e=e.replace(/'/g,"`")),{id:this.id,x:this.x,y:this.y,name:e,type:t}},ot.prototype.load=function(t){this.id=this.sanitize(t.id);var e=+this.id.substr(1);e>ot.maxId&&(ot.maxId=e),this.x=+t.x,this.y=+t.y,this.moveX=this.x,this.moveY=this.y;var i=t.name;this.naming=null!==i?this.sanitize(i).replace(/`/g,"'"):null},ot.prototype.saveConnections=function(){for(var t=[],e=0;e<this.outs.length;e++)for(var i=this.outs[e],n=0;n<i.to.length;n++){var o=i.to[n].save();null!==o&&t.push(o)}return t},ot.prototype.properties=function(t){new et(this,t).open()},ot.prototype.advance=function(t){return!1},ot.prototype.pending=function(){for(var t=.1*this.delay,e=[],i=0;i<this.ins.length;i++)e.push(this.ins[i].value);null!==this.circuit.circuits&&this.circuit.circuits.simulation.queue(this,t,e)},ot.prototype.getSimulation=function(){return null!==this.circuit?this.circuit.circuits.simulation:null},ot.prototype.getDelay=function(){return this.delay},ot.prototype.compute=function(t){},ot.prototype.newTab=function(){},ot.prototype.drawName=function(t,e,i,n){null!==this.naming&&(t.beginPath(),t.font=void 0!==n?n:"14px Times",t.textAlign="center",t.fillText(this.naming,this.x+e,this.y+i),t.stroke())},ot.prototype.drawText=function(t,e,i,n,o){t.beginPath(),t.font=void 0!==o?o:"14px Times",t.textAlign="center",t.fillText(e,this.x+i,this.y+n),t.stroke()},ot.prototype.drawBox=function(t,e){if("none"!==e){var i=t.fillStyle;t.fillStyle=void 0!==e?e:"#ffffff",t.fillRect(this.x-this.width/2-.5,this.y-this.height/2-.5,this.width,this.height),t.fillStyle=i}t.beginPath(),t.rect(this.x-this.width/2-.5,this.y-this.height/2-.5,this.width,this.height),t.stroke()},ot.prototype.drawTrap=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=20);var n=this.x-this.width/2-.5,o=this.x+this.width/2+.5,r=this.y-this.height/2-.5,s=this.y+this.height/2+.5;t.fillStyle="#ffffff",t.beginPath(),t.moveTo(n,r+e),t.lineTo(n,s-e),t.lineTo(o,s-i),t.lineTo(o,r+i),t.lineTo(n,r+e),t.fill(),t.beginPath(),t.moveTo(n,r+e),t.lineTo(n,s-e),t.lineTo(o,s-i),t.lineTo(o,r+i),t.lineTo(n,r+e),t.stroke()},ot.prototype.command=function(t){if(!("string"==typeof t||t instanceof String)||"type:"!==t.substr(0,5))return null;var e=t.substr(5);if(e!==this.constructor.type){var i=this.circuit.circuits.model.main.components.get(e);return i=null!==i?i.label:e,{ok:!1,msg:"Component "+this.naming+" should be type <strong>"+i+"</strong> but is <strong>"+this.constructor.label+"</strong>"}}return{ok:!0}},ot.prototype.setAsString=function(t){},ot.prototype.testAsString=function(t,e){console.log(t)},ot.prototype.jaggedLine=function(t,e,i,n,o,r){var s=Math.round(e+(n-e)*r)+.5;i+=.5,o+=.5,t.moveTo(e,i),t.lineTo(s,i),t.lineTo(s,o),t.lineTo(n,o),t.stroke()},ot.prototype.sanitize=function(t){return H().sanitize(t)},ot.prototype.update=function(){};var rt=function(t,e){var i=e.options;this.html=function(){var t="",e=i.getAPI("save"),o=i.getAPI("open");if(null!==o&&void 0===o.name&&(t+='<li><a class="file-open"><span class="icons-cl icons-cl-folder-open"></span>Open...</a></li>'),null!==e&&(t+='<li><a class="file-save"><span class="icons-cl icons-cl-disk"></span>Save</a></li>'),null!==e&&void 0===e.name&&(t+='<li><a class="file-saveas"><span class="icons-cl icons-cl-disk"></span>Save As...</a></li>'),i.loadMenu.length>0){t+=n(t);for(var r=0;r<i.loadMenu.length;r++){t+='<li><a class="cs-file-load-menu" data-index="'+r+'"><span class="icons-cl icons-cl-arrowthickstop-1-n"></span>'+i.loadMenu[r].name+"</a></li>"}}return"none"!==i.export&&(t+=n(t),"both"!==i.export&&"import"!==i.export||(t+='<li><a class="cs-file-import"><span class="icons-cl icons-cl-arrowthickstop-1-n"></span>Import</a></li>'),"both"!==i.export&&"export"!==i.export||(t+='<li><a class="cs-file-export"><span class="icons-cl icons-cl-arrowthickstop-1-s"></span>Export</a></li>')),i.exportPNG&&(t+='<li><a class="cs-file-export-png"><span class="icons-cl icons-cl-arrowthickstop-1-s"></span>Export PNG</a></li>'),i.imports.length>0&&(t+=n(t)+'<li><a class="cs-file-import-tab"><span class="icons-cl icons-cl-arrowthickstop-1-s"></span>Import Tab</a></li>'),null!==i.exit&&(t.length>0&&(t+='<li class="menu-divider">&nbsp;</li>'),t+='<li><a class="file-exit">Exit</a></li>'),""!==t?'<li><a>File</a><ul class="file-menu">'+t+"</ul></li>":""};var n=function(t){return t.length>0?'<li class="menu-divider">&nbsp;</li>':""};this.activate=function(){t.click(".cs-file-import",(function(){e.import()})),t.click(".cs-file-export",(function(){e.export()})),t.click(".cs-file-load-menu",(function(t){var n=t.target.dataset.index;e.load(i.loadMenu[n].json)})),t.click(".cs-file-export-png",(function(t){e.currentView().exportPNG()})),t.click(".file-saveas",(function(){e.saveAs()})),t.click(".file-save",(function(){e.save()})),t.click(".file-open",(function(){e.open()})),t.click(".cs-file-import-tab",(function(){e.importTab()})),t.click(".file-exit",(function(){null!==i.exit&&(window.location.href=i.exit)}))},this.opening=function(){var i=!1,n=e.currentView().circuit;if(null!==n)for(var o=n.name,r=0;r<e.options.imports.length;r++){if(e.options.imports[r].into===o){i=!0;break}}t.enable(".cs-file-import-tab",i)}},st=function(t,e){this.html=function(){return'<li><a>Edit</a><ul class="edit-menu"><li><a class="edit-undo"><span class="icons-cl icons-cl-arrowreturnthick-1-w"></span>Undo</a></li><li><a class="edit-delete"><span class="icons-cl icons-cl-trash"></span>Delete</a></li><li class="menu-divider">&nbsp;</li><li><a class="edit-properties">Properties</a></li></ul></li>'},this.activate=function(){t.click(".edit-delete",(function(t){console.log("delete"),e.backup(),e.currentView().delete()})),t.click(".edit-undo",(function(t){e.undo()})),t.click(".edit-properties",(function(t){1===e.currentView().selection.selection.length&&e.currentView().selection.selection[0]instanceof ot&&e.currentView().selection.selection[0].properties(e)})),document.addEventListener("keydown",(function(i){"Delete"===i.key?(t.closeAll(),e.backup(),e.currentView().delete()):"z"!==i.key||!i.ctrlKey||i.altKey||i.shiftKey||(t.closeAll(),e.undo())}))}},at=function(t){tt.call(this);var e;this.open=function(){e=this.uniqueId();var t='<div class="control1 center"><label for="'.concat(e,'">New tab name: </label>\n<input class="tabname" type="text" id="').concat(e,'" spellcheck="false"></div>\n<p>Enter the name for the new tab.</p>');this.contents(t,"New Tab"),tt.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=document.getElementById(e).value;if(i=i.replace(/^\s+|\s+$/gm,""),(i=this.sanitize(i)).length<1)return this.error("Must provide a tab name"),void document.getElementById(e).select();if(i.length>8)return this.error("Name must be no longer than 8 characters"),void document.getElementById(e).select();var n=t.validateName(i);if(null!==n)return this.error(n),void document.getElementById(e).select();t.add(i),this.close()}};(at.prototype=Object.create(tt.prototype)).constructor=at;var ct=function(t,e,i){tt.call(this),this.open=function(i,n){this.contents(e,t),!0!==n&&(this.buttonCancel=null),this.ok=function(){void 0!==i&&i(),this.close()},tt.prototype.open.call(this)}};(ct.prototype=Object.create(tt.prototype)).constructor=ct;var lt=function(t){tt.call(this);var e;this.open=function(){var i=t.currentCircuit(),n=i.getName(),o=i.stats();e=this.uniqueId();var r='\n<div class="control1 center"><label for="'.concat(e,'">Tab name: </label>\n<input class="tabname" type="text" id="').concat(e,'" value="').concat(n,'" spellcheck="false" ').concat("main"===n?"disabled":"","></div>");r+="main"===n?'<p class="center"><em>The main tab cannot be renamed.</em></p>':"<p>This page presents information for the currently selected tab. Enter a new name to rename the tab.</p>",r+="<table>\n<tr><th>Property</th><th>Value</th></tr>\n<tr><td>Components</td><td>".concat(o.numComponents,"</td></tr>\n<tr><td>Connections</td><td>").concat(o.numConnections,"</td></tr>\n<tr><td>Width</td><td>").concat(o.width," pixels</td></tr>\n<tr><td>Height</td><td>").concat(o.height," pixels</td></tr>\n</table>"),this.contents(r,"New Tab"),tt.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=t.currentCircuit();if("main"!==i.getName()){var n=document.getElementById(e).value;if(n=n.replace(/^\s+|\s+$/gm,""),(n=this.sanitize(n)).length<1)return this.error("Must provide a tab name"),void document.getElementById(e).select();if(n.length>8)return this.error("Name must be no longer than 8 characters"),void document.getElementById(e).select();var o=t.validateName(n,i);if(null!==o)return this.error(o),void document.getElementById(e).select();n!==i.getName()&&t.rename(n),this.close()}else this.close()}};(lt.prototype=Object.create(tt.prototype)).constructor=lt;var ut=function(t,e){this.html=function(){return'<li><a>Tabs</a>\n<ul class="tabs-menu">\n<li><a class="tabs-properties"><span class="icons-cl icons-cl-wrench"></span>Properties...</a></li>\n<li><a class="tabs-add"><span class="icons-cl icons-cl-play"></span>Add...</a></li>\n<li><a class="tabs-delete"><span class="icons-cl icons-cl-close"></span>Delete...</a></li>\n<li><a class="tabs-left"><span class="icons-cl icons-cl-arrowthick-1-w"></span>Move Left</a></li>\n<li><a class="tabs-right"><span class="icons-cl icons-cl-arrowthick-1-e"></span>Move Right</a></li>\n</ul>\n</li>'};this.activate=function(){t.click(".tabs-add",(function(){new at(e.tabs).open()})),t.click(".tabs-delete",(function(){var t;null!==(t=e.tabs.currentCircuit())&&new ct("Are you sure?",'<p class="large">Are you sure you want to delete the tab <em>'+t.getName()+"</em>?</p>",200).open((function(){e.tabs.delActive()}),!0)})),t.click(".tabs-properties",(function(){new lt(e.tabs).open()})),t.click(".tabs-left",(function(){var t=e.tabs;e.model.circuits.moveLeft(t.active)&&t.sync()})),t.click(".tabs-right",(function(){var t=e.tabs;e.model.circuits.moveRight(t.active)&&t.sync()}))},this.opening=function(){var i=e.tabs,n=e.model.circuits;t.enable(".tabs-delete",n.canDelete(i.active)),t.enable(".tabs-left",n.canMoveLeft(i.active)),t.enable(".tabs-right",n.canMoveRight(i.active))}},ht=function(t,e){this.html=function(){return'<li><a>Options</a>\n<ul class="option-menu">\n<li><a class="option-showoutputstates">Show Output States<img></a></li>\n</ul></li>'},this.activate=function(){t.click(".option-showoutputstates",(function(t){e.options.showOutputStates=!e.options.showOutputStates,e.currentView().draw()}))},this.opening=function(){e.options.showOutputStates?U.addClass(t.find(".option-showoutputstates img"),"check"):U.removeClass(t.find(".option-showoutputstates img"),"check")}},dt=function(t){tt.call(this,"about"),this.open=function(){this.buttonCancel=null;var e=t.cirsim.root,i='<figure><img src="'.concat(e,'cirsim/img/logo-icon.png" alt="Cirsim Logo"></figure>\n<h1>Cirsim Circuit Simulator</h1>\n<p>Version: ').concat(t.cirsim.version,"</p>\n<p>Written by: Charles B. Owen</p>");t.cirsim.root.indexOf("cirsim-dev")>=0&&(i+='<p class="gap">Running from the development site.</p>'),this.contents(i,"About Cirsim"),tt.prototype.open.call(this)}};(dt.prototype=Object.create(tt.prototype)).constructor=dt;var pt=function(){};function ft(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}pt.do=function(t){var e=new XMLHttpRequest;if("GET"===t.method){var i=[];for(var n in t.data)t.data.hasOwnProperty(n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t.data[n]));e.open("GET",t.url+"?"+i.join("&"),!0)}else e.open(t.method,t.url,!0);if(e.onload=function(){if(e.status>=200&&e.status<400)if("json"===t.dataType)try{t.success(JSON.parse(e.responseText))}catch(t){console.log(t),console.log(e.responseText)}else t.success(e.responseText);else t.error(e.xhr,e.statusText,"invalid URL")},e.onerror=function(){t.error(e.xhr,e.statusText,"server not found")},"POST"===t.method)if("application/json"===t.contentType)e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t.data));else{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var o=[];for(var r in t.data)t.data.hasOwnProperty(r)&&o.push(encodeURIComponent(r)+"="+encodeURIComponent(t.data[r]));e.send(o.join("&"))}else e.send()};var mt=function(t,e){var i=this,n=[];this.html=function(){return'<div class="cirsim-help">Fetching...</div>'},this.present=function(e){""===e&&(e="cirsim/help/index.html"),e=t.cirsim.root+e,this.presentAbsolute(e)},this.presentAbsolute=function(e){n.push(e),pt.do({url:e,data:{},method:"GET",success:function(t){o(t)},error:function(e,i,n){t.toast.message("Unable to communicate with server: "+n)}})};var o=function(n){if(n.indexOf("{{components}}")>0){t.cirsim.root;var o="<ul>";t.palette.palette.forEach((function(t){if(void 0!==t.help){var e=t.label;switch(e){case"0":e="Zero";break;case"1":e="One"}o+='<li><a href="'.concat(t.help,'.html">').concat(e,"</a> <em>").concat(t.desc,"</em></li>")}})),o+="</ul>",n=n.replace("{{components}}",o)}var r=t.cirsim.root;n=(n=n.replace(/src="img\//g,'src="'+r+"cirsim/help/img/")).replace(/href="/g,'href="'+r+"cirsim/help/");var s=e.element.querySelector(".cirsim-help");if(null!==s){s.innerHTML=n;var a,c=ft(s.querySelectorAll("a"));try{for(c.s();!(a=c.n()).done;){a.value.addEventListener("click",(function(t){t.preventDefault(),i.presentAbsolute(t.target.href)}))}}catch(t){c.e(t)}finally{c.f()}}};this.home=function(){this.present("")},this.back=function(){if(!(n.length<2)){n.pop();var t=n[n.length-1];n.pop(),this.presentAbsolute(t)}}},yt=function(t){tt.call(this,"help"),this.open=function(e){this.buttonCancel=null,this.resize="both";var i=new mt(t,this),n=i.html();this.contents(n,"Cirsim Help"),this.titleBarButtons=[{type:"custom",contents:'<span class="icons-cl icons-cl-arrowthick-1-w">',click:function(){i.back()}},{type:"custom",contents:'<span class="icons-cl icons-cl-home">',click:function(){i.home()}},{type:"close"}],tt.prototype.open.call(this),i.present(e)}};(yt.prototype=Object.create(tt.prototype)).constructor=yt;var gt=function(t,e){this.html=function(){return'<li><a>Help</a><ul class="help-menu"><li><a class="help-help">Help</a></li><li><a class="help-docked-help">Docked Help<img></a></li><li><a class="help-about">About...</a></li></ul></li>'},this.componentHelp=function(t){(t="cirsim/help/"+t+".html",e.isHelpDocked())?e.help.url(t):new yt(e).open(t)},this.activate=function(){t.click(".help-about",(function(t){new dt(e).open()})),t.click(".help-help",(function(t){e.isHelpDocked()?e.help.home():new yt(e).open("")})),t.click(".help-docked-help",(function(t){e.dockedHelp(!e.isHelpDocked())}))},this.opening=function(){e.isHelpDocked()?U.addClass(t.find(".help-docked-help img"),"check"):U.removeClass(t.find(".help-docked-help img"),"check")}};function bt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return At(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return At(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var wt=function(t){var e=this,i=new rt(this,t),n=new st(this,t),o=new ut(this,t),r=new ht(this,t),s=new gt(this,t);this.helpMenu=s,this.nav=null,this.ul=null;var a=function(t){for(var i=t.target.parentNode;null!==i;i=i.parentNode)if(i===e.nav)return;e.closeAll()},c=function(t){var n,c=bt(e.ul.childNodes);try{for(c.s();!(n=c.n()).done;){var h=n.value;if("LI"===h.tagName){var d=U.child(h,"UL");null!==d&&U.removeClass(d,"menu-open")}}}catch(t){c.e(t)}finally{c.f()}l(".edit-delete"),u(".edit-properties"),i.opening(),o.opening(),r.opening(),s.opening();var p=U.child(t,"UL");null!==p&&U.addClass(p,"menu-open"),document.addEventListener("click",a),document.addEventListener("mousedown",a)};this.closeAll=function(){var t,i=bt(e.ul.childNodes);try{for(i.s();!(t=i.n()).done;){var n=t.value;if("LI"===n.tagName){var o=U.child(n,"UL");null!==o&&U.removeClass(o,"menu-open")}}}catch(t){i.e(t)}finally{i.f()}document.removeEventListener("click",a),document.removeEventListener("mousedown",a)},this.enable=function(t,i){var n=e.ul.querySelector(t);null!==n&&(i?U.removeClass(n.parentNode,"menu-disabled"):U.addClass(n.parentNode,"menu-disabled"))};var l=function(i){e.enable(i,t.currentView().selection.selection.length>0)},u=function(i){1===t.currentView().selection.selection.length&&t.currentView().selection.selection[0]instanceof ot?e.enable(i,!0):e.enable(i,!1)};this.find=function(t){return e.ul.querySelector(t)},this.click=function(t,i){var n=e.find(t);null!==n&&n.addEventListener("click",(function(t){t.preventDefault(),e.closeAll(),i(t)}))},function(){e.nav=document.createElement("nav"),U.addClass(e.nav,"menubar"),t.div.appendChild(e.nav);var a=document.createElement("ul");e.nav.appendChild(a),e.ul=a;var l="";l+=i.html(),l+=n.html(),t.options.tabsMenu&&(l+=o.html()),l+=r.html(),l+=s.html();var u,h=0,d=bt(t.test.tests);try{for(d.s();!(u=d.n()).done;){var p=u.value;l+='<li><a class="cirsim-test-'+h+'">'+p.name+"</a></li>",h++}}catch(t){d.e(t)}finally{d.f()}a.innerHTML=l;var f,v=bt(a.childNodes);try{var m=function(){var t=f.value;"LI"===t.tagName&&t.addEventListener("click",(function(i){i.preventDefault();var n=U.child(t,"UL");null!==n&&("hidden"===getComputedStyle(n).getPropertyValue("visibility")?c(t):e.closeAll())}))};for(v.s();!(f=v.n()).done;)m()}catch(t){v.e(t)}finally{v.f()}h=0;var y,g=bt(t.test.tests);try{var b=function(){var i=y.value,n=".cirsim-test-"+h;e.click(n,(function(e){e.preventDefault(),t.test.runTestDlg(i)})),h++};for(g.s();!(y=g.n()).done;)b()}catch(t){g.e(t)}finally{g.f()}i.activate(),n.activate(),o.activate(),r.activate(),s.activate()}()},xt=function(t,e){this.width=t,this.height=e,this.scale=t/60;var i=e/this.scale;this.element=document.createElement("canvas"),this.element.style.width="60px",this.element.style.height=i+"px",this.element.style.backgroundColor="transparent",this.canvas=this.element,this.canvas.height=this.height,this.canvas.width=this.width,this.context=this.canvas.getContext("2d"),this.context.lineWidth=this.scale};xt.prototype.box=function(t,e){var i=this.width/2,n=this.height/2,o=i-t/2-.5,r=i+t/2+.5,s=n-e/2-.5,a=n+e/2+.5;this.context.beginPath(),this.context.moveTo(o,s),this.context.lineTo(r,s),this.context.lineTo(r,a),this.context.lineTo(o,a),this.context.lineTo(o,s),this.fillStroke()},xt.prototype.circle=function(t,e,i){t+=this.width/2,e+=this.height/2;var n=this.context.fillStyle;this.context.fillStyle="#ffffff",this.context.beginPath(),this.context.arc(t,e,i,0,2*Math.PI),this.context.fill(),this.context.fillStyle=n,this.context.beginPath(),this.context.arc(t,e,i,0,2*Math.PI),this.context.stroke()},xt.prototype.io=function(t,e,i,n,o){n=void 0!==n?n:1,o=void 0!==o?o:1,t+=this.width/2,e+=this.height/2;for(var r=0;r<n;r++){this.context.beginPath(),this.context.moveTo(t,e);var s=6*this.scale;switch(i){case"w":case"W":this.context.lineTo(t-s,e);break;case"e":case"E":this.context.lineTo(t+s,e);break;case"n":case"N":this.context.lineTo(t,e-s);break;case"s":case"S":this.context.lineTo(t,e+s)}this.context.stroke(),e+=o}},xt.prototype.clock=function(t,e,i){this.io(t,e,i),this.context.beginPath();switch(t+=this.width/2,e+=this.height/2,i){case"n":case"N":this.context.moveTo(t-3,e),this.context.lineTo(t,e+3),this.context.lineTo(t+3,e)}this.context.stroke()},xt.prototype.drawText=function(t,e,i,n){var o=this.context;o.beginPath(),o.font=void 0!==n?n:"14px Times",o.textAlign="center",o.fillText(t,e+this.width/2,i+this.height/2),o.stroke()},xt.prototype.drawTextBar=function(t,e,i,n){var o=this.context,r=o.lineWidth;this.drawText(t,e,i,n),o.lineWidth=1;var s=o.measureText(t);o.beginPath(),i+=this.height/2-16,o.moveTo(e+this.width/2-s.width/2,i),o.lineTo(e+this.width/2+s.width/2,i),o.stroke(),o.lineWidth=r},xt.prototype.fillStroke=function(t){void 0===t&&(t="white");var e=this.context.fillStyle;this.context.fillStyle=t,this.context.fill(),this.context.fillStyle=e,this.context.stroke()},xt.prototype.lineWidth=function(t){var e=this.context.lineWidth;return this.context.lineWidth=t,e};var kt=function(t,e,i){this.palette=t,this.obj=e,this.circuit=void 0!==i?i.name:null;var n=this.paletteImage(e),o=U.createClassedDiv("cs-item"),r=U.createClassedDiv("cs-box");o.appendChild(r);var s=U.createClassedDiv("cs-img");r.appendChild(s),s.appendChild(n);var a=U.createClassedDiv("cs-desc");e.label.length>7&&U.addClass(a,"long"),a.innerText=void 0!==i?i.name:e.label,r.appendChild(a),this.element=o,t.main.dragAndDrop.draggable(this)};kt.prototype.paletteImage=function(){var t=this.obj;if(null!==t.img&&void 0!==t.img){var e=this.palette.cirsim.root,i=document.createElement("img");return i.setAttribute("src",e+"cirsim/img/"+t.img),i.setAttribute("alt",t.desc),i.setAttribute("title",t.desc),i.setAttribute("draggable","false"),i}if(void 0!==t.paletteImage)return t.paletteImage().element;var n=new xt(60,60);return n.box(30,40),n.io(15,20,"w",2,20),n.io(45,20,"e",2,20),n.drawText(t.label,0,0,"6px Times"),n.element};var It=function(){};It.roundedRect=function(t,e,i,n,o,r){n<2*r&&(r=n/2),o<2*r&&(r=o/2),t.beginPath(),t.moveTo(e+r,i),t.arcTo(e+n,i,e+n,i+o,r),t.arcTo(e+n,i+o,e,i+o,r),t.arcTo(e,i+o,e,i,r),t.arcTo(e,i,e+n,i,r),t.closePath()},It.fillWith=function(t,e){var i=t.fillStyle;t.fillStyle=void 0!==e?e:"#ffffff",t.fill(),t.fillStyle=i},It.fillTextWith=function(t,e,i,n,o){var r=t.fillStyle;t.fillStyle=void 0!==o?o:"#ffffff",t.fillText(e,i,n),t.fillStyle=r};function Ct(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Et=function(t){ot.call(this),this.height=160,this.width=80,this.circuitName=void 0!==t?t.circuit:void 0,this.circuitRef=null,this.circuitIns=[],this.circuitOuts=[]};function St(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ot(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ot(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}(Et.prototype=Object.create(ot.prototype)).constructor=Et,Et.type="CircuitRef",Et.label="REF",Et.desc="Circuit Component",Et.img="circuitref.png",Et.order=99,Et.description="<h2>Circuit Component</h2><p>A Circuit Component uses anotherCirsim circuit as a component in the current circuit</p>",Et.prototype.compute=function(t){this.getCircuitRef();for(var e=0;e<this.ins.length&&e<this.circuitIns.length;e++)this.circuitIns[e].set(t[e]);for(var i=0;i<this.outs.length&&i<this.circuitOuts.length;i++)this.outs[i].set(this.circuitOuts[i].get())},Et.prototype.advance=function(t){null!==this.circuitRef&&this.circuitRef.advance(t);for(var e=0;e<this.outs.length&&e<this.circuitOuts.length;e++)this.outs[e].set(this.circuitOuts[e].get());return!0},Et.prototype.getCircuitRef=function(){return null!==this.circuitRef?(this.circuitRef.circuits=this.circuit.circuits,this.circuitRef):null===this.circuit.circuits.getCircuit(this.circuitName)?null:(this.circuitRef=this.circuit.circuits.getCircuit(this.circuitName).copy_clone(),this.circuitRef.circuits=this.circuit.circuits,this.circuitRef.newTab(),this.circuitRef.pending(),this.ensureIO(),this.circuitRef)},Et.prototype.newTab=function(){this.circuitRef=null,this.circuitIns=[],this.circuitOuts=[]},Et.prototype.update=function(){this.circuitRef=null,this.circuitIns=[],this.circuitOuts=[],this.ensureIO()},Et.prototype.ensureIO=function(){var t=this.circuitRef;if(null!==t){var e=function(e,i){var n,o=t.getComponentsByType(e),r=Ct(t.getComponentsByType(i));try{for(r.s();!(n=r.n()).done;){var s=n.value;o.push(s)}}catch(t){r.e(t)}finally{r.f()}return o.sort((function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})),o},i=function(t){var e,i={},n=Ct(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;i[o.id]=o}}catch(t){n.e(t)}finally{n.f()}return i},n=e("InPin","InPinBus"),o=i(n);if(0===this.circuitIns.length)for(var r=0;r<n.length;r++)n[r].set(void 0);this.circuitIns=n;var s=e("OutPin","OutPinBus"),a=i(s);if(this.circuitOuts=s,n.length===this.ins.length&&s.length===this.outs.length){for(var c=!1,l=0;l<n.length;l++)if(this.ins[l].name!==n[l].naming||this.ins[l].bus!==("InPinBus"===n[l].constructor.type)){c=!0;break}for(var u=0;u<s.length;u++)if(this.outs[u].name!==s[u].naming||this.outs[u].bus!==("OutPinBus"===s[u].constructor.type)){c=!0;break}if(!c)return}var h=n.length>s.length?n.length:s.length;this.height=16*h+32,this.height<48&&(this.height=48);var d=this.width/2,p=-this.height/2+8,f=function(t,e){var i,n={},o=Ct(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;null!==r.reference&&void 0!==e[r.reference]?n[e[r.reference].naming]=r:n[r.name]=r}}catch(t){o.e(t)}finally{o.f()}return n},v=f(this.ins,o);this.ins=[];var m=0;for(m=0;m<n.length;m++){var y=void 0;void 0!==v[n[m].naming]?(y=v[n[m].naming],this.ins.push(y),y.name=n[m].naming,y.x=-d,y.y=p+16*m,y.len=16,v[n[m].naming]=null):y=this.addIn(-d,p+16*m,16,n[m].naming),y.bus="InPinBus"===n[m].constructor.type,y.index=m,y.reference=n[m].id}for(var g in v)null!==v[g]&&v[g].clear();var b=f(this.outs,a);for(this.outs=[],m=0;m<s.length;m++){var A=void 0;void 0!==b[s[m].naming]?(A=b[s[m].naming],this.outs.push(A),A.name=s[m].naming,A.x=d,A.y=p+16*m,A.len=16,b[s[m].naming]=null):A=this.addOut(d,p+16*m,16,s[m].naming),A.index=m,A.bus="OutPinBus"===s[m].constructor.type,A.reference=s[m].id}for(var w in b)null!==b[w]&&b[w].clear()}},Et.prototype.clone=function(){var t=new Et;t.circuitName=this.circuitName;for(var e=0;e<this.ins.length;e++){var i=this.ins[e].clone();i.component=t,t.ins.push(i)}for(var n=0;n<this.outs.length;n++){var o=this.outs[n].clone();o.component=t,t.outs.push(o)}return null!==this.circuitRef&&(t.circuitRef=this.circuitRef.copy_clone(),t.ensureIO()),t.copyFrom(this),t},Et.prototype.load=function(t){this.circuitName=t.circuitName,ot.prototype.load.call(this,t),this.getCircuitRef()},Et.prototype.save=function(){var t=ot.prototype.save.call(this);return t.circuitName=this.circuitName,t},Et.prototype.draw=function(t,e){this.getCircuitRef(),this.ensureIO(),this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=(this.x,this.width,this.y-this.height/2-.5);this.y,this.height;t.beginPath(),t.rect(i,n,this.width,this.height),It.fillWith(t),t.stroke(),t.font="14px Times",t.textAlign="center",null!==this.naming&&t.fillText(this.naming,this.x,this.y-10),t.fillText(this.circuitName,this.x,this.y+this.height/2-5),t.stroke(),this.drawIO(t,e)};var Bt=function(t,e){var i=this;this.main=t,this.cirsim=t.cirsim,this.palette=[];var n=null,o=[],r=function(e){var r=e.type;if(w.inArray(r,o)||w.inArray(r,t.options.always)){i.palette.push(e);var s=new kt(i,e);n.appendChild(s.element)}};this.refresh=function(){var e,i=St(n.querySelectorAll(".cs-circuitref"));try{for(i.s();!(e=i.n()).done;){var o=e.value;n.removeChild(o)}}catch(t){i.e(t)}finally{i.f()}for(var r=t.currentView().tabnum+1;r<t.model.circuits.circuits.length;r++){var s=t.model.circuits.circuits[r],a=new kt(this,Et,s);a.element.classList.add("cs-circuitref"),n.appendChild(a.element)}},function(){if(n=U.createClassedDiv("cs-palette"),e.appendChild(n),"string"==typeof t.options.components){if(null===(o=t.components.getPalette(t.options.components)))throw new Error("options.components invalid name "+t.options.components)}else t.options.components.forEach((function(e){var i=t.components.getPalette(e);null!==i?o=o.concat(i):("not"===e.toLowerCase()&&(e="Inverter"),"decoder"===e.toLowerCase()&&(e="BusDecoder"),o.push(e))}));t.components.components.forEach((function(t){r(t)}))}()},zt=function(){};zt.sanitize=function(t){return H().sanitize(t)},zt.boolean=function(t){return!0===t},zt.htmlentities=function(t){return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")};var jt=i(80),Mt=i.n(jt),Rt=0,Lt=function(){var t=this;this.time=1,this.view=null,this.speed=1e-6,this.instance=++Rt,this.order=1,this.priorityQueue=new(Mt().PriorityQueue)((function(t,e){return t.time===e.time?e.order-t.order:e.time-t.time})),this.setView=function(t){this.view=t,null===this.view||e||(e=!0,requestAnimationFrame(o))};var e=!1,i=null,n=!1,o=function o(r){e=!1,null===i&&(i=r);var s=.001*(r-i);for(i=r,s>1&&(s=1);s>0;){var a=s;a>.03&&(a=.03),t.advance(a*t.speed)&&null!==t.view&&t.view.draw(),s-=a}null===t.view||n||(e=!0,requestAnimationFrame(o))};this.kill=function(){n=!0}};function Nt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Lt.prototype.queue=function(t,e,i){var n=1e-9*e;this.priorityQueue.add({time:this.time+n,order:this.order,component:t,state:i}),this.order++},Lt.prototype.advance=function(t){for(var e=!1;!this.priorityQueue.isEmpty()&&this.priorityQueue.peek().time<=this.time+t;){var i=this.priorityQueue.dequeue(),n=i.time-this.time;t-=n,this.time=i.time,n>0&&null!==this.view&&this.view.advance(n)&&(e=!0),i.component.compute(i.state),e=!0}return this.time+=t,t>0&&null!==this.view&&this.view.advance(t)&&(e=!0),e};var Pt=function(t,e){this.model=t,this.circuits=[],this.grid=8,this.snap=!0,this.id=null!==t?t.id:void 0,this.simulation=e||new Lt,this.prev=null};function Ut(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return qt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Pt.prototype.add=function(t){return this.circuits.push(t),t.circuits=this,t},Pt.prototype.insert=function(t){return this.circuits.unshift(t),t.circuits=this,t},Pt.prototype.getCircuits=function(){return this.circuits.slice()},Pt.prototype.getCircuit=function(t){for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e];if(i.name===t)return i}return null},Pt.prototype.advance=function(t){for(var e=!1,i=0;i<this.circuits.length;i++){this.circuits[i].advance(t)&&(e=!0)}return e},Pt.prototype.canDelete=function(t){if(0===t)return!1;for(var e=this.circuits[t],i=0;i<t;i++){if(this.circuits[i].references(e).length>0)return!1}return!0},Pt.prototype.canMoveLeft=function(t){if(t<2)return!1;var e=this.circuits[t];return 0===this.circuits[t-1].references(e).length},Pt.prototype.canMoveRight=function(t){if(0===t||t===this.circuits.length-1)return!1;var e,i=this.circuits[t+1].name,n=Nt(this.circuits[t].references());try{for(n.s();!(e=n.n()).done;){if(e.value.circuitName===i)return!1}}catch(t){n.e(t)}finally{n.f()}return!0},Pt.prototype.moveLeft=function(t){if(this.canMoveLeft(t)){this.model.backup();var e=this.circuits[t-1];return this.circuits[t-1]=this.circuits[t],this.circuits[t]=e,!0}return!1},Pt.prototype.moveRight=function(t){if(this.canMoveRight(t)){this.model.backup();var e=this.circuits[t+1];return this.circuits[t+1]=this.circuits[t],this.circuits[t]=e,!0}return!1},Pt.prototype.rename=function(t,e){this.model.backup();for(var i=this.circuits[t],n=0;n<t;n++){var o,r=Nt(this.circuits[n].references(i));try{for(r.s();!(o=r.n()).done;){o.value.circuitName=e}}catch(t){r.e(t)}finally{r.f()}}i.setName(e)},Pt.prototype.newTab=function(){for(var t=this.circuits.length-1;t>=0;t--)this.circuits[t].newTab()},Pt.prototype.recompute=function(){for(var t=this.circuits.length-1;t>=0;t--)this.circuits[t].recompute()},Pt.prototype.clone=function(){var t=new Pt(this.model,this.simulation);t.grid=this.grid,t.snap=this.snap,t.prev=this.prev,this.prev=t;for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e];t.add(i.clone())}return t},Pt.prototype.update=function(t){var e,i=Nt(this.circuits);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n===t)break;n.update()}}catch(t){i.e(t)}finally{i.f()}},Pt.prototype.toJSON=function(){return JSON.stringify(this.save())},Pt.prototype.fmJSON=function(t){var e=JSON.parse(t);this.load(e)},Pt.prototype.save=function(){for(var t=[],e=0;e<this.circuits.length;e++){var i=this.circuits[e];t.push(i.save())}var n={grid:this.grid,circuits:t,id:this.id};return this.snap&&(n.snap=!0),n},Pt.prototype.load=function(t){this.grid=+t.grid,this.snap=zt.boolean(t.snap),this.prev=null,this.circuits=[],void 0!==t.id&&(this.id=zt.sanitize(t.id));for(var e=t.circuits.length-1;e>=0;e--){var i=t.circuits[e],n=new Ht(i.name);this.insert(n),n.load(i)}for(var o=this.circuits.length-1;o>=0;o--)this.circuits[o].pending()},Pt.prototype.addCircuit=function(t){var e=new Ht(t);this.add(e)},Pt.prototype.deleteCircuitByIndex=function(t){this.circuits.splice(t,1)},Pt.prototype.getComponentByNaming=function(t){for(var e=0;e<this.circuits.length;e++){var i=this.circuits[e].getComponentByNaming(t);if(null!==i)return i}return null},Pt.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.circuits.length;i++){var n=this.circuits[i].getComponentsByType(t);e=e.concat(n)}return e},Pt.prototype.replaceCircuit=function(t){t.circuits=this;for(var e=0;e<this.circuits.length;e++)if(this.circuits[e].name===t.name){this.circuits[e]=t,t.components.forEach((function(t){t.pending()})),this.model.newTab();break}};var Ht=function(t){this.circuits=null,this.components=[],this.name=t,this.width=this.defWidth,this.height=this.defHeight,this.prev=null,this.touch=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touch(t,e);if(null!==n)return n}return null},this.advance=function(t){for(var e=!1,i=0;i<this.components.length;i++){this.components[i].advance(t)&&(e=!0)}return e}};function Ft(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return _t(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _t(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Ht.prototype.defWidth=1920,Ht.prototype.defHeight=1080,Ht.prototype.clone=function(){var t=new Ht(this.name);t.width=this.width,t.height=this.height,t.prev=this.prev,this.prev=t;for(var e=0;e<this.components.length;e++){var i=(o=this.components[e]).clone();t.add(i)}for(var n=0;n<this.components.length;n++)for(var o=this.components[n],r=0;r<o.outs.length;r++)for(var s=o.outs[r],a=0;a<s.to.length;a++)s.to[a].clone();return t},Ht.prototype.copy_clone=function(){var t=new Ht(this.name);t.width=this.width,t.height=this.height;for(var e=0;e<this.components.length;e++){var i=(n=this.components[e]).clone();t.add(i)}for(e=0;e<this.components.length;e++)for(var n=this.components[e],o=0;o<n.outs.length;o++)for(var r=n.outs[o],s=0;s<r.to.length;s++)r.to[s].clone();return t},Ht.prototype.update=function(){var t,e=Ut(this.components);try{for(e.s();!(t=e.n()).done;){t.value.update()}}catch(t){e.e(t)}finally{e.f()}},Ht.prototype.draw=function(t,e){this.components.forEach((function(i,n,o){i.draw(t,e)}))},Ht.prototype.newTab=function(){for(var t=0;t<this.components.length;t++){this.components[t].newTab()}},Ht.prototype.recompute=function(){for(var t=0;t<this.components.length;t++)this.components[t].pending()},Ht.prototype.inRect=function(t){for(var e=[],i=this.components.length-1;i>=0;i--)this.components[i].inRect(t,e);return e},Ht.prototype.snapIt=function(t){this.circuits.snap&&(t.x=this.circuits.grid*Math.round(t.x/this.circuits.grid),t.y=this.circuits.grid*Math.round(t.y/this.circuits.grid))},Ht.prototype.add=function(t){return this.components.push(t),t.added(this),t},Ht.prototype.delete=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e]===t){this.components.splice(e,1);break}},Ht.prototype.touchIn=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touchIn(t,e);if(null!==n)return n}return null},Ht.prototype.touchOut=function(t,e){for(var i=this.components.length-1;i>=0;i--){var n=this.components[i].touchOut(t,e);if(null!==n)return n}return null},Ht.prototype.save=function(){for(var t=[],e=0;e<this.components.length;e++){var i=this.components[e];t.push(i.save())}for(var n=[],o=0;o<this.components.length;o++){var r=this.components[o];n=n.concat(r.saveConnections())}return{name:this.name,width:this.width,height:this.height,components:t,connections:n}},Ht.prototype.load=function(t){this.name=zt.sanitize(t.name),this.width=+t.width,this.height=+t.height;for(var e={},i=0;i<t.components.length;i++){var n=t.components[i],o=void 0;if(null!==(o="CircuitRef"===n.type?Et:this.circuits.model.main.components.get(n.type))){var r=new o;r.circuit=this,r.load(n),e[r.id]=r,this.add(r)}else console.log(n)}for(var s=0;s<t.connections.length;s++){var a=t.connections[s],c=e[a.from];if(void 0!==c){var l=e[a.to];if(void 0!==l){var u=a.out,h=a.in,d=this.connect(c,u,l,h);null!==d&&d.load(a)}else console.log("To object undefined"),console.log(this),console.log(a)}else console.log("From object undefined"),console.log(this),console.log(a)}},Ht.prototype.getComponentByNaming=function(t){for(var e=0;e<this.components.length;e++){var i=this.components[e];if(i.naming===t)return i}return null},Ht.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.components.length;i++){var n=this.components[i];n.constructor.type===t&&e.push(n)}return e},Ht.prototype.mouseUp=function(){for(var t=0;t<this.components.length;t++){this.components[t].mouseUp()}},Ht.prototype.connect=function(t,e,i,n){return t.outs.length<=e||i.ins.length<=n?null:new M(t.outs[e],i.ins[n])},Ht.prototype.getComponentsByType=function(t){for(var e=[],i=0;i<this.components.length;i++){var n=this.components[i];n.constructor.type===t&&e.push(n)}return e},Ht.prototype.maxXY=function(){for(var t=1,e=1,i=0;i<this.components.length;i++){var n=this.components[i].bounds();n.right>t&&(t=n.right),n.bottom>e&&(e=n.bottom)}return{x:t+16,y:e+16}},Ht.prototype.bounds=function(){if(0===this.components.length)return new k;for(var t=this.components[0].bounds(),e=0;e<this.components.length;e++){var i=this.components[e].bounds();t.expand(i)}return t},Ht.prototype.pending=function(){for(var t=0;t<this.components.length;t++){this.components[t].pending()}},Ht.prototype.getName=function(){return this.name},Ht.prototype.setName=function(t){this.name=t},Ht.prototype.stats=function(){var t=0;return this.components.forEach((function(e){e.outs.forEach((function(e){t+=e.to.length}))})),{name:this.name,numComponents:this.components.length,numConnections:t,width:this.width,height:this.height}},Ht.prototype.moveToFront=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e]===t){this.components.splice(e,1),this.components.push(t);break}},Ht.prototype.references=function(t){var e,i=[],n=Ut(this.components);try{for(n.s();!(e=n.n()).done;){var o=e.value;o instanceof Et&&(void 0!==t?o.circuitName===t.name&&i.push(o):i.push(o))}}catch(t){n.e(t)}finally{n.f()}return i};var Qt=function(t){this.main=t,this.circuits=new Pt(this),this.circuits.add(new Ht("main"))};Qt.prototype.getCircuit=function(t){return this.circuits.getCircuit(t)},Qt.prototype.undo=function(){null!==this.circuits.prev&&(this.circuits=this.circuits.prev)},Qt.prototype.backup=function(){this.circuits.clone()},Qt.prototype.status=function(){var t,e=0,i=this.circuits,n=Ft(i.circuits);try{for(n.s();!(t=n.n()).done;){for(var o=t.value,r=0,s=o;null!==s;)r++,s=s.prev;console.log("circuit depth: "+r)}}catch(t){n.e(t)}finally{n.f()}for(;null!==i;)e++,i=i.prev;console.log("circuits depth: "+e)},Qt.prototype.update=function(t){this.circuits.update(t)},Qt.prototype.toJSON=function(){return this.circuits.toJSON()},Qt.prototype.fmJSON=function(t){this.circuits.simulation.setView(null),this.circuits=new Pt(this),this.circuits.fmJSON(t)},Qt.prototype.getSimulation=function(){return this.circuits.simulation},Qt.prototype.newTab=function(){this.circuits.newTab(),this.recompute()},Qt.prototype.recompute=function(){this.circuits.recompute()},Qt.prototype.addCircuit=function(t){this.backup(),this.circuits.addCircuit(t)},Qt.prototype.deleteCircuitByIndex=function(t){this.backup(),this.circuits.deleteCircuitByIndex(t)},Qt.prototype.getComponentByNaming=function(t){return this.circuits.getComponentByNaming(t)},Qt.prototype.getComponentsByType=function(t){return this.circuits.getComponentsByType(t)},Qt.prototype.replaceCircuit=function(t){this.circuits.replaceCircuit(t)},Qt.prototype.kill=function(){this.getSimulation().kill()};var Xt=function(t){var e=this;this.selection=[];var i=!1,n=!1,o=null;this.mouseDown=function(e,r,s){i=!0,n=!0;var a=t.circuit.touch(e,r);null!==a?a.single()?this.selection=[a]:this.isSelected(a)||(s.shiftKey||(this.selection=[]),this.selection.push(a)):(s.shiftKey||(this.selection=[]),o=new k(e,r,e,r));for(var c=0;c<this.selection.length;c++)this.selection[c].grab()},this.mouseMove=function(e,r,s,a){if(i){if(n){if(null===o&&this.selection.length>0&&t.model.backup(),1===this.selection.length){var c=this.selection[0].spawn(e,r);null!==c&&(this.selection=[c])}n=!1}if(null!==o)o.setRightBottom(e,r);else for(var l=0;l<this.selection.length;l++)this.selection[l].move(s,a);t.model.update(t.circuit)}},this.mouseUp=function(e,n){if(i){for(var s=!1,a=0;a<this.selection.length;a++)this.selection[a].single()&&(s=!0),this.selection[a].drop();s&&(this.selection=[])}i=!1,null!==o&&(r(),o=null),t.circuit.mouseUp()};var r=function(){if(o.normalize(),!o.isEmpty()){var i=t.circuit.inRect(o);if(i.length>0){for(var n=e.selection.slice(),r=0;r<i.length;r++)e.isSelected(i[r])||n.push(i[r]);e.selection=n}}};this.isSelected=function(t){for(var e=0;e<this.selection.length;e++)if(t===this.selection[e])return!0;return!1},this.draw=function(t){null!==o&&(t.setLineDash||(t.setLineDash=function(){}),t.strokeStyle="#888888",t.setLineDash([2,3]),t.beginPath(),t.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),t.stroke(),t.setLineDash([]))},this.getSelection=function(){return this.selection},this.clear=function(){this.selection=[]}};Xt.prototype.delete=function(){this.selection.forEach((function(t){t.delete()})),this.clear()};function Wt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Yt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Jt=function(t){this.api=t};Jt.prototype.errors=function(){return void 0!==this.api.errors?this.api.errors:null},Jt.prototype.fetch=function(t){if(void 0===this.api.data)return[];var e=[];return this.api.data.forEach((function(i){i.type===t&&e.push(i)})),e},Jt.prototype.getData=function(t){if(void 0===this.api.data)return[];var e,i=Wt(this.api.data);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.type===t)return n}}catch(t){i.e(t)}finally{i.f()}return null};var Vt=function(t,e,i){tt.call(this),this.buttonOk=null,this.open=function(n){var o=this;this.contents("<p>Loading tab from server...</p>","Loading tab..."),tt.prototype.open.call(this);var r=e.getAPI("import"),s={};Object.assign(s,r.extra),Object.assign(s,t.extra),null!==r&&pt.do({url:r.url,data:Object.assign({cmd:"open",name:t.name},s),method:"GET",dataType:"json",success:function(t){var e=new Jt(t);if(!i.jsonErrors(e)){var r=t.data[0].attributes.data;n(r)}o.close()},error:function(t,e,n){console.log(t.responseText),i.message("Unable to communicate with server: "+n),o.close()}})}};(Vt.prototype=Object.create(tt.prototype)).constructor=Vt;i(425);var Gt=i(105),Kt=function(t){tt.call(this);var e=this.uniqueId();this.open=function(){var t='<div class="control"><label for="'.concat(e,'">Name</label>\n<input type="text" id="').concat(e,'" value="circuit" class="text ui-widget-content ui-corner-all">\n</div>\n<p>Enter a name for the exported .png file.</p>');this.buttonOk="Export",this.contents(t,"Cirsim Export PNG"),tt.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=this.sanitize(document.getElementById(e).value).replace(/^\s+|\s+$/gm,"").replace(/\.[^/.]+$/,"");if(0===i.length)this.error("You must supply a name");else{this.close(),i.endsWith(".png")||(i+=".png");var n=t.circuit,o=document.createElement("canvas"),r=n.bounds(),s=r.right-r.left+2,a=r.bottom-r.top+2;o.style.width=s+"px",o.style.height=a+"px",o.width=s,o.height=a;var c=o.getContext("2d");c.fillStyle="white",c.fillRect(0,0,o.width,o.height),c.translate(1-r.left,1-r.top),n.draw(c,t),o.toBlob((function(t){(0,Gt.Z)(t,i)}))}}};(Kt.prototype=Object.create(tt.prototype)).constructor=Kt;var Zt=function(t,e,i){var n=this;Object.defineProperties(this,{main:{get:function(){return t}},circuit:{get:function(){return i},set:function(t){i=t}},element:{get:function(){return e}},model:{get:function(){return i.circuits.model}}}),this.selection=new Xt(this),this.tabnum=-1,e.addEventListener("dragover",(function(t){t.preventDefault()})),e.addEventListener("drop",(function(t){t.preventDefault()})),this.initialize=function(){n.setSize(),t.dragAndDrop.droppable(n,(function(t,e,i){var o=t.obj;if(void 0!==o){n.model.backup();var r=new o(t);r.brand(),r.x=e,r.y=i,n.circuit.add(r),n.circuit.snapIt(r),n.ensureSize(),n.draw()}}));var i={x:0,y:0},o={x:0,y:0},r={x:0,y:0},s=function(s,u,h,d){var p=U.offset(e);r={x:s,y:u},o.x=s-p.left,o.y=u-p.top,i.x=o.x,i.y=o.y,"inline"!==t.options.display?(n.selection.mouseDown(o.x,o.y,d),n.draw(),h?e.addEventListener("touchmove",l):e.addEventListener("mousemove",c),e.parentNode.addEventListener("scroll",a)):n.circuit.touch(o.x,o.y)},a=function(){var t=U.offset(e);o.x=r.x-t.left,o.y=r.y-t.top,n.selection.mouseMove(o.x,o.y,o.x-i.x,o.y-i.y),i.x=o.x,i.y=o.y,n.draw()},c=function(t){t.preventDefault(),u(t.pageX,t.pageY,!1)},l=function(t){t.preventDefault();var e=t.changedTouches[0];u(e.pageX,e.pageY,!0)},u=function(t,s,a){if(t!==r.x||s!==r.y){var c=U.offset(e);r={x:t,y:s},o.x=t-c.left,o.y=s-c.top,n.selection.mouseMove(o.x,o.y,o.x-i.x,o.y-i.y),n.ensureSize(),i.x=o.x,i.y=o.y,n.draw()}},h=function(t,r,s){e.parentNode.removeEventListener("scroll",a);var c=U.offset(e);o.x=t-c.left,o.y=r-c.top,n.selection.mouseUp(o.x,o.y),i.x=o.x,i.y=o.y,n.draw()};e.addEventListener("mousedown",(function(t){t.preventDefault(),s(t.pageX,t.pageY,!1,t)})),e.addEventListener("dblclick",(function(e){(e.preventDefault(),1===n.selection.selection.length&&n.selection.selection[0]instanceof ot)&&n.selection.selection[0].properties(t)})),document.querySelector("body").addEventListener("mouseup",(function(t){e.removeEventListener("mousemove",c),h(t.pageX,t.pageY,!1)})),e.addEventListener("touchstart",(function(t){t.preventDefault();var e=t.changedTouches[0];s(e.pageX,e.pageY,!0,t)})),e.addEventListener("touchend",(function(t){t.preventDefault();var e=t.changedTouches[0];h(e.pageX,e.pageY,!0)})),e.addEventListener("touchcancel",(function(t){var e=t.changedTouches[0];h(e.pageX,e.pageY,!0)}))},this.draw=function(){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.circuit.draw(t,this),this.selection.draw(t)},this.delete=function(){this.model.backup(),this.selection.delete(),this.draw()},this.advance=function(t){return this.circuit.circuits.advance(t)},this.ensureSize=function(){var t=this.circuit.bounds(),n=t.right+1,o=t.bottom+1;n>e.offsetWidth&&(e.style.width=n+"px",e.setAttribute("width",n),i.width=n),o>e.offsetHeight&&(e.style.height=t.bottom+"px",e.setAttribute("height",t.bottom),i.height=t.bottom)},this.setSize=function(){e.offsetWidth===this.circuit.width&&e.offsetHeight===this.circuit.height||(e.style.width=this.circuit.width+"px",e.style.height=this.circuit.height+"px",e.width=this.circuit.width,e.height=this.circuit.height)},this.initialize(),this.draw()};function $t(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return te(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return te(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Zt.prototype.importTab=function(t){var e=this;this.selection.clear(),new Vt(t,this.main.options,this.main.toast).open((function(i){e.model.backup();var n=new Qt(e.main);n.fmJSON(i);var o=n.getCircuit(t.from);null!==o&&(o.name=t.into,e.main.model.replaceCircuit(o),e.circuit=o,e.draw())}))},Zt.prototype.exportPNG=function(){new Kt(this).open()};var ee=function(t){var e=this;this.active=-1;var i=[],n=null,o=null,r=null;this.size=function(){return i.length},this.create=function(t){n=U.createClassedDiv("tabs"),o=document.createElement("ul"),n.appendChild(o),r=U.createClassedDiv("panes"),n.appendChild(r),t.appendChild(n),i=[],e.sync()},this.sync=function(){if(function(){var e=t.model.circuits.getCircuits();if(i.length!==e.length)return!0;for(var n=0;n<i.length;n++){if(i[n].circuit!==e[n])return!0;if(i[n].li.querySelector("a").textContent!==e[n].getName())return!0}return!1}()){var e=this.active>=0?i[this.active].circuit:null,a=t.model.circuits.getCircuits();r=U.createClassedDiv("panes"),o=document.createElement("ul");var c=[];a.forEach((function(e){var n=document.createElement("li"),a=document.createElement("a");n.appendChild(a),a.innerText=e.getName(),n.addEventListener("click",(function(t){t.preventDefault(),s(n)})),a.addEventListener("click",(function(t){t.preventDefault(),s(n)})),o.appendChild(n);var l=null,u=null;for(var h in i)e===i[h].circuit&&(l=i[h].pane,u=i[h].view);if(null===l){l=U.createClassedDiv("tab");var d=document.createElement("canvas");l.appendChild(d),u=new Zt(t,d,e)}r.appendChild(l),u.tabnum=c.length,c.push({li:n,pane:l,circuit:e,view:u})})),n.innerHTML="",n.appendChild(o),n.appendChild(r),i=c,this.selectTabByCircuit(e)}},this.selectTabByCircuit=function(t){if(null===t)this.selectTab(0,!0);else{var e=!1;for(var n in i)if(t===i[n].circuit){e=!0,this.selectTab(n,!0);break}e||(this.active>=i.length?this.selectTab(this.active-1):this.selectTab(this.active))}};var s=function(t){for(var n=0;n<i.length;n++)i[n].li===t&&e.selectTab(n)};this.selectTab=function(n,o){if(!0===o||n!==e.active){i.forEach((function(t){U.removeClass(t.li,"selected"),U.removeClass(t.pane,"selected")})),e.active=+n;var r=i[e.active];U.addClass(r.li,"selected"),U.addClass(r.pane,"selected"),r.view.draw(),t.model.getSimulation().setView(r.view),t.newTab()}},this.currentView=function(){return e.active<0?null:i[e.active].view},this.currentCircuit=function(){return e.active<0?null:i[e.active].circuit},this.undo=function(){var t=this.active>=0?i[this.active].circuit:null;null!==t&&(t=t.prev),this.active=-1;var e,n=$t(i);try{for(n.s();!(e=n.n()).done;){e.value.view.selection.clear()}}catch(t){n.e(t)}finally{n.f()}this.sync();var o,r=$t(i);try{for(r.s();!(o=r.n()).done;){o.value.view.draw()}}catch(t){r.e(t)}finally{r.f()}this.selectTabByCircuit(t)},this.destroy=function(){this.active=-1,n.parentNode.removeChild(n),n=null,i=[]},this.validateName=function(e,i){for(var n=t.model.circuits.getCircuits(),o=0;o<n.length;o++){var r=n[o];if(r!==i&&e.toLowerCase()===r.getName().toLowerCase())return"Name "+e+" already in use by another tab"}return null},this.add=function(e){t.model.addCircuit(e),this.sync(),this.selectTab(i.length-1,!0)},this.delActive=function(i){e.active<0||(t.model.deleteCircuitByIndex(e.active),e.sync())},this.rename=function(e){t.model.circuits.rename(this.active,e),this.sync()}},ie=function(t){tt.call(this);var e=this.uniqueId();this.open=function(){var t='<div class="control"><label for="'.concat(e,'">Name</label>\n<input type="text" id="').concat(e,'" value="circuit" class="text ui-widget-content ui-corner-all">\n</div>\n<p>Enter a name for the exported .cirsim file.</p>');this.buttonOk="Export",this.contents(t,"Cirsim Export"),tt.prototype.open.call(this),document.getElementById(e).select()},this.ok=function(){var i=this.sanitize(document.getElementById(e).value).replace(/^\s+|\s+$/gm,"").replace(/\.[^/.]+$/,"");if(0===i.length)this.error("You must supply a name");else{this.close(),i.endsWith(".cirsim")||(i+=".cirsim");var n=t.toJSON();(0,Gt.Z)(new Blob([n],{type:"application/json"}),i)}}};(ie.prototype=Object.create(tt.prototype)).constructor=ie;var ne=function(t,e){tt.call(this);var i=this,n=L.uniqueName(),o='<div class="control gap"><input class="file" type="file" id="'+n+'" /><br><span id="import-error" class="error"></span></div><p>Choose a file to import into Cirsim.</p>';this.ok=function(){var o=document.getElementById(n).files;if(!(o.length<1)){var r=o[0],s=new FileReader;s.onload=function(n){e.fmJSON(n.target.result),i.close(),t.reload()},s.onerror=function(t){i.error("Error reading circuits file")},s.onabort=function(t){i.error("Circuits file read aborted")},s.readAsText(r)}},this.buttonOk="Import",this.contents(o,"Cirsim Import")};(ne.prototype=Object.create(tt.prototype)).constructor=ne;var oe=function t(e,i){this.value=void 0,this.type=void 0!==i?i:t.AUTO,void 0!==e&&this.set(e)};oe.AUTO=0,oe.BINARY=1,oe.HEX=2,oe.FLOAT16=3,oe.prototype.get=function(){return this.value},oe.prototype.getBit=function(t){if(!(this.value.length<=t))return this.value[t]},oe.prototype.set=function(t){Array.isArray(t)?this.value=t.slice():t instanceof oe?this.value=t.value.slice():"string"==typeof t||t instanceof String?this.setAsString(t):this.value=t},oe.prototype.setZero=function(t){this.value=[];for(var e=0;e<t;e++)this.value.push(!1)},oe.prototype.clone=function(){return new oe(this.value,this.type)},oe.prototype.save=function(t){t.value=this.value,this.type!==oe.AUTO&&(t.valuetype=this.type)},oe.prototype.equals=function(t){if(this.value===t.value)return!0;if(Array.isArray(this.value)&&Array.isArray(t.value)&&this.value.length===t.value.length){for(var e=0;e<this.value.length;e++)if(this.value[e]!==t.value[e])return!1;return!0}return!1},oe.prototype.load=function(t){this.set(t.value),void 0!==t.valuetype&&(this.type=t.valuetype)},oe.prototype.getAsString=function(){if(void 0===this.value)return"?";switch(this.type){default:return this.value.length>8?this.getAsHex():this.getAsBinary();case oe.BINARY:return this.getAsBinary();case oe.HEX:return this.getAsHex();case oe.FLOAT16:return this.getAsFloat16()}},oe.prototype.setAsString=function(t,e){if("string"==typeof t||t instanceof String||(t=t.toString()),(t=(t=(t=zt.sanitize(t)).replace(/^\s+|\s+$/gm,"")).toLowerCase()).indexOf("inf")>=0||"nan"===t)return this.setAsFloat16(t,e);var i=t.substr(0,2);if("0x"===i)return this.setAsHex(t.substr(2),e);if("0b"===i)return this.setAsBinary(t.substr(2),e);if(t.indexOf(".")>=0||t.indexOf("e")>=0||t.indexOf("-")>=0)return this.setAsFloat16(t,e);switch(this.type){default:case oe.BINARY:return this.setAsBinary(t,e);case oe.HEX:return this.setAsHex(t,e);case oe.FLOAT16:return this.setAsFloat16(t,e)}},oe.prototype.draw=function(t,e,i,n,o){t.save(),t.translate(e,i),t.font="14px Times",t.textAlign="left";var r=0;null!=o&&(r=t.measureText(o+": ").width);var s=this.getAsString(),a=r+t.measureText(s).width,c=1;a>n&&(c=n/a,t.scale(c,c));r>0&&t.fillText(o+": ",-a/2,5),(this.type==oe.HEX||this.type==oe.AUTO&&Array.isArray(this.value)&&this.value.length>8)&&(t.font="bold 14px Times"),t.fillText(s,-a/2+r,5),t.restore()},oe.prototype.dialogContent=function(t,e){var i=this,n=t.uniqueId(),o=t.uniqueId(),r=function(t,e,n){return'<input type="radio" name="'.concat(o,'" value="').concat(n,'"').concat(i.type===n?" checked":"","> ").concat(e)},s="";if(e){var a;switch(this.type){default:case oe.BINARY:a="0b"+this.getAsBinary();break;case oe.HEX:a="0x"+this.getAsHex();break;case oe.FLOAT16:a=this.getAsFloat16()}s+='<div class="control"><label for="'+n+'">Value</label><input type="text" id="'+n+'" name="'+n+'" value="'+a+'" spellcheck="false" onfocus=" this.select()"></div>'}return{html:s+='<div class="control">'+r(0,"Auto",oe.AUTO)+"<br>"+r(0,"Hexadecimal",oe.HEX)+"<br>"+r(0,"Binary",oe.BINARY)+"<br>"+r(0,"Float-16",oe.FLOAT16)+"</div>",validate:function(){if(e){var t=i.type;i.type=parseInt(document.querySelector('input[name="'+o+'"]:checked').value);var r=document.getElementById(n).value,s=i.setAsString(r,!0);if(i.type=t,!s)return"Invalid value"}return null},accept:function(){if(i.type=parseInt(document.querySelector('input[name="'+o+'"]:checked').value),e){var t=document.getElementById(n).value;i.setAsString(t,!1)}}}},oe.prototype.dialogOptions=function(t,e,i){var n=this.dialogContent(t,e);t.extra(n.html,n.validate,(function(){n.accept(),void 0!==i&&i()}),e?170:130)},oe.prototype.getAsInteger=function(){if(!Array.isArray(this.value))return"?";for(var t=0,e=1,i=0;i<this.value.length;i++,e*=2){if(void 0===this.value[i])return"?";this.value[i]&&(t+=e)}return t},oe.prototype.setAsInteger=function(t,e){for(var i=[],n=0;n<e;n++)i.push(1==(1&t)),t>>=1;return this.value=i,!0},oe.prototype.getAsHex=function(){if(!Array.isArray(this.value))return"?";for(var t="",e=0;e<this.value.length;e+=4){for(var i=1,n=0,o=0;o<4&&e+o<this.value.length;o++,i*=2){if(void 0===this.value[e+o]){n=-1;break}this.value[e+o]&&(n+=i)}t=n<0?"?"+t:Number(n).toString(16)+t}return t},oe.prototype.setAsHex=function(t,e){for(var i=[],n=t.length-1;n>=0;n--){var o=t.substr(n,1);if(" "!==o)if("?"===o)i.push([void 0,void 0,void 0,void 0]);else{var r=parseInt(o,16);if(isNaN(r))return!1;i.push(1==(1&r),2==(2&r),4==(4&r),8==(8&r))}else if(i.length>0)break}return e||(this.value=i),!0},oe.prototype.getAsBinary=function(){return function t(e){if(Array.isArray(e)){var i="";return e.forEach((function(e){i=t(e)+i})),i}return void 0===e?"?":e?"1":"0"}(this.value)},oe.prototype.setAsBinary=function(t,e){for(var i=[],n=t.length-1;n>=0;n--){var o=t.substr(n,1);if(" "!==o)switch(o){case"0":i.push(!1);break;case"1":i.push(!0);break;case"?":i.push(void 0);break;default:return!1}else if(i.length>0)break}return e||(this.value=i),!0},oe.prototype.setInfinity16=function(t){this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,t]},oe.prototype.getAsFloat16=function(){if(this.value.length<16)return"?";for(var t=this.value[15]?"-":"",e=0;e<15&&!this.value[e];e++);if(e>=15)return t+"0";var i=1,n=0;for(e=10;e<15;e++,i*=2)this.value[e]&&(n+=i);if(31==n){for(e=0;e<10;e++)if(this.value[e])return"NaN";return t+"inf"}n-=15;var o=1;i=.5;for(e=9;e>=0;e--,i/=2)this.value[e]&&(o+=i);return t+(o*=Math.pow(2,n)).toExponential(3)},oe.prototype.setAsFloat16=function(t,e){var i=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];if("inf"===t)return e||(this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1]),!0;if("-inf"===t)return e||(this.value=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0]),!0;if("nan"===t)return e||(this.value=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1]),!0;var n=parseFloat(t);if(isNaN(n))return!1;if(0==n)return e||(this.value=i),!0;var o=n<0;o&&(n=-n);for(var r=0;n>1&&r<16;)n/=2,r++;if(r>=15)return e||this.setInfinity16(o),!0;for(;n<1&&r>-15;)n*=2,r--;if(r<=-15)return e||this.setZero(16),!0;n-=1,n*=2;for(var s=9;s>=0;s--,n*=2)n>=1?(i[s]=!0,n-=1):i[s]=!1;for(r+=15,s=10;s<15;s++,r>>=1)i[s]=!!(1&r);return i[15]=o,e||(this.value=i),!0};var re=function(t){this.msg=t};function se(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return ae(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ae(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var ce=function(t){function e(t){return"string"==typeof t||t instanceof String}function i(e,i,n){if(void 0!==e.result){var o,r=se(document.querySelectorAll(e.result));try{for(r.s();!(o=r.n()).done;){o.value.value=i}}catch(t){r.e(t)}finally{r.f()}}if(void 0!==e.circuit){var s,a=se(document.querySelectorAll(e.circuit));try{for(a.s();!(s=a.n()).done;){s.value.value=n}}catch(t){a.e(t)}finally{a.f()}}var c=t.options.getAPI("test");if(null!==c){var l=Object.assign({cmd:"test",name:c.name,result:i,data:n,type:"application/json"},c.extra);pt.do({url:c.url,data:l,method:"POST",dataType:"json",contentType:c.contentType,success:function(e){var i=new Jt(e);t.toast.jsonErrors(i)||t.toast.message("Test result successfully saved to server")},error:function(e,i,n){t.toast.message("Unable to communicate with server: "+n)}})}}this.main=t,this.tests=[],this.addTest=function(t){t===Object(t)?this.tests.push(t):("{"===t.substr(0,1)||(t=atob(t)),this.tests.push(JSON.parse(t)))},this.findTest=function(t){for(var e=0;e<this.tests.length;e++)if(this.tests[e].tag===t)return this.tests[e];return null},this.runTestDlg=function(e){t.save(!0,!0),t.modal(!0),this.runTest(e).then((function(e){t.modal(!1);new ct("Success","<h1>Circuit Success</h1><p>The test has passed.</p>").open(),i(e,void 0!==e.success?e.success:"success",t.model.toJSON())}),(function(n){t.modal(!1),new ct("Test Failure","<h1>Circuit Failure</h1>"+n,450).open(),i(e,"fail",t.model.toJSON())}))},this.runTest=function(i){return new Promise((function(n,o){var r=t.model;r.backup();var s,a,c=-1;try{s=function(e){for(var i=t.model,n=[],o=0;o<e.input.length;o++){var r=e.input[o],s=r.split(":"),a=i,c="";if("tab"===s[0]){if(s.length<3)throw new re("<p>Invalid input tab definition: "+r+"</p>");var l=s[1];if(null===(a=i.getCircuit(l)))throw new re("<p>Invalid input tab: "+l+"</p>");c=" in tab <em>"+l+"</em>",s.splice(0,2)}if("type"===s[0]){if(s.length<2)throw new re("<p>Invalid input type specification: "+r+"</p>");var u=s[1],h=a.getComponentsByType(u);if(s.length>2){var d,p=null,f=se(h);try{for(f.s();!(d=f.n()).done;){var v=d.value;if(v.naming===s[2]){p=v;break}}}catch(t){f.e(t)}finally{f.f()}if(null===p)throw new re("<p>The test is not able to pass because you do not have a component named "+s[2]+" of type "+u+c+".</p>");n.push(p)}else{if(0===h.length)throw new re("<p>The test is not able to pass because you do not have a component of type "+u+c+".</p>");if(h.length>1)throw new re("<p>The test is not able to pass because you have more than one  component of type "+u+c+".</p><p>You are only allowed one component of that type in this circuit.</p>");n.push(h[0])}}else{var m=a.getComponentByNaming(s[0]);if(null===m)throw new re("<p>The test is not able to pass because you do not have a component named "+s[0]+c+".</p><p>Typically, the tests are looking for an input pin or a bus input pin. Input pins are labeled IN in the palette. Double-click on an input pin to set the name. Names in Cirsim are case sensitive.</p>");n.push(m)}}return n}(i),a=function(e){for(var i=t.model,n=[],o=0;o<e.output.length;o++){var r=i,s="",a=e.output[o].split("-"),c=a[0],l=c.split(":");if("tab:"===c.substr(0,4)){var u=c.substr(4),h=u.indexOf(":");if(-1===h)throw new re("<p>Invalid output tab definition: "+c+"</p>");var d=u.substr(0,h);if(null===(r=i.getCircuit(d)))throw new re("<p>Invalid out tab: "+d+"</p>");s=" in tab <em>"+d+"</em>",c=u.substr(h+1),l.splice(0,2)}var p=a.length>1?a[1]:0;if("type"===l[0]){if(l.length<2)throw new re("<p>Invalid output type specification: "+c+"</p>");var f=l[1],v=r.getComponentsByType(f);if(l.length>2){var m,y=null,g=se(v);try{for(g.s();!(m=g.n()).done;){var b=m.value;if(b.naming===l[2]){y=b;break}}}catch(t){g.e(t)}finally{g.f()}if(null===y)throw new re("<p>The test is not able to pass because you do not have a component named "+l[2]+" of type "+f+s+".</p>");n.push(y.ins[p])}else{if(0===v.length)throw new re("<p>The test is not able to pass because you do not have a component of type "+f+s+".</p>");if(v.length>1)throw new re("<p>The test is not able to pass because you have more than one  component of type "+f+s+".</p><p>You are only allowed one component of that type in this circuit.</p>");n.push(v[0].ins[p])}}else{var A=r.getComponentByNaming(c);if(!(null!==A&&A.ins.length>p))throw new re("<p>The test is not able to pass because you do not have a component named "+c+s+".</p><p>Output pins are labeled OUT in the palette. Double-click on an output pin to set the name. Pin names are case sensitive.</p>");n.push(A.ins[p])}}return n}(i)}catch(t){if(t instanceof re)return void o(t.msg);throw t}setTimeout((function l(){if(c>=0)for(var u=i.test[c],h=0;h<a.length&&h+s.length<u.length;h++){var d=u[h+s.length];if(null!=d&&"?"!==d){var p=!1,f=!1;if(e(d)){var v=!1;do{v=!1,"bitslop:"===d.substr(0,8)?(p=!0,d=d.substr(8),v=!0):"test:"===d.substr(0,5)&&(f=!0,d=d.substr(5),v=!0)}while(v)}if(f){var m,y=se(d.split(";"));try{for(y.s();!(m=y.n()).done;){var g=m.value;try{a[h].testAsString(g)}catch(t){return void(!0===g.quiet?o('<div class="cirsim-test-result"><p>This test is failing. Some output is not what is currently expected by the test. The circuit is left in the state it was in when the test failed. No additional detail will be provided about why the test is failed. It is your responsibility to create a circuit that works as expected.</p></div>'):o('<div class="cirsim-test-result"><p>This test is failing. '.concat(t,'</p>\n<p class="cs-info">Test ').concat(c,"</p></div>")))}}}catch(t){y.e(t)}finally{y.f()}}else{var b=new oe;b.type=oe.BINARY,b.setAsString(d);var A=a[h].getAsString(),w=!0;if(p)d=b.getAsInteger(),b.setAsBinary(A),("?"===(A=b.getAsInteger())||A<d-1||A>d+1)&&(w=!1);else if(e(d=b.getAsBinary())){for(var x=A.length-1,k=d.length-1;k>=0&&w;x--,k--)if("?"!==d.substr(k,1)){if(x<0){w=!1;break}A.substr(x,1)!=d.substr(k,1)&&(w=!1)}x>0&&(w=!1)}else null!==d&&"?"!==d&&(w=d==A);if(!w)return console.log("Test: "+c+" Output "+a[h].component.naming+" Actual: "+A+" Expected: "+d),void(!0===i.quiet?o('<div class="cirsim-test-result"><p>This test is failing. Some output is not what is currently expected by the test. The circuit is left in the state it was in when the test failed. No additional detail will be provided about why the test is failed. It is your responsibility to create a circuit that works as expected.</p></div>'):o('<div class="cirsim-test-result"><p>This test is failing. An output value is \nnot what is currently expected by the test. The circuit is left in the state it was \nin when the test failed.<p>\n<p class="cs-result">Output '.concat(a[h].component.naming," expected: ").concat(d," actual: ").concat(A,'</p>\n<p class="cs-info">Test ').concat(c,"</p></div>\n")))}}}if(++c<i.test.length){for(var I=i.test[c],C=0;C<s.length&&C<I.length;C++)if(null!==I[C]){var T=s[C].command(I[C]);if(null!==T){if(!T.ok)return void o("<p>This test is failing. "+T.msg+"</p>")}else try{s[C].setAsString(I[C])}catch(t){return void o('<div class="cirsim-test-result"><p>This test is failing. '.concat(t,'</p>\n<p class="cs-info">Test ').concat(c,"</p></div>"))}}for(var E=r.getSimulation(),S=0;S<100&&E.advance(.01*E.speed);S++);setTimeout(l,t.options.testTime),null!==E.view&&E.view.draw()}else n(i)}),t.options.testTime)}))}},le=function(t){var e=this;this.defaultDuration=2e3,this.interToastDelay=500;var i=[],n=!1,o=null;this.create=function(t){o=U.createClassedDiv("toast"),t.appendChild(o),o.innerHTML="testing"};var r=function t(){if(i.length>0&&!n){var r=i[0];i.splice(0,1),o.innerHTML=r.msg,o.classList.add("toast-active"),n=!0,setTimeout((function(){o.classList.remove("toast-active"),setTimeout((function(){n=!1,t()}),e.interToastDelay)}),r.time)}};this.message=function(t,e){void 0===e&&(e=this.defaultDuration),i.push({msg:t,time:e}),r()},this.jsonErrors=function(t){var e=this;return null!==t.errors()&&(t.errors().forEach((function(t){e.message("Server Error: "+t.title,5e3)})),!0)}},ue=function(t){tt.call(this),this.open=function(e){this.done=e;var i="<p>File "+t+" exists. Are you sure you want to overwrite?";this.contents(i,"Overwrite?"),tt.prototype.open.call(this)},this.ok=function(){this.close(),this.done(!0)},this.cancel=function(){this.done(!1)}};(ue.prototype=Object.create(tt.prototype)).constructor=ue;var he=function(t,e,i){var n=this;tt.call(this);var o=this,r=e.getAPI("files"),s=null,a=null;this.filename="";var c=this.uniqueId(),l=this.uniqueId(),u="#"+c,h="#"+l;this.open=function(e){a=e;var i='<div class="control"><label for="'+l+'">'+(t?"Available":"Existing")+'</label><select class="files" id="'+l+'" name="'+l+'" size="5"></select><div class="notice">Querying Server...</div></div><div class="control"><label for="'+c+'">Name</label><input type="text" name="'+c+'" id="'+c+'" value="'+this.filename+'" spellcheck="false" class="text ui-widget-content ui-corner-all"></div>';t?this.contents(i,"File Open"):(i+="<p>Enter a name to save your circuit on the server as.</p>",this.contents(i,"File Save")),tt.prototype.open.call(this);var n=document.getElementById(l),o=document.getElementById(c);n.addEventListener("click",(function(t){o.value=n.value})),o.select(),d(h,u),t||this.buttonOk().setAttribute("disabled","true")},this.ok=function(){var e=this,i=(document.getElementById(l),document.getElementById(c));if(this.filename=this.sanitize(i.value).replace(/^\s+|\s+$/gm,""),0===this.filename.length)return i.focus(),void this.error("Must supply a file name");if(!/^[0-9a-zA-Z\.\-\+ ]+$/.test(this.filename))return i.focus(),void this.error("Names can contain a-z, A-Z, 0-9, ., -, +, and space");((this.filename.length<8||".cirsim"!==this.filename.substr(this.filename.length-7,7))&&(this.filename+=".cirsim"),t)?this.read(this.filename,a):s.indexOf(this.filename)>=0?new ue(this.filename).open((function(t){t&&e.write(e.filename,a)})):this.write(this.filename,a)};var d=function(){pt.do({url:r.url,data:Object.assign({cmd:"files"},r.extra),method:"GET",dataType:"json",success:function(t){var e=new Jt(t);if(i.jsonErrors(e))o.close();else{var r=e.getData("files"),a=document.getElementById(l),u=(document.getElementById(c),a.parentNode.querySelector(".notice"));null!==u&&u.parentNode.removeChild(u),s=[],r.attributes.forEach((function(t){var e=document.createElement("option");e.value=t.name,e.innerText=t.name,a.appendChild(e),s.push(t.name)})),n.buttonOk().removeAttribute("disabled")}},error:function(t,e,n){console.log(t.responseText),i.message("Unable to communicate with server: "+n),o.close()}})}};(he.prototype=Object.create(tt.prototype)).constructor=he;var de=function(t,e,i,n){he.call(this,!1,i,n);var o=i.getAPI("save");this.write=function(e,i){var r=this;pt.do({url:o.url,data:Object.assign({cmd:"save",name:e,data:t},o.extra),method:"POST",dataType:"json",success:function(t){var o=new Jt(t);n.jsonErrors(o)||(r.close(),i(e))},error:function(t,e,i){console.log(t.responseText),n.message("Unable to communicate with server: "+i),r.close()}})}};(de.prototype=Object.create(he.prototype)).constructor=de;var pe=function(t,e){he.call(this,!0,t,e);var i=t.getAPI("open");this.read=function(t,n){var o=this;pt.do({url:i.url,data:Object.assign({cmd:"open",name:t},i.extra),method:"GET",dataType:"json",success:function(i){var r=new Jt(i);if(!e.jsonErrors(r)){var s=i.data[0].attributes.data;n(t,s),o.close()}},error:function(t,i,n){console.log(t.responseText),e.message("Unable to communicate with server: "+n),o.close()}})}};(pe.prototype=Object.create(he.prototype)).constructor=pe;var fe=function(t,e,i,n,o){tt.call(this);var r=this;this.buttonOk=null,this.open=function(){var e=this;this.contents("<p>Saving to server...</p>","Saving..."),tt.prototype.open.call(this);var s=n.getAPI("save");pt.do({url:s.url,data:Object.assign({cmd:"save",name:i,data:t},s.extra),method:"POST",dataType:"json",success:function(t){var e=new Jt(t);o.jsonErrors(e)||r.close()},error:function(t,i,n){console.log(t.responseText),o.message("Unable to communicate with server: "+n),e.close()}})}};(fe.prototype=Object.create(tt.prototype)).constructor=fe;var ve=function(t,e,i){tt.call(this),this.buttonOk=null,this.open=function(n){var o=this;this.contents("<p>Loading from server...</p>","Loading..."),tt.prototype.open.call(this);var r=e.getAPI("open");null!==r&&pt.do({url:r.url,data:Object.assign({cmd:"open",name:t},r.extra),method:"GET",dataType:"json",success:function(e){var r=new Jt(e);if(!i.jsonErrors(r)){var s=e.data[0].attributes.data;n(t,s)}o.close()},error:function(t,e,n){i.message("Unable to communicate with server: "+n),o.close()}})}};(ve.prototype=Object.create(tt.prototype)).constructor=ve;var me=function(t){var e,i=this;this.home=function(){e.home()},this.url=function(t){e.present(t)},function(){e=new mt(t,i);var n=U.createClassedDiv("help-div");i.element=n,t.element.appendChild(n);var o='<div class="header"><h1>Cirsim Help</h1>\n<button type="button" class="help-back" title="Back">\n<span class="icons-cl icons-cl-arrowthick-1-w"></span></button>\n<button type="button" class="help-home" title="Home">\n<span class="icons-cl icons-cl-home"></span></button>\n<button type="button" class="help-close" title="Close">\n<span class="icons-cl icons-cl-closethick"></span></button>\n</div>\n'.concat(e.html());n.innerHTML=o,e.present("");var r=n.querySelector(".header");null!==r&&(r.querySelector("button.help-close").addEventListener("click",(function(e){e.preventDefault(),t.dockedHelp(!1)})),r.querySelector("button.help-home").addEventListener("click",(function(t){t.preventDefault(),e.home()})),r.querySelector("button.help-back").addEventListener("click",(function(t){t.preventDefault(),e.back()})))}()};function ye(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return ge(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ge(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var be=function(t){var e=null,i=null,n=[];this.draggable=function(t){t.element.addEventListener("mousedown",(function(e){e.preventDefault(),o(t),r(e.pageX,e.pageY)})),t.element.addEventListener("touchstart",(function(e){e.preventDefault(),o(t);var i=e.changedTouches[0];r(i.pageX,i.pageY)}))},this.droppable=function(t,e){n.push({view:t,callback:e})};var o=function(n){var o=n.paletteImage();t.element.appendChild(o),o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=100,o.style.cursor="pointer",i=n,e=o},r=function(i,n){if(null!==e){var o=t.element.getBoundingClientRect(),r=o.left+t.element.scrollLeft+window.pageXOffset,s=o.top+t.element.scrollTop+window.pageYOffset;return e.style.left=i-r-e.clientWidth/2+"px",e.style.top=n-s-e.clientHeight/2+"px",!0}return!1},s=function(o,r){if(null!==e){var s,a=ye(n);try{for(a.s();!(s=a.n()).done;){var c=s.value,l=c.view.element;if("none"!==l.parentNode.style.display){var u=l.getBoundingClientRect(),h=u.left+l.scrollLeft+window.pageXOffset,d=u.top+l.scrollTop+window.pageYOffset;if(o>=h&&r>=d&&o<h+(u.right-u.left)&&r<d+(u.bottom-u.top)){c.callback(i,o-h,r-d);break}}}}catch(t){a.e(t)}finally{a.f()}t.element.removeChild(e),e=null,i=null}};t.element.addEventListener("mousemove",(function(t){0!==t.which?r(t.pageX,t.pageY):s(t.pageX,t.pageY)})),t.element.addEventListener("touchmove",(function(t){var e=t.changedTouches[0];r(e.pageX,e.pageY)})),t.element.addEventListener("mouseup",(function(t){s(t.pageX,t.pageY)})),t.element.addEventListener("touchend",(function(t){var e=t.changedTouches[0];s(e.pageX,e.pageY)})),t.element.addEventListener("touchcancel",(function(t){var e=t.changedTouches[0];s(e.pageX,e.pageY)}))};function Ae(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return we(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return we(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var xe=function(t,e,i){var n=this;this.cirsim=t,this.element=e,this.options=t.options,this.components=t.components,this.test=new ce(this),this.div=null;var o,r=Ae(i);try{for(r.s();!(o=r.n()).done;){var s=o.value;this.test.addTest(s)}}catch(t){r.e(t)}finally{r.f()}var a,c=Ae(this.options.tests);try{for(c.s();!(a=c.n()).done;){var l=a.value;this.test.addTest(l)}}catch(t){c.e(t)}finally{c.f()}this.filename=null;var u=t.options,h=null,d=null,p=null,f=null,v=null,m=null;this.initialize=function(){var t=this;if("none"!==u.display){switch(U.addClass(e,"cirsim"),e.innerHTML="",u.display){case"full":U.addClass(e,"cirsim-full");break;case"inline":U.addClass(e,"cirsim-inline");break;default:U.addClass(e,"cirsim-window")}"window"===u.display&&(e.classList.contains("resizer")||new b(e,{handle:"10px solid #18453B"})),this.dragAndDrop=new be(this);var i=new MutationObserver((function(){document.body.contains(e)||(i.disconnect(),t.model.kill())}));i.observe(document.body,{childList:!0})}for(var n in h=new Qt(this),this.model=h,this.options.tabs)this.model.circuits.add(new Ht(this.options.tabs[n]));if(null!==this.options.load&&h.fmJSON(this.options.load),"inline"!==u.display&&"none"!==u.display&&(this.div=U.createClassedDiv("main"),this.element.appendChild(this.div),this.help=new me(this),f=new ee(this),this.tabs=f,d=new wt(this),this.menu=d,m=U.createClassedDiv("work"),this.div.appendChild(m),p=new Bt(this,m),this.palette=p,f.create(m),v=U.createClassedDiv("cirsim-overlay"),this.div.appendChild(v),this.toast=new le(this),this.toast.create(this.div)),"inline"===u.display){var o=document.createElement("div");e.appendChild(o);var r=document.createElement("canvas");o.appendChild(r);var s=h.circuits.getCircuit("main"),a=new Zt(this,r,s,0);h.getSimulation().setView(a),v=U.createClassedDiv("cirsim-overlay"),e.appendChild(v),this.toast=new le(this),this.toast.create(this.element)}var c=this.options.getAPI("open");null!==c&&void 0!==c.url&&void 0!==c.name&&(this.filename=c.name,new ve(c.name,this.options,this.toast).open((function(e,i){h.fmJSON(i),t.reload(),t.filename=e})))},this.addTest=function(t){this.test.addTest(t)},this.currentView=function(){return f.currentView()},this.newTab=function(){null!==p&&p.refresh(),h.newTab()},this.backup=function(){h.backup()},this.undo=function(){h.undo(),f.undo(),p.refresh()},this.modal=function(t){v.style.display=t?"block":"none"},this.open=function(){var t=this;new pe(this.options,this.toast).open((function(e,i){h.fmJSON(i),t.reload(),t.filename=e}))},this.save=function(t,e){var i=n.options.getAPI("save");if(null!==i)if(void 0===i.name){if(!0!==t)if(null===n.filename)n.saveAs();else{var o=h.toJSON();new fe(o,"application/json",n.filename,n.options,n.toast).open()}}else{var r=h.toJSON(),s=Object.assign({cmd:"save",name:i.name,data:r,type:"application/json"},i.extra);pt.do({url:i.url,data:s,method:"POST",dataType:"json",contentType:i.contentType,success:function(t){var i=new Jt(t);n.toast.jsonErrors(i)||!0!==e&&n.toast.message("Successfully saved to server")},error:function(t,e,i){console.log(t.responseText),n.toast.message("Unable to communicate with server: "+i)}})}},this.saveAs=function(){var t=this,e=h.toJSON(),i=new de(e,"application/json",this.options,this.toast);null!==this.filename&&(i.filename=this.filename),i.open((function(e){t.filename=e}))},this.export=function(){new ie(h).open()},this.import=function(){new ne(this,h).open()},this.importTab=function(){for(var t=0;t<this.options.imports.length;t++){var e=this.options.imports[t];if(e.into===this.currentView().circuit.name)return void this.currentView().importTab(e)}},this.reload=function(){f.destroy(),f.create(m,h)};var y=!1;this.isHelpDocked=function(){return y},this.dockedHelp=function(t){(y=t)?U.addClass(this.element,"docked-help"):U.removeClass(this.element,"docked-help")},this.load=function(t){h.fmJSON(t),this.reload()},this.initialize()};xe.prototype.runTest=function(t){return this.test.runTest(t)};var ke=function(t){for(var e in t=t||{},this.display="window",this.load=null,this.loadMenu=[],this.tabs=[],this.tabsMenu=!0,this.export="both",this.exportPNG=!1,this.testTime=17,this.userid=null,this.tests=[],this.imports=[],this.api=null,this.exit=null,this.global=null,this.components=["combinatorial","sequential"],this.always=["Zero","One","InPin","OutPin","Clock","Button","LED","Text"],this.showOutputStates=!1,t)if(t.hasOwnProperty(e)){if(!this.hasOwnProperty(e))throw new Error("Invalid option "+e);this[e]=t[e]}this.getAPI=function(t){if(null===this.api)return null;if(this.api===Object(this.api)){var e;if(void 0!==this.api[t]){var i=this.api[t];if(void 0===i.url)return null;e={url:i.url},void 0!==i.contentType?e.contentType=i.contentType:void 0!==this.api.contentType?e.contentType=this.api.contentType:e.contentType="application/x-www-form-urlencoded; charset=UTF-8",void 0!==i.extra?e.extra=i.extra:void 0!==this.api.extra?e.extra=this.api.extra:e.extra={},void 0!==i.name?e.name=i.name:void 0!==this.api.name&&(e.name=this.api.name)}else{if(void 0===this.api.url)return null;e={url:this.api.url},void 0!==this.api.extra?e.extra=this.api.extra:e.extra={},void 0!==this.api.name&&(e.name=this.api.name)}return e}return{url:this.api}}},Ie=function(){this.components=[],this.palettes={},this.add=function(t){this.components.push(t),this.components.sort((function(t,e){return t.order-e.order}))},this.get=function(t){for(var e=0;e<this.components.length;e++)if(this.components[e].type===t)return this.components[e];return null},this.addPalette=function(t,e){for(var i=[],n=0;n<e.length;n++)i.push(e[n].type);this.palettes[t]=i},this.getPalette=function(t){return this.palettes.hasOwnProperty(t)?this.palettes[t]:null}};var Ce=function(){ot.call(this),this.height=16,this.width=16,this.addOut(8,0,8),this.outs[0].set(!1)};(Ce.prototype=Object.create(ot.prototype)).constructor=Ce,Ce.prototype.prefix=null,Ce.type="Zero",Ce.label="0",Ce.desc="0 (false)",Ce.description="<h2>Zero</h2><p>A simple false value.</p>",Ce.order=0,Ce.help="zero",Ce.prototype.compute=function(t){this.outs[0].set(!1)},Ce.prototype.clone=function(){var t=new Ce;return t.copyFrom(this),t},Ce.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawText(t,"0",0,5,"14px Times"),this.drawIO(t,e)},Ce.paletteImage=function(){var t=new xt(60,30);return t.box(16,16),t.io(8,0,"e"),t.drawText("0",0,5,"14px Times"),t};var Te=function(){ot.call(this),this.height=16,this.width=16,this.addOut(8,0,8),this.outs[0].set(!0)};(Te.prototype=Object.create(ot.prototype)).constructor=Te,Te.prototype.prefix=null,Te.type="One",Te.label="1",Te.desc="1 (true)",Te.description="<h2>One</h2><p>A simple true value.</p>",Te.order=1,Te.help="one",Te.prototype.compute=function(t){this.outs[0].set(!0)},Te.prototype.clone=function(){var t=new Te;return t.copyFrom(this),t},Te.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawText(t,"1",0,5,"14px Times"),this.drawIO(t,e)},Te.paletteImage=function(){var t=new xt(60,30);return t.box(16,16),t.io(8,0,"e"),t.drawText("1",0,5,"14px Times"),t};var Ee=function(){ot.call(this),this.height=50,this.width=64,this.addIn(-32,-16,16),this.addIn(-32,16,16),this.addOut(32,0,16)};(Ee.prototype=Object.create(ot.prototype)).constructor=Ee,Ee.type="And",Ee.label="AND",Ee.desc="AND gate",Ee.order=11,Ee.description="<h2>AND Gate</h2><p>The output of an AND gate is <em>true</em> if both inputs are true.</p>",Ee.help="and",Ee.prototype.compute=function(t){t[0]&&t[1]?this.outs[0].set(!0):!1===t[0]||!1===t[1]?this.outs[0].set(!1):this.outs[0].set(void 0)},Ee.prototype.clone=function(){var t=new Ee;return t.copyFrom(this),t},Ee.prototype.draw=function(t,e){this.selectStyle(t,e),Ee.path(t,this.x,this.y,this.width,this.height),It.fillWith(t),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)},Ee.path=function(t,e,i,n,o){var r=e-n/2-.5,s=e+n/2+.5,a=i-o/2-.5,c=i+o/2+.5;t.beginPath(),t.moveTo(r,c),t.lineTo(r,a),t.lineTo(s-o/2,a),t.arc(s-o/2,i,o/2+.5,-Math.PI/2,Math.PI/2),t.lineTo(r,c)},Ee.paletteImageBase=function(){var t=new xt(120,70),e=t.context;e.lineWidth=1.5;var i=t.width/2,n=t.height/2,o=.5*t.width,r=(t.height,26.5),s=i-o/2-.5,a=i+o/2+.5,c=n-r+.5,l=n+r-.5;return this.leftX=s-t.width/2,this.rightX=a-t.width/2,e.beginPath(),e.moveTo(s,l),e.lineTo(s,c),e.lineTo(a-r,c),e.arc(a-r,n,r,-Math.PI/2,Math.PI/2),e.lineTo(s,l),t.fillStroke(),t.io(this.rightX,0,"e"),t},Ee.paletteImage=function(){var t=Ee.paletteImageBase();return t.io(this.leftX,-16,"w"),t.io(this.leftX,16,"w"),t};var Se=function t(){ot.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(Se.prototype=Object.create(ot.prototype)).constructor=Se,Se.offsetX=40,Se.offsetY=30,Se.type="Or",Se.label="OR",Se.desc="OR gate",Se.order=20,Se.description="<h2>OR Gate</h2><p>The output of an OR gate is <em>true</em> \nif either or both inputs are true. Otherwise, it is false.</p>",Se.help="or",Se.prototype.compute=function(t){t[0]||t[1]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]?this.outs[0].set(void 0):this.outs[0].set(!1)},Se.prototype.clone=function(){var t=new Se;return t.copyFrom(this),t},Se.prototype.draw=function(t,e){this.selectStyle(t,e),Se.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Se.draw=function(t,e,i,n,o){Se.path(t,e,i,n,o),It.fillWith(t),t.stroke()},Se.path=function(t,e,i,n,o){var r=e-n/2-.5,s=i-o/2-.5,a=i+o/2+.5;t.beginPath();var c=Se.offsetX,l=Math.atan2(o/2,c),u=c/Math.cos(l);t.arc(r-c,i,u,-l,l);var h=(n/2*(n/2)-o/2*(o/2))/o;u=o/2+h,l=Math.atan2(h,n/2),t.lineTo(e,a),t.arc(e,i-h,u,Math.PI/2,l,!0),t.arc(e,i+h,u,-l,-Math.PI/2,!0),t.lineTo(r,s)},Se.paletteImageBase=function(){var t=new xt(120,70),e=t.context;e.lineWidth=1.5;var i=t.width/2,n=t.height/2,o=.5*t.width,r=.65*t.height,s=i-o/2-.5,a=i+o/2+.5,c=Math.round(n-r/2)-.5,l=Math.round(n+r/2)+.5;e.beginPath();var u=Se.offsetX,h=Math.atan2(r/2,u),d=u/Math.cos(h);e.arc(s-u,n,d,-h,h);var p=(o/2*(o/2)-r/2*(r/2))/r;return d=r/2+p,h=Math.atan2(p,o/2),this.leftX=s-t.width/2+3,this.rightX=a-t.width/2,e.lineTo(i,l),e.arc(i,n-p,d,Math.PI/2,h,!0),e.arc(i,n+p,d,-h,-Math.PI/2,!0),e.lineTo(s,c),t.fillStroke(),t.io(this.rightX,0,"e"),t},Se.paletteImage=function(){var t=Se.paletteImageBase();return t.io(this.leftX,-16,"w"),t.io(this.leftX,16,"w"),t};var Oe=function t(){ot.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e,r=Math.sqrt(n*n-4)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+r,0,16+r),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(Oe.prototype=Object.create(ot.prototype)).constructor=Oe,Oe.offsetX=40,Oe.offsetY=30,Oe.type="Or3",Oe.label="OR",Oe.desc="OR gate",Oe.order=21,Oe.description="<h2>OR Gate</h2><p>The output of a three-input OR gate is <em>true</em> if any of of the inputs are true. Otherwise, it is false.</p>",Oe.prototype.compute=function(t){t[0]||t[1]||t[2]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]?this.outs[0].set(void 0):this.outs[0].set(!1)},Oe.prototype.clone=function(){var t=new Oe;return t.copyFrom(this),t},Oe.prototype.draw=function(t,e){this.selectStyle(t,e),Se.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Oe.paletteImage=function(){var t=Se.paletteImageBase();return t.io(Se.leftX,-16,"w"),t.io(Se.leftX,0,"w"),t.io(Se.leftX,16,"w"),t};var Be=function t(){ot.call(this),this.height=64,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-64)-e,r=Math.sqrt(n*n-576)-e;this.addIn(-32+r,-24,16+r),this.addIn(-32+o,-8,16+o),this.addIn(-32+o,8,16+o),this.addIn(-32+r,24,16+r),this.addOut(32,0,16)};(Be.prototype=Object.create(ot.prototype)).constructor=Be,Be.offsetX=40,Be.offsetY=30,Be.type="Or4",Be.label="OR",Be.desc="OR gate",Be.order=22,Be.description="<h2>OR Gate</h2><p>The output of a four-input OR gate is <em>true</em> if any of of the inputs are true. Otherwise, it is false.</p>",Be.prototype.compute=function(t){t[0]||t[1]||t[2]||t[3]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?this.outs[0].set(void 0):this.outs[0].set(!1)},Be.prototype.clone=function(){var t=new Be;return t.copyFrom(this),t},Be.prototype.draw=function(t,e){this.selectStyle(t,e),Se.draw(t,this.x,this.y,this.width,this.height),this.drawName(t,-2,5),this.drawIO(t,e)},Be.paletteImage=function(){var t=Se.paletteImageBase();return t.io(Se.leftX,-16,"w"),t.io(Se.leftX,-5.5,"w"),t.io(Se.leftX,5.5,"w"),t.io(Se.leftX,16,"w"),t};var ze=function(){Se.call(this,name),this.outs=[],this.addOutInv(32,0,16)};(ze.prototype=Object.create(Se.prototype)).constructor=ze,ze.type="Nor",ze.label="NOR",ze.desc="NOR gate",ze.img="nor.png",ze.order=30,ze.description="<h2>NOR Gate</h2><p>The output of a NOR gate is <em>false</em> if either or both \n inputs are true. Otherwise, it is true.</p>",ze.help="nor",ze.prototype.clone=function(){var t=new ze;return t.copyFrom(this),t};var je=function(){ot.call(this),this.height=50,this.width=64,this.addIn(-32,-16,16),this.addIn(-32,0,16),this.addIn(-32,16,16),this.addOut(32,0,16)};(je.prototype=Object.create(ot.prototype)).constructor=je,je.type="And3",je.label="AND",je.desc="3-Input AND gate",je.order=12,je.description="<h2>AND Gate</h2><p>The output of a three-input AND gate is <em>true</em> if all three inputs are true.</p>",je.help="and3",je.prototype.compute=function(t){t[0]&&t[1]&&t[2]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]?this.outs[0].set(void 0):this.outs[0].set(!1)},je.prototype.clone=function(){var t=new je;return t.copyFrom(this),t},je.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.moveTo(i,o),t.lineTo(n-this.height/2,o),t.moveTo(i,r),t.lineTo(n-this.height/2,r),t.stroke(),t.beginPath(),t.arc(n-this.height/2,this.y,this.height/2+.5,-Math.PI/2,Math.PI/2),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),this.drawIO(t,e)},je.paletteImage=function(){var t=Ee.paletteImageBase();return t.io(Ee.leftX,-16,"w"),t.io(Ee.leftX,0,"w"),t.io(Ee.leftX,16,"w"),t};var Me=function(){ot.call(this),this.height=50,this.width=64,this.addIn(-32,-24,16),this.addIn(-32,-8,16),this.addIn(-32,8,16),this.addIn(-32,24,16),this.addOut(32,0,16)};(Me.prototype=Object.create(ot.prototype)).constructor=Me,Me.type="And4",Me.label="AND",Me.desc="4-Input AND gate",Me.order=13,Me.description="<h2>AND Gate</h2><p>The output of a four-input AND gate is <em>true</em> if all four inputs are true.</p>",Me.help="and4",Me.prototype.compute=function(t){t[0]&&t[1]&&t[2]&&t[3]?this.outs[0].set(!0):void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?this.outs[0].set(void 0):this.outs[0].set(!1)},Me.prototype.clone=function(){var t=new Me;return t.copyFrom(this),t},Me.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.moveTo(i,o),t.lineTo(n-this.height/2,o),t.moveTo(i,r),t.lineTo(n-this.height/2,r),t.stroke(),t.beginPath(),t.arc(n-this.height/2,this.y,this.height/2+.5,-Math.PI/2,Math.PI/2),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),this.drawIO(t,e)},Me.paletteImage=function(){var t=Ee.paletteImageBase();t.height;return t.io(Ee.leftX,-24,"w"),t.io(Ee.leftX,-8,"w"),t.io(Ee.leftX,8,"w"),t.io(Ee.leftX,24,"w"),t};var Re=function(){Ee.call(this,name),this.outs=[],this.addOutInv(32,0,16)};(Re.prototype=Object.create(Ee.prototype)).constructor=Re,Re.type="Nand",Re.label="NAND",Re.desc="NAND gate",Re.order=16,Re.description="<h2>NAND Gate</h2><p>The output of a NAND gate is <em>false</em> if and only if both inputs are true.</p>",Re.help="nand",Re.prototype.clone=function(){var t=new Re;return t.copyFrom(this),t},Re.paletteImage=function(){var t=Ee.paletteImageBase();return t.io(Ee.leftX,-16,"w"),t.io(Ee.leftX,16,"w"),t.io(Ee.rightX+10,0,"e"),t.circle(Ee.rightX+5,0,5),t};var Le=function(t,e,i,n){this.x=t,this.y=e,this.color="undefined",void 0===n?(this.radius=i,this.width=2*i,this.height=2*i):(this.radius=null,this.width=i,this.height=n)};Le.colors={black:["#000000","#000000"],undefined:["#444444","#888888"],green:["#55ff88","#00fb4a"],red:["#ff4444","#ff0000"],blue:["#25ffff","#15ddff"],purple:["#c000ff","#8000ff"],yellow:["#ffff00","#ffff80"],none:["#000000","#000000"]},Le.prototype.draw=function(t,e,i,n){if("none"!==this.color){var o=t.fillStyle;void 0===n&&(n="white"),t.beginPath(),e+=this.x,i+=this.y;var r,s,a=1.15*this.radius;if(Le.colors.hasOwnProperty(this.color)?(r=Le.colors[this.color][0],s=Le.colors[this.color][1]):(r="#000000",s="#000000"),null!==this.radius){var c=t.createRadialGradient(e,i,1,e,i,a);c.addColorStop(0,r),c.addColorStop(.5,s),c.addColorStop(1,n),t.fillStyle=c}else{var l=t.createLinearGradient(0,i-this.height/2,0,i+this.height/2);l.addColorStop(0,n),l.addColorStop(.25,r),l.addColorStop(.75,r),l.addColorStop(1,n),t.fillStyle=l}t.fillRect(e-this.width/2,i-this.height/2,this.width,this.height),"undefined"===this.color&&(t.font="14px Times",t.fillStyle="#ffffff",t.fontWeight="bold",t.textAlign="center",t.fillText("?",e,i+5),t.fillText("?",e+1,i+5),t.fontWeight="normal"),t.fillStyle=o}},Le.prototype.touch=function(t,e,i,n){return t+=this.x,e+=this.y,x.distance({x:t,y:e},{x:i,y:n})<=this.radius},Le.colorSelector=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n='<div class="control1 center"><label for="'+t+'">Color: </label><select id="'+t+'">',o=Le.colors;for(var r in o)o.hasOwnProperty(r)&&"black"!==r&&"undefined"!==r&&(!0!==i&&"none"===r||(n+=r===e?"<option selected>"+r+"</option>":"<option>"+r+"</option>"));return n+="</select></div>"};var Ne=function(){ot.call(this),this.height=16,this.width=64,this.led=new Le(19,0,7),this.addOut(32,0,16),this.set(!1)};(Ne.prototype=Object.create(ot.prototype)).constructor=Ne,Ne.prototype.prefix="*I",Ne.prototype.nameRequired=!0,Ne.type="InPin",Ne.label="In Pin",Ne.desc="Input Pin",Ne.img="inpin.png",Ne.order=2,Ne.description="<h2>Input Pin</h2><p>An IN pin serves as input for a circuit. Clicking the LED toggles the output true or false.</p>",Ne.help="inpin",Ne.prototype.clone=function(){var t=new Ne;return t.value=this.value,t.copyFrom(this),t},Ne.prototype.compute=function(t){this.outs[0].set(this.value)},Ne.prototype.draw=function(t,e){var i=this.value?"white":"#dddddd";this.outlinePath(t),t.fillStyle=i,t.fill(),this.led.color=this.value?"green":"off",this.led.draw(t,this.x,this.y,i),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.beginPath(),t.font="14px Times",t.textAlign="center";var n=this.value?"1":"0",o=this.x-9;null!==this.naming?t.fillText(this.naming+": "+n,o,this.y+5):t.fillText(n,o,this.y+5),this.drawIO(t,e)},Ne.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,n),t.lineTo(e,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e,n)},Ne.prototype.touch=function(t,e){return this.led.touch(this.x,this.y,t,e)?(this.circuit.circuits.model.backup(),this.set(!this.value),null):ot.prototype.touch.call(this,t,e)},Ne.prototype.set=function(t){"string"==typeof t||t instanceof String?this.setAsString(t):(this.value=t,this.outs[0].set(t))},Ne.prototype.setAsString=function(t){switch(t){case void 0:case"undefined":case"?":this.set(void 0);break;case"false":case"0":case!1:this.set(!1);break;case"true":case"1":case!0:this.set(!0);break;default:var e=1==+t;this.set(e)}},Ne.prototype.get=function(){return this.value},Ne.prototype.save=function(){var t=ot.prototype.save.call(this);return t.value=this.value,t},Ne.prototype.load=function(t){this.set(t.value),ot.prototype.load.call(this,t)},Ne.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control center"><div class="choosers"><label><input type="radio" id="'+n+'" value="1" name="'+n+'"'+(this.value?" checked":"")+'> true (1)</label><label><input type="radio" id="'+n+'" value="0" name="'+n+'"'+(this.value?"":" checked")+"> false (0)</label></div></div>";i.extra(o,(function(){return null}),(function(){e.set("1"===document.querySelector("#"+n+":checked").value)})),i.open()};var De=function(){ot.call(this),this.height=16,this.width=64,this.color="green",this.led=new Le(-19,0,7),this.addIn(-32,0,16)};(De.prototype=Object.create(ot.prototype)).constructor=De,De.prototype.prefix="O",De.prototype.nameRequired=!0,De.type="OutPin",De.label="Out Pin",De.desc="Output Pin",De.img="outpin.png",De.order=3,De.description="<h2>Ouput Pin</h2><p>An OUT pin serves as output \nfor a circuit. The LED indicates if the input is true (led illuminated), false \n(black), or undefined (?).</p>",De.help="outpin",De.prototype.pending=function(){},De.prototype.get=function(){return this.ins[0].value},De.prototype.getAsString=function(){switch(this.ins[0]){case!0:return"1";case!1:return"0";default:return"?"}},De.prototype.getAsValue=function(){return new oe(this.ins[0].value)},De.prototype.clone=function(){var t=new De;return t.color=this.color,t.copyFrom(this),t},De.prototype.load=function(t){void 0!==t.color&&(this.color=zt.sanitize(t.color)),ot.prototype.load.call(this,t)},De.prototype.save=function(){var t=ot.prototype.save.call(this);return"green"!==this.color&&(t.color=this.color),t},De.prototype.draw=function(t,e){var i=this.get(),n=this.value?"white":"#dddddd";if(this.outlinePath(t),t.fillStyle=n,t.fill(),"none"!==this.color&&(this.led.color=void 0===i?"undefined":i?this.color:"off",this.led.draw(t,this.x,this.y,n)),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.beginPath(),t.font="14px Times",t.textAlign="center","none"!==this.color){var o=void 0===i?"?":i?"1":"0",r=this.x+9;null!==this.naming?t.fillText(this.naming+": "+o,r,this.y+5):t.fillText(o,r,this.y+5)}else{var s=this.x+4;null!==this.naming&&t.fillText(this.naming,s,this.y+5)}this.drawIO(t,e)},De.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)},De.prototype.properties=function(t){var e=this,i=new et(this,t),n='<div class="control1 center">',o=i.uniqueId();n+=Le.colorSelector(o,this.color,!0),n+="</div>",i.extra(n,(function(){return null}),(function(){e.color=zt.sanitize(document.getElementById(o).value)})),i.open()};var Pe=function(){ot.call(this),this.height=44,this.width=44,this.freq=1e6,this.period=.5,this.addOut(22,0,10),this.set(!0),this.remaining=1/this.freq*this.period};(Pe.prototype=Object.create(ot.prototype)).constructor=Pe,Pe.prototype.prefix="C",Pe.type="Clock",Pe.label="Clock",Pe.desc="Clock",Pe.img="clock.png",Pe.order=104,Pe.description="<h2>Clock</h2><p>A clock generates a sequence of pulses over time. The duty cycle is the width of the true period of the pulse as a percentage.</p>",Pe.prototype.clone=function(){var t=new Pe;return t.freq=this.freq,t.period=this.period,t.value=this.value,t.remaining=this.remaining,t.copyFrom(this),t},Pe.prototype.advance=function(t){return this.remaining-=t,this.remaining<=0&&(this.set(!this.value),this.remaining=1/this.freq*(this.value?this.period:1-this.period),!0)},Pe.prototype.set=function(t){this.value=t,this.outs[0].set(t)},Pe.prototype.get=function(){return this.value},Pe.prototype.compute=function(t){this.set(!1)},Pe.prototype.load=function(t){this.freq=t.freq,this.period=t.period,ot.prototype.load.call(this,t)},Pe.prototype.save=function(){var t=ot.prototype.save.call(this);return t.freq=this.freq,t.period=this.period,t},Pe.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x,n=this.y;t.beginPath(),t.arc(i,n,this.width/2,0,2*Math.PI),t.fillStyle="#ffffff",t.fill(),t.beginPath(),t.arc(i,n,this.width/2,0,2*Math.PI),t.stroke();var o=this.x-15.5,r=this.x+15.5,s=this.y-10.4,a=this.y+10.5,c=o+this.period*(r-o),l=t.strokeStyle;t.strokeStyle="#00aa00",t.beginPath(),t.moveTo(o,a),t.lineTo(o,s),t.lineTo(c,s),t.lineTo(c,a),t.lineTo(r,a),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-2,this.y+5)),t.stroke(),t.strokeStyle=l,this.drawIO(t,e)},Pe.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=i.uniqueId(),r='<div class="control"><label for="'.concat(n,'">Frequency (Hz)</label>\n<input type="text" id="').concat(n,'" value="').concat(this.freq,'"></div>\n<div class="control slider"><label for="').concat(o,'">Duty Cycle</label>\n<input type="range" min="100" max="900" class="" value="').concat(1e3*this.period,'" id="').concat(o,'">\n</div>');i.extra(r,(function(){var t=document.getElementById(n).value;return+t!==parseInt(t)||t<1||t>1e7?"Frequency must be integer 1 to 1000000":null}),(function(){e.freq=document.getElementById(n).value,e.period=.001*document.getElementById(o).value})),i.open()};var Ue=function(){ot.call(this),this.height=50,this.width=40,this.addIn(-20,0,12),this.addOutInv(20,0,12)};(Ue.prototype=Object.create(ot.prototype)).constructor=Ue,Ue.type="Inverter",Ue.label="Inverter",Ue.desc="Inverter gate",Ue.order=50,Ue.description="<h2>Inverter</h2><p>The output of an Inverter gate is <em>true</em> if the \n input is false and <em>false</em> if the input is true.</p>",Ue.help="inverter",Ue.prototype.compute=function(t){this.outs[0].set(t[0])},Ue.prototype.clone=function(){var t=new Ue;return t.copyFrom(this),t},Ue.prototype.draw=function(t,e){this.selectStyle(t,e),Ue.path(t,this.x,this.y,this.width,this.height),It.fillWith(t),Ue.path(t,this.x,this.y,this.width,this.height),t.stroke(),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-6,this.y+5),t.stroke()),this.drawIO(t,e)},Ue.path=function(t,e,i,n,o){var r=e-n/2-.5,s=e+n/2+.5,a=i-o/2-.5,c=i+o/2+.5;t.beginPath(),t.moveTo(r,a),t.lineTo(r,c),t.lineTo(s,i),t.lineTo(r,a)},Ue.paletteImage=function(){var t=new xt(120,70);return Ue.path(t.context,60,35,40,50),t.fillStroke(),t.io(-20,0,"w"),t.io(30,0,"e"),t.circle(25,0,5),t};var qe=function(){ot.call(this),this.height=32,this.width=32,this.value=void 0,this.led=new Le(0,0,12),this.color="blue",this.addIn(-16,0,16)};(qe.prototype=Object.create(ot.prototype)).constructor=qe,qe.prototype.prefix="L",qe.prototype.nameRequired=!0,qe.type="LED",qe.label="LED",qe.desc="Light Emitting Diode",qe.img="led.png",qe.order=102,qe.description="<h2>LED</h2><p>An LED indicates if the input is true (color), false (black), or undefined (?). The LED color can be set using the component properties dialog box.</p>",qe.prototype.compute=function(t){this.value=t[0]},qe.prototype.get=function(){return this.ins[0].value},qe.prototype.clone=function(){var t=new qe;return t.color=this.color,t.value=this.value,t.copyFrom(this),t},qe.prototype.draw=function(t,e){var i=this.get(),n=this.x-this.width/2-.5,o=this.y-this.height/2+.5;this.selectStyle(t,e);var r=t.fillStyle,s=t.strokeStyle,a=i?"#ffffff":"#dddddd";t.fillStyle=a,t.fillRect(n,o,this.width,this.height),t.fillStyle=r,t.beginPath(),t.rect(n,o,this.width,this.height),t.stroke(),t.lineWidth=1,t.fillStyle=r,t.strokeStyle=s,this.led.color=void 0===i?"undefined":i?this.color:"off",this.led.draw(t,this.x-.5,this.y,a);var c=12;t.fillRect(this.x-c-2,this.y-c,2,2),t.fillRect(this.x+c-2,this.y-c,2,2),t.fillRect(this.x-c-2,this.y+c,2,2),t.fillRect(this.x+c-2,this.y+c,2,2),this.drawIO(t,e)},qe.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)},qe.prototype.load=function(t){this.color=zt.sanitize(t.color),ot.prototype.load.call(this,t)},qe.prototype.save=function(){var t=ot.prototype.save.call(this);return t.color=this.color,t},qe.prototype.properties=function(t){var e=this,i=new et(this,t,!1),n=i.uniqueId(),o=Le.colorSelector(n,this.color);i.extra(o,(function(){return null}),(function(){e.color=zt.sanitize(document.getElementById(n).value)})),i.open()};var He=function t(){ot.call(this),this.height=50,this.width=64;var e=t.offsetX,i=Math.atan2(this.height/2,e),n=e/Math.cos(i),o=Math.sqrt(n*n-256)-e;this.addIn(-32+o,-16,16+o),this.addIn(-32+o,16,16+o),this.addOut(32,0,16)};(He.prototype=Object.create(ot.prototype)).constructor=He,He.offsetX=40,He.offsetY=30,He.offsetX1=6,He.type="Xor",He.label="XOR",He.desc="XOR gate",He.img="xor.png",He.order=40,He.description="<h2>XOR Gate</h2><p>The output of an XOR gate is <em>true</em> if the state of the inputs differ. Otherwise, it is false.</p>",He.help="xor",He.prototype.compute=function(t){void 0===t[0]||void 0===t[1]?this.outs[0].set(void 0):this.outs[0].set(t[0]&&!t[1]||!t[0]&&t[1])},He.prototype.clone=function(){var t=new He;return t.copyFrom(this),t},He.prototype.draw=function(t,e){this.selectStyle(t,e),Se.draw(t,this.x,this.y,this.width,this.height),t.beginPath();var i=this.x-this.width/2-.5,n=He.offsetX,o=Math.atan2(this.height/2,n),r=n/Math.cos(o);t.arc(i-n-He.offsetX1,this.y,r,-o,o),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)};var Fe=function(){ot.call(this),this.height=16,this.width=96,this.narrow=!1,this.value=new oe,this.addOut(48,0,16).bus=!0,this.set([!1,!1,!1,!1])};(Fe.prototype=Object.create(ot.prototype)).constructor=Fe,Fe.prototype.prefix="I",Fe.prototype.nameRequired=!0,Fe.type="InPinBus",Fe.label="Bus Input",Fe.desc="Bus Input Pin",Fe.img="inpinbus.png",Fe.order=300,Fe.description="<h2>Bus Input Pin</h2><p>A Bus Input pin serves as input for a circuit from a bus. Double-click to set the value.</p><p>Values can be preceeded by 0x or 0b for hexadecimal or binary values.</p><p>The display and input format is selectable. Auto format will display values with eight or fewer digits as binary and larger values in hex.</p>",Fe.help="inpinbus",Fe.prototype.clone=function(){var t=new Fe;return t.copyFrom(this),t.value=this.value.clone(),t},Fe.prototype.compute=function(t){this.outs[0].set(this.value.get())},Fe.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke();var i=this.x;this.narrow&&(i=this.x-this.height/4+1),this.value.draw(t,i,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},Fe.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,n),t.lineTo(e,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e,n)},Fe.prototype.set=function(t){Array.isArray(t)?this.value.set(t):("string"==typeof t||t instanceof String)&&this.value.setAsString(t),this.outs[0].set(this.value.get())},Fe.prototype.get=function(){return this.value.get()},Fe.prototype.setAsString=function(t,e){this.value.setAsString(t,e),e||this.outs[0].set(this.value.get())},Fe.prototype.getAsString=function(){return this.value.getAsString()},Fe.prototype.save=function(){var t=ot.prototype.save.call(this);return this.value.save(t),this.narrow&&(t.narrow=this.narrow),t},Fe.prototype.load=function(t){this.value.load(t),this.setNarrow(zt.boolean(t.narrow)),ot.prototype.load.call(this,t)},Fe.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=this.value.dialogContent(i,!0),r=o.html+'<input type="checkbox" id="'.concat(n,'" name="').concat(n,'"').concat(this.narrow?" checked":"",'> <label for="').concat(n,'">Narrow</label>');i.extra(r,o.validate,(function(){o.accept(),e.setNarrow(document.getElementById(n).checked),e.compute(null)})),i.open()},Fe.prototype.setNarrow=function(t){this.narrow=t,this.width=t?48:96,this.outs[0].x=this.width/2};var _e=function(){ot.call(this),this.value=new oe,this.narrow=!1,this.height=16,this.width=96,this.addIn(-this.width/2,0,16).bus=!0};(_e.prototype=Object.create(ot.prototype)).constructor=_e,_e.prototype.prefix="O",_e.prototype.nameRequired=!0,_e.type="OutPinBus",_e.label="Bus Output",_e.desc="Bus Output Pin",_e.img="outpinbus.png",_e.order=302,_e.description="<h2>Bus Output Pin</h2>\n<p>An Bus Out pin serves as output for a bus in a circuit.</p>\n<p>The output format is selectable. Auto format will display values \nwith eight or fewer digits as binary and larger values in hex.</p>",_e.help="outpinbus",_e.prototype.compute=function(t){this.value.set(t[0])},_e.prototype.get=function(){return this.value.get()},_e.prototype.getAsString=function(){return this.value.getAsString()},_e.prototype.getAsValue=function(){return new oe(this.value)},_e.prototype.clone=function(){var t=new _e;return t.copyFrom(this),t.value=this.value.clone(),t},_e.prototype.save=function(){var t=ot.prototype.save.call(this);return this.value.save(t),this.narrow&&(t.narrow=this.narrow),t},_e.prototype.load=function(t){this.value.load(t),this.setNarrow(zt.boolean(t.narrow)),ot.prototype.load.call(this,t)},_e.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke();var i=this.x+this.height/4;this.narrow&&(i-=2),this.value.draw(t,i,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},_e.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i,o),t.lineTo(i,n),t.lineTo(e+this.height/2,n),t.lineTo(e,this.y)},_e.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=this.value.dialogContent(i),r=o.html+'<input type="checkbox" id="'.concat(n,'" name="').concat(n,'"').concat(this.narrow?" checked":"",'> <label for="').concat(n,'">Narrow</label>');i.extra(r,o.validate,(function(){o.accept(),e.setNarrow(document.getElementById(n).checked)})),i.open()},_e.prototype.setNarrow=function(t){this.narrow=t,this.width=t?48:96,this.ins[0].x=-this.width/2};var Qe=function(){ot.call(this),this.height=16,this.width=96,this.value=new oe,this.addOut(48,0,16).bus=!0,this.set([!1,!1,!1,!1])};(Qe.prototype=Object.create(ot.prototype)).constructor=Qe,Qe.prototype.prefix=null,Qe.type="BusConstant",Qe.label="Bus Constant",Qe.desc="Bus Constant value",Qe.img="busconstant.png",Qe.description="<h2>Bus Constant Value</h2><p>A Bus Constant is a value that can be set in the circuit as a fixed value feeding a bus.</p><p>Values can be preceeded by 0x or 0b for hexadecimal or binary values.</p><p>The display and input format is selectable. Auto format will display values with eight or fewer digits as binary and larger values in hex.</p>",Qe.order=301,Qe.prototype.clone=function(){var t=new Qe;return t.copyFrom(this),t.value=this.value.clone(),t},Qe.prototype.compute=function(t){this.outs[0].set(this.value.get())},Qe.prototype.draw=function(t,e){this.drawBox(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.drawBox(t),this.value.draw(t,this.x,this.y,this.width-this.height/2,this.naming),this.drawIO(t,e)},Qe.prototype.set=function(t){this.value.set(t),this.outs[0].set(this.value.get())},Qe.prototype.get=function(){return this.value.get()},Qe.prototype.setAsString=function(t,e){this.value.setAsString(t,e),e||this.outs[0].set(this.value.get())},Qe.prototype.getAsString=function(){return this.value.getAsString()},Qe.prototype.save=function(){var t=ot.prototype.save.call(this);return this.value.save(t),t},Qe.prototype.load=function(t){this.value.load(t),ot.prototype.load.call(this,t)},Qe.prototype.properties=function(t){var e=this,i=new et(this,t);this.value.dialogOptions(i,!0,(function(){e.compute(null)})),i.open()};var Xe=function(){ot.call(this),this.height=50,this.width=80,this.size=4,this.addOut(this.width/2,0,16).bus=!0,this.ensureIO()};(Xe.prototype=Object.create(ot.prototype)).constructor=Xe,Xe.type="BusOr",Xe.label="Bus OR",Xe.desc="Bus OR gate",Xe.img="busor.png",Xe.description="<h2>Bus OR Gate</h2><p>The output of an OR gate is <em>true</em> \nif either or both  inputs are true. Otherwise, it is false. This version works for \nbuses. The size determines the number of inputs.</p>",Xe.order=308,Xe.prototype.compute=function(t){var e=[];t.forEach((function(t){if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=t[i];e.length>i?!0===n&&(e[i]=!0):e.push(n)}})),this.outs[0].set(e)},Xe.prototype.clone=function(){var t=new Xe;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},Xe.prototype.load=function(t){this.size=t.size,this.ensureIO(),ot.prototype.load.call(this,t)},Xe.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t},Xe.prototype.ensureIO=function(){this.height=16*this.size+8,this.height<50&&(this.height=50);for(var t=this.size/2*16-8,e=0;e<this.size;e++){var i=30*this.size,n=Math.atan2(this.height/2,i),o=i/Math.cos(n),r=t-16*e,s=Math.sqrt(o*o-r*r)-i;e<this.ins.length?(this.ins[e].x=-this.width/2+s,this.ins[e].y=r,this.ins[e].len=16+s,this.ins[e].bus=!0):this.addIn(-this.width/2+s,t-16*e,16+s).bus=!0}for(;e<this.size;e++);if(e<this.ins.length){for(;e<this.ins.length;e++)this.ins[e].clear();this.ins.splice(this.size)}},Xe.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.height,n=this.width,o=this.x-n/2-.5,r=(this.x,this.y-i/2-.5),s=this.y+i/2+.5;t.beginPath();var a=30*this.size,c=Math.atan2(i/2,a),l=a/Math.cos(c);t.arc(o-a,this.y,l,-c,c);var u=(n/2*(n/2)-i/2*(i/2))/i;l=i/2+u,c=Math.atan2(u,n/2),t.moveTo(o,r),t.lineTo(this.x-this.width/4,r),t.bezierCurveTo(this.x+this.width/4,r,this.x+3*this.width/8,this.y-this.height/4,this.x+this.width/2,this.y),t.moveTo(o,s),t.lineTo(this.x-this.width/4,s),t.bezierCurveTo(this.x+this.width/4,s,this.x+3*this.width/8,this.y+this.height/4,this.x+this.width/2,this.y),t.stroke(),this.drawName(t,-2,5),this.drawIO(t,e)},Xe.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null}),(function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO()})),i.open()};var We=function(){ot.call(this),this.height=100,this.width=52,this.value=null;var t=!0;Object.defineProperty(this,"bus",{get:function(){return t},set:function(e){if(t!==e){if(this.ins[0].bus!==e){for(var i=0;i<this.ins.length;i++)this.ins[i].clear();this.ins=[]}t=e,this.ensureIO()}}}),this.setSize(3),this.circuitOuts=[],this.ensureIO()};(We.prototype=Object.create(ot.prototype)).constructor=We,We.prototype.prefix="U",We.type="BusDecoder",We.label="Decoder",We.desc="Configurable Decoder",We.description="<h2>Decoder</h2>\n<p>The Decoder component converts a 2 to 4-bit binary value on <strong>In</strong> \nto a true on one of four to sixteen output lines. The number of outputs is determined \nby the bit size and is configurable.</p>",We.order=400,We.help="busdecoder",We.prototype.setSize=function(t){this.size=t,this.outputs=1;for(var e=0;e<t;e++)this.outputs*=2;this.ensureIO()},We.prototype.compute=function(t){if(this.bus)if(Array.isArray(t[0])){for(var e=0,i=1,n=0;n<t[0].length;n++)e+=t[0][n]?i:0,i*=2;this.set(e)}else this.set(null);else{for(var o=0,r=1,s=!1,a=0;a<t.length;a++){if(void 0===t[a]){s=!0;break}o+=t[a]?r:0,r*=2}this.set(s?null:o)}},We.prototype.set=function(t){if(null!=t){t&=this.outputs-1;for(var e=0;e<this.outputs;e++)this.outs[e].set(e==t)}else for(var i=0;i<this.outputs;i++)this.outs[i].set(void 0);this.value=t},We.prototype.clone=function(){var t=new We;return t.bus=this.bus,t.setSize(this.size),t.copyFrom(this),t},We.prototype.ensureIO=function(){var t,e=16,i=!1;if(this.height=this.outputs*e+26,this.height<80&&(this.height=80),this.ins.length>0&&this.ins[0].bus!==this.bus){for(t=0;t<this.ins.length;t++)this.ins[t].clear();this.ins=[]}if(this.bus)this.ins.length<1&&(this.addIn(-this.width/2,0,14,"In").bus=!0,i=!0);else{var n=this.size/2*e-8;for(t=0;t<this.size;t++){var o=n-t*e,r=null;t<this.ins.length?((r=this.ins[t]).x=-this.width/2,r.y=o,r.len=14):(i=!0,(r=this.addIn(-this.width/2,o,14,"I"+t)).orientation="w")}if(t<this.ins.length){for(;t<this.ins.length;t++)this.ins[t].clear();this.ins.splice(this.size)}}var s=this.width/2,a=this.outputs/2*e-8;for(t=0;t<this.outputs&&!(t>=this.outs.length);t++)this.outs[t].name="O"+t,this.outs[t].x=s,this.outs[t].y=a-t*e,this.outs[t].len=14;for(;t<this.outputs;t++)this.addOut(s,a-t*e,14,"O"+t),i=!0;if(t<this.outs.length){for(;t<this.outs.length;t++)this.outs[t].clear();this.outs.splice(this.outputs)}i&&this.set(this.value)},We.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5;this.y,this.height,this.y,this.height;if(this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText("decoder",this.x,this.y+this.height/2-2),null!==this.value&&this.value>=0&&this.value<this.outputs){var o=this.outs[this.value].y,r=this.value>=10?26:19;this.jaggedLine(t,i+15,this.y,n-r,this.y+o,.5)}this.drawName(t,0,-this.height/2+12),this.drawIO(t,e)},We.prototype.load=function(t){this.bus=!1!==t.bus,this.setSize(t.size),ot.prototype.load.call(this,t)},We.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t.bus=this.bus,t},We.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size (bits): </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');o+='<div class="control center"><div class="choosers">';var r=i.uniqueId();o+='\n<label><input type="radio" name="'.concat(r,'"  ').concat(this.bus?"checked":"",' value="1"> Bus Input</label>\n<label><input type="radio" name="').concat(r,'" ').concat(this.bus?"":"checked",' value="0"> Single Bit Inputs</label>'),o+="</div></div>",i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>4?"Size must be an integer from 2 to 4":null}),(function(){e.setSize(document.getElementById(n).value),e.bus="1"===document.querySelector("input[name=".concat(r,"]:checked")).value})),i.open()},We.paletteImage=function(){var t=new xt(60,44);return t.box(20,42),t.io(10,-17.5,"e",8,5),t.io(-10,0,"w"),t.drawText("Decoder",0,20,"4px Times"),t};var Ye=function(){ot.call(this),this.height=16,this.width=96,this.from=0,this.to=1,this.addIn(-48,0,16).bus=!0,this.addOut(48,0,16).bus=!0};(Ye.prototype=Object.create(ot.prototype)).constructor=Ye,Ye.prototype.prefix=null,Ye.type="BusSelector",Ye.label="Bus Selector",Ye.desc="Bus Subset Selector",Ye.img="busselector.png",Ye.description="<h2>Bus Selector</h2><p>A Bus Selector chooses some \nrange of bits from an input bus and feeds them to an output bus. This is a  tool \nto use to select fields from a bus.</p>\n<p>If configured as 4 to 8 (8:4 on the symbol), bits 4-8 becomes bits 0-4 on\nthe output bus. The output is a bus if more than one bit is selected and is a bit \nif only one bit is selected.</p>",Ye.order=310,Ye.help="busselector",Ye.prototype.clone=function(){var t=new Ye;return t.copyFrom(this),t.from=this.from,t.to=this.to,t},Ye.prototype.compute=function(t){if(void 0!==t[0])if(this.from==this.to)this.outs[0].set(t[0][this.from]);else{for(var e=[],i=this.from;i<=this.to;i++)e.push(t[0][i]);this.outs[0].set(e)}else this.outs[0].set(void 0)},Ye.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#dddddd",t.fill(),this.selectStyle(t,e),this.outlinePath(t),t.stroke(),t.font="14px Times",t.textAlign="center",t.fillText(this.to+":"+this.from,this.x,this.y+5),this.drawIO(t,e)},Ye.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e+this.height/2,n),t.lineTo(e,this.y),t.lineTo(e+this.height/2,o),t.lineTo(i-this.height/2,o),t.lineTo(i,this.y),t.lineTo(i-this.height/2,n),t.lineTo(e+this.height/2,n)},Ye.prototype.save=function(){var t=ot.prototype.save.call(this);return t.from=this.from,t.to=this.to,t},Ye.prototype.load=function(t){this.from=t.from,this.to=t.to,ot.prototype.load.call(this,t),this.ensureIO()},Ye.prototype.ensureIO=function(){this.outs[0].bus=this.from!=this.to},Ye.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=i.uniqueId(),r='<div class="control1 center gap">\n<input class="number" type="text" name="'.concat(n,'" id="').concat(n,'" value="').concat(this.from,'" spellcheck="false" onfocus="this.select()"> \n<label for="').concat(o,'">to </label>\n<input class="number" type="text" name="').concat(o,'" id="').concat(o,'" value="').concat(this.to,'" spellcheck="false" onfocus="this.select()"></div>');i.extra(r,(function(){var t=document.getElementById(n).value,e=document.getElementById(o).value,i=parseInt(t),r=parseInt(e);return isNaN(i)||i<0||i>32?(document.getElementById(n).select(),"Invalid from value"):isNaN(r)||r<0||r>32?(document.getElementById(o).select(),"Invalid to value"):i>r?(document.getElementById(n).select(),"Invalid values, <em>from</em> must be less than or equal to <em>to</em>."):null}),(function(){var t=document.getElementById(n).value,i=document.getElementById(o).value;e.from=parseInt(t),e.to=parseInt(i),e.ensureIO(),e.pending()})),i.open()};var Je=function(){ot.call(this),this.height=80,this.width=32,this.size=2,this.lastIn=null,this.bus=!0,this.circuitIns=[],this.addOut(this.width/2,0,8,"O").bus=!0,this.addIn(0,-this.height/2+10,13,"").orientation="n",this.ensureIO()};(Je.prototype=Object.create(ot.prototype)).constructor=Je,Je.prototype.prefix=null,Je.prototype.indent=10,Je.type="Multiplexer",Je.label="Multiplexer",Je.desc="Multiplexer",Je.img="multiplexer.png",Je.description="<h2>Multiplexer</h2><p>Multiplexes 2 to 16 inputs to a single output. The \ninputs and outputs and can be configured as buses or single bits.</p>\n<p>The value of the input pin or bus determines which input is routed to O. The input will be a single\nbit if there are two choices (binary) or a bus if there are more than 2 choices. </p>",Je.order=402,Je.help="multiplexer",Je.prototype.compute=function(t){var e=t[0];if(void 0===e)return this.outs[0].set(void 0),void(this.lastIn=null);if(Array.isArray(e)){var i=0,n=1;e.forEach((function(t){t&&(i+=n),n*=2})),e=i}else e=e?1:0;e<=t.length?(this.outs[0].set(t[e+1]),this.lastIn=e):(this.outs[0].set(void 0),this.lastIn=null)},Je.prototype.clone=function(){var t=new Je;return t.size=this.size,t.bus=this.bus,t.ensureIO(),t.copyFrom(this),t},Je.prototype.load=function(t){this.size=t.size,this.bus=!1!==t.bus,this.ensureIO(),ot.prototype.load.call(this,t)},Je.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t.bus=this.bus,t},Je.prototype.ensureIO=function(){if(this.bus!==this.outs[0].bus){for(this.outs[0].clear(),this.outs[0].bus=this.bus,n=1;n<this.ins.length;n++)this.ins[n].clear();this.ins.splice(1,this.ins.length-1)}this.height=16*this.size+16,this.height<48&&(this.height=48);var t=this.width/2,e=this.ins[0];e.x=0,e.y=-this.height/2+this.indent/2,e.bus=this.size>2;for(var i=this.size/2*16-8,n=0;n<this.size&&!(n>=this.ins.length-1);n++){var o=this.ins[n+1];o.name="I"+n,o.x=-t,o.y=i-16*n,o.len=8}for(;n<this.size;n++)this.addIn(-t,i-16*n,8,"I"+n).bus=this.bus;if(++n<this.ins.length){for(;n<this.ins.length;n++)this.ins[n].clear();this.ins.splice(this.size+1)}},Je.prototype.draw=function(t,e){if(this.selectStyle(t,e),this.drawTrap(t,0,this.indent),null!==this.lastIn){var i=this.x-4,n=this.x+4,o=this.y-1,r=this.y+this.size/2*16-10-16*this.lastIn;this.jaggedLine(t,i,r,n,o,.5)}this.drawIO(t,e)},Je.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'.concat(n,'">Number of inputs: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');o+='<div class="control center"><div class="choosers">';var r=i.uniqueId();o+='\n<label><input type="radio" name="'.concat(r,'"  ').concat(this.bus?"checked":"",' value="1"> Bus</label>\n<label><input type="radio" name="').concat(r,'" ').concat(this.bus?"":"checked",' value="0"> Single Bit</label>'),o+="</div></div>",i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?(document.getElementById(n).select(),"Must be an integer from 2 to 16"):null}),(function(){e.size=parseInt(document.getElementById(n).value),e.bus="1"===document.querySelector("input[name=".concat(r,"]:checked")).value,e.ensureIO()})),i.open()};var Ve=function(){};Ve.draw=function(t,e,i,n,o){var r=t.fillStyle,s=t.strokeStyle;t.fillStyle="#dddddd",t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fill(),t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.arc(e,i,n,0,2*Math.PI);var a=Math.cos(o)*n,c=Math.sin(o)*n;t.moveTo(e-a,i-c),t.lineTo(e+a,i+c),t.stroke(),t.strokeStyle=s,t.fillStyle=r,t.lineWidth=1};var Ge=function(){ot.call(this),this.height=50,this.width=50,this.buttonSize=40,this.value=!1,this.color="blue",this.addOut(this.width/2,0,48-this.width/2),this.set(!1)};(Ge.prototype=Object.create(ot.prototype)).constructor=Ge,Ge.prototype.prefix="B",Ge.type="Button",Ge.label="Button",Ge.desc="Push Button",Ge.img="button.png",Ge.order=100,Ge.description="<h2>Push Button</h2><p>Clicking the button turns on the output (true), while releasing turns it off.</p>",Ge.prototype.clone=function(){var t=new Ge;return t.value=this.value,t.color=this.color,t.copyFrom(this),t},Ge.prototype.compute=function(t){this.outs[0].set(this.value)},Ge.prototype.load=function(t){this.color=void 0!==t.color?t.color:"blue",ot.prototype.load.call(this,t)},Ge.prototype.save=function(){var t=ot.prototype.save.call(this);return t.color=this.color,t},Ge.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.y-this.height/2+.5,o=t.fillStyle,r=t.strokeStyle;switch(t.fillStyle="#cccccc",t.fillRect(i,n,this.width,this.height),t.fillStyle=o,t.beginPath(),t.rect(i,n,this.width,this.height),t.stroke(),this.color){case"blue":default:var s=["#25ffff","#15ddff","#00d5d4"];break;case"green":s=["#25ff25","#15ff00","#00d500"]}if(this.value){var a=t.createRadialGradient(this.x,this.y,1,this.x,this.y,16);a.addColorStop(0,s[0]),a.addColorStop(.5,s[1]),a.addColorStop(1,s[2]),t.fillStyle=a}else t.fillStyle="#888888";t.beginPath(),t.arc(this.x,this.y,16,0,2*Math.PI),t.fill(),t.strokeStyle="#000000",t.beginPath(),t.arc(this.x,this.y,17,0,2*Math.PI),t.lineWidth=4,t.stroke(),t.lineWidth=1,t.fillStyle=o,t.strokeStyle=r;var c=18;Ve.draw(t,this.x-c,this.y-c,3,.3),Ve.draw(t,this.x-c,this.y+c,3,1.3),Ve.draw(t,this.x+c,this.y-c,3,2.3),Ve.draw(t,this.x+c,this.y+c,3,.7),this.drawIO(t,e)},Ge.prototype.touch=function(t,e){return x.distance(new x(t,e),new x(this.x,this.y))<16?(this.set(!0),null):ot.prototype.touch.call(this,t,e)},Ge.prototype.mouseUp=function(){this.set(!1)},Ge.prototype.set=function(t){this.value=t,this.outs[0].set(t)},Ge.prototype.setAsString=function(t){var e=1==+t;this.set(e)},Ge.prototype.get=function(){return this.value},Ge.prototype.properties=function(t){var e=this,i=this,n=new et(this,t,!1),o=n.uniqueId(),r='<div class="control1 center"><label for="'+o+'">Color: </label><select id="'+o+'">';["green","blue"].forEach((function(t){t===i.color?r+="<option selected>"+t+"</option>":r+="<option>"+t+"</option>"})),r+="</select></div>",n.extra(r,(function(){return null}),(function(){e.color=document.getElementById(o).value})),n.open()};var Ke=function(){ot.call(this),this.size=22,this.text="Text",this.color="black",this.height=this.size,this.width=2*this.size};(Ke.prototype=Object.create(ot.prototype)).constructor=Ke,Ke.prototype.prefix=null,Ke.type="Text",Ke.label="Text",Ke.desc="Arbitrary Text",Ke.img="text.png",Ke.order=106,Ke.description="<h2>Text</h2><p>Arbitrary text for diagrams. Allows for notations that help\ndescribe parts of diagrams. The text size in pixels can be specified, as can the colors from a \nlimited palette.</p><p>The color selection is overridden by the selection color (red) when the \ntext component is selected.</p>",Ke.help="text",Ke.prototype.clone=function(){var t=new Ke;return t.copyFrom(this),t.text=this.text,t.size=this.size,t},Ke.prototype.draw=function(t,e){var i=this.selectStyle(t,e),n=this.text.replace(/&lt;/g,"<");if(n=(n=n.replace(/&gt;/g,">")).replace(/&amp;/g,"&"),t.font=this.size+"px Times",t.textAlign="center",i)t.fillText(n,this.x-1,this.y+5);else{var o;switch(this.color){default:o=this.color;break;case"green":o="#008000";break;case"pink":o="#FF69B4"}It.fillTextWith(t,n,this.x-1,this.y+5,o)}this.height=this.size,this.width=t.measureText(n).width,this.drawIO(t,e)},Ke.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=i.uniqueId(),r=i.uniqueId(),s='<div class="control">\n<label for="'.concat(n,'">Text: </label>\n<input type="text" id="').concat(n,'" value="').concat(this.text,'">\n</div>\n<div class="control1 center"><label for="').concat(o,'">Size: </label>\n<input class="number" type="text" id="').concat(o,'" value="').concat(this.size,'"></div>');s+='<div class="control1 center"><label for="'+r+'">Color: </label><select id="'+r+'">';var a=["black","green","blue","purple","orange","maroon","pink"];for(var c in a){var l=a[c];l===this.color?s+="<option selected>"+l+"</option>":s+="<option>"+l+"</option>"}s+="</select></div>",i.extra(s,(function(){var t=parseInt(document.getElementById(o).value);return isNaN(t)||t<10||t>55?"Size must be an integer between 10 and 55":zt.htmlentities(document.getElementById(n).value).length<1?"Text cannot be empty":null}),(function(){e.text=zt.htmlentities(document.getElementById(n).value),e.size=parseInt(document.getElementById(o).value),e.color=zt.sanitize(document.getElementById(r).value)})),i.open(),document.getElementById(n).select()},Ke.prototype.save=function(){var t=ot.prototype.save.call(this);return t.text=this.text.replace(/'/g,"`"),t.size=this.size,"black"!==this.color&&(t.color=this.color),t},Ke.prototype.load=function(t){this.text=zt.sanitize(t.text.replace(/`/g,"'")),this.size=+t.size,void 0!==t.color&&(this.color=zt.sanitize(t.color)),ot.prototype.load.call(this,t)};var Ze=function(){ot.call(this),this.height=176,this.width=128;var t=this.width/2,e=this.height/2;this.values=[0,0,0,0,0,0,0,0],this.lastClk=!1,this.lastA=null,this.lastB=null,this.lastALU=null,this.lastW=null,this.alu=0;var i=this.addIn(0,-e,8);i.orientation="n",i.clock=!0,this.addIn(-t,-48,16,"ALU").bus=!0,this.addIn(-t,16,16,"Ae").bus=!0,this.addIn(-t,48,16,"Be").bus=!0,this.addIn(-t,-32,16,"ALUe").bus=!0,this.addIn(0,this.height/2,8,"R").orientation="s",this.addIn(-t,-16,16,"W"),this.addOut(t,-48,16,"A").bus=!0,this.addOut(t,48,16,"B").bus=!0,this.outs[0].set(void 0),this.outs[1].set(void 0)};(Ze.prototype=Object.create(ot.prototype)).constructor=Ze,Ze.prototype.prefix="R",Ze.type="Registers16",Ze.label="Registers",Ze.desc="Register File",Ze.img="registers16.png",Ze.description="<h2>Registers</h2>\n<p>Simple 16-bit register file. Ae and Be choose which register is routed to \nthe A and B outputs. ALU is the input from the ALU. ALUe chooses which register to write. \nA register will only be written if W (write enable) is high.</p><p>R is a reset input and is optional. \nThe R input (reset) sets all registers to zero.</p>\n<p>The register file sets the \nregister on the clock <em>leading edge.</em></p>",Ze.order=700,Ze.help="registers16",Ze.prototype.compute=function(t){if(this.lastA=I.busValueToDecimal(t[2],8),this.lastB=I.busValueToDecimal(t[3],8),this.lastALU=I.busValueToDecimal(t[4],8),this.lastW=t[6],t[0]&&!this.lastClk&&(this.alu=I.busValueToDecimal(t[1]),null!==this.lastALU&&this.lastW&&(this.values[this.lastALU]=this.alu)),t[5]&&(this.values=[0,0,0,0,0,0,0,0]),null!==this.lastA){for(var e=this.values[this.lastA],i=[],n=0;n<16;n++)i.push(1==(1&e)),e>>=1;this.outs[0].set(i)}else this.outs[0].set(void 0);if(null!==this.lastB){for(var o=this.values[this.lastB],r=[],s=0;s<16;s++)r.push(1==(1&o)),o>>=1;this.outs[1].set(r)}else this.outs[1].set(void 0);this.lastClk=t[0]},Ze.prototype.clone=function(){var t=new Ze;return t.copyFrom(this),t.values=this.values.slice(),t},Ze.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),t.font='10px "Lucida Console", Monaco, monospace',t.textAlign="left";for(var i=this.y-54,n=this.x-11,o=n+45,r=i,s=0;s<8;s++)t.fillText("r"+s+":"+w.toHex(this.values[s],4),this.x-10,r),r+=16;var a=i-4;null!==this.lastALU&&this.lastW&&this.jaggedLine(t,this.x-this.width/2+34,this.y-48,n,a+16*this.lastALU,.5),null!==this.lastA&&this.jaggedLine(t,o,a+16*this.lastA,this.x+this.width/2-14,this.y-48,.66),null!==this.lastB&&this.jaggedLine(t,o,a+16*this.lastB,this.x+this.width/2-14,this.y+48,.33),t.font="12px Times",t.textAlign="center",this.drawIO(t,e)},Ze.prototype.testAsString=function(t,e){if(null!==t)if("reset"===t)this.values=[0,0,0,0,0,0,0,0],this.pending();else if("r"===t.substr(0,1)){var i=parseInt(t.substr(1,1));if(i<0||i>7)throw"Invalid register indicated in test "+t;var n=parseInt(t.substr(3));if(n!==+this.values[i])throw"Incorrect register values. Register r"+i+" expected=0x"+w.toHex(n,4)+" actual=0x"+w.toHex(this.values[i],4)}},Ze.prototype.setAsString=function(t){this.testAsString(t)};var $e=function(){ot.call(this),this.height=96,this.width=32,this.valueR=void 0,this.valueY=void 0,this.valueG=void 0,this.red=new Le(0,-32,12),this.yellow=new Le(0,0,12),this.green=new Le(0,32,12),this.addIn(-16,-32,16),this.addIn(-16,0,16),this.addIn(-16,32,16)};($e.prototype=Object.create(ot.prototype)).constructor=$e,$e.prototype.prefix="L",$e.prototype.nameRequired=!0,$e.type="TrafficLight",$e.label="Traffic Light",$e.desc="Traffic Light",$e.img="trafficlight.png",$e.description="<h2>Traffic Light</h2><p>The Traffic Light component has indicators \nfor Red, Yellow, and Green as in a conventional traffic light.</p>",$e.order=504,$e.help="trafficlight",$e.prototype.compute=function(t){this.valueR=t[0],this.valueY=t[1],this.valueG=t[2]},$e.prototype.clone=function(){var t=new $e;return t.copyFrom(this),t},$e.prototype.testAsString=function(t,e){if(null!==t){var i=t.split("=");if("?"!==i[1]){if(i.length<2)throw"Invalid traffic light test validation string "+t;var n;switch(i[0]){case"red":n=this.valueR;break;case"grn":case"green":n=this.valueG;break;case"yel":case"yellow":n=this.valueY;break;default:throw"Invalid traffic light test validation string "+t}if(void 0===n||"1"===i[1]&&!n||"0"===i[1]&&n){var o=void 0===n?"?":n?"1":"0";throw"Incorrect traffic light value. Expected "+t+" but got "+i[0]+"="+o}}}},$e.prototype.draw=function(t,e){this.selectStyle(t,e);var i="#feb51a";this.drawBox(t,i),this.red.color=void 0===this.valueR?"undefined":this.valueR?"red":"off",this.red.draw(t,this.x-.5,this.y,i),this.yellow.color=void 0===this.valueY?"undefined":this.valueY?"yellow":"off",this.yellow.draw(t,this.x-.5,this.y,i),this.green.color=void 0===this.valueG?"undefined":this.valueG?"green":"off",this.green.draw(t,this.x-.5,this.y,i),this.drawIO(t,e)};var ti=function(){ot.call(this),this.height=134,this.width=64;this.width,this.height;var t=-56,e=16;this.addIn(-this.width/2,t,e,"I3"),t+=16,this.addIn(-this.width/2,t,e,"I2"),t+=16,this.addIn(-this.width/2,t,e,"I1"),t+=16,this.addIn(-this.width/2,t,e,"I0"),t+=32,this.addIn(-this.width/2,t,e,"I").bus=!0,t=-56,e=16,this.addOut(this.width/2,t,e,"a"),t+=16,this.addOut(this.width/2,t,e,"b"),t+=16,this.addOut(this.width/2,t,e,"c"),t+=16,this.addOut(this.width/2,t,e,"d"),t+=16,this.addOut(this.width/2,t,e,"e"),t+=16,this.addOut(this.width/2,t,e,"f"),t+=16,this.addOut(this.width/2,t,e,"g"),t+=16};(ti.prototype=Object.create(ot.prototype)).constructor=ti,ti.prototype.prefix="D",ti.type="HexToSevenSegment",ti.label="Hex to Seven Segment",ti.desc="Hexadecimal to Seven Segment Decoder",ti.img=null,ti.description="<h2>Hex to Seven Segement</h2><p>Decodes hexadecimal into the correct outputs for a seven-segment display. Accepts either single bit lines or bus input.</p>",ti.order=506,ti.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2],o=t[3];if((void 0===e||void 0===i||void 0===n||void 0===o)&&void 0!==t[4]){var r=t[4];e=r[3],i=r[2],n=r[1],o=r[0]}if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var s=[[!0,!0,!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!1,!0],[!0,!0,!0,!0,!1,!1,!0],[!1,!0,!0,!1,!1,!0,!0],[!0,!1,!0,!0,!1,!0,!0],[!0,!1,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!1,!0,!0],[!0,!0,!0,!1,!0,!0,!0],[!1,!1,!0,!0,!0,!0,!0],[!0,!1,!1,!0,!0,!0,!1],[!1,!0,!0,!0,!0,!1,!0],[!0,!1,!1,!0,!0,!0,!0],[!0,!1,!1,!1,!0,!0,!0]][(e?8:0)+(i?4:0)+(n?2:0)+(o?1:0)];for(e=0;e<7;e++)this.outs[e].set(s[e])}else for(e=0;e<7;e++)this.outs[e].set(void 0)},ti.prototype.clone=function(){var t=new ti;return t.copyFrom(this),t},ti.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,3),this.drawText(t,"Hex-to-7",0,this.height/2-5),this.drawIO(t,e)},ti.paletteImage=function(){var t=new xt(60,44);t.box(20,40),t.io(-10,-15.5,"w",4,5),t.io(10,-15.5,"e",7,5);var e=t.context.lineWidth;return t.context.lineWidth=2,t.io(-10,15.5,"w"),t.context.lineWidth=e,t.drawText("Hex-to-7",0,18,"4px Times"),t};var ei=function(){ot.call(this),this.height=150,this.width=90,this.value=[void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.color="green";var t=-64,e=11;this.addIn(-this.width/2,t,e,"a"),t+=16,this.addIn(-this.width/2,t,e,"b"),t+=16,this.addIn(-this.width/2,t,e,"c"),t+=16,this.addIn(-this.width/2,t,e,"d"),t+=16,this.addIn(-this.width/2,t,e,"e"),t+=16,this.addIn(-this.width/2,t,e,"f"),t+=16,this.addIn(-this.width/2,t,e,"g"),t+=16,t+=16,this.addIn(-this.width/2,t,e,"en")};(ei.prototype=Object.create(ot.prototype)).constructor=ei,ei.prototype.prefix="L",ei.prototype.nameRequired=!0,ei.type="7seg",ei.label="7 SEG",ei.desc="7 Segment Display",ei.img="7seg.png",ei.order=508,ei.description="<h2>7 Seg</h2><p>A 7 segment display has seven different display positions that can be set independently to make numbers and other characters. The en (enable) pin enables the display if true or if not connected.</p>",ei.prototype.compute=function(t){if(!1===t[7])for(var e=0;e<7;e++)this.value[e]=!1;else for(e=0;e<7;e++)this.value[e]=t[e]},ei.prototype.get=function(t){return this.ins[0].value[t]},ei.prototype.clone=function(){var t=new ei;return t.color=this.color,t.value=this.value.slice(),t.copyFrom(this),t},ei.prototype.draw=function(t,e){var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;this.selectStyle(t,e);var s=t.fillStyle,a=t.strokeStyle;t.fillStyle="#cccccc",t.fillRect(i,o,this.width,this.height),t.fillStyle=s,t.beginPath(),t.rect(i,o,this.width,this.height),t.stroke();var c=.2*this.width,l=.02*this.width;i+=c+5,n-=c,o+=c,r-=c,t.font="11px Times",t.textAlign="center",this.drawSegment(t,this.value[0],{x:i+l,y:o},{x:n-l,y:o},"a"),this.drawSegment(t,this.value[1],{x:n,y:o+l},{x:n,y:this.y-l},"b"),this.drawSegment(t,this.value[2],{x:n,y:this.y+l},{x:n,y:r-l},"c"),this.drawSegment(t,this.value[3],{x:n-l,y:r},{x:i+l,y:r},"d"),this.drawSegment(t,this.value[4],{x:i,y:r-l},{x:i,y:this.y+l},"e"),this.drawSegment(t,this.value[5],{x:i,y:this.y-l},{x:i,y:o+l},"f"),this.drawSegment(t,this.value[6],{x:i+l,y:this.y},{x:n-l,y:this.y},"g"),t.lineWidth=1,t.fillStyle=s,t.strokeStyle=a,this.drawIO(t,e)},ei.prototype.drawSegment=function(t,e,i,n,o){var r=new x(n.x-i.x,n.y-i.y),s=x.normalize(r);s=x.rotate(s,Math.PI/4);var a=x.rotate(s,Math.PI/2),c=10*.707;if(e)switch(this.color){case"red":t.fillStyle="#fe0501";break;case"blue":t.fillStyle="#15ddff";break;default:t.fillStyle="#00fb4a"}else t.fillStyle="#444444";t.strokeStyle="#222222",t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+c*s.x,i.y+c*s.y),t.lineTo(n.x+c*a.x,n.y+c*a.y),t.lineTo(n.x,n.y),t.lineTo(n.x-c*s.x,n.y-c*s.y),t.lineTo(i.x-c*a.x,i.y-c*a.y),t.lineTo(i.x,i.y),t.fill(),t.stroke();var l=new x((n.x+i.x)/2,(n.y+i.y)/2),u=x.rotate(x.normalize(r),Math.PI/2);t.fillStyle="#000000",t.fillText(o,l.x+10*u.x,l.y+10*u.y+2),void 0===e&&(t.fillStyle="#00ffff",t.fontWeight="bolder",t.fillText("?",l.x,l.y+3),t.fontWeight="normal")},ei.prototype.load=function(t){this.color=t.color,ot.prototype.load.call(this,t)},ei.prototype.save=function(){var t=ot.prototype.save.call(this);return t.color=this.color,t},ei.prototype.properties=function(t){var e=this,i=new et(this,t,!1),n=i.uniqueId(),o='<div class="control1 center"><label for="'+n+'">Color: </label><select id="'+n+'">';["red","green","blue"].forEach((function(t){t===e.color?o+="<option selected>"+t+"</option>":o+="<option>"+t+"</option>"})),o+="</select></div>",i.extra(o,(function(){return null}),(function(){e.color=document.getElementById(n).value})),i.open()};var ii=function(){ot.call(this),this.height=80,this.width=32,this.size=4,this.circuitOuts=[],this.addIn(-this.width/2,0,this.pinlength,"I").bus=!0,this.ensureIO()};(ii.prototype=Object.create(ot.prototype)).constructor=ii,ii.prototype.prefix=null,ii.prototype.indent=10,ii.prototype.pinlength=8,ii.type="FmBus",ii.label="Fm Bus",ii.desc="Bus to Single bits",ii.img="fmbus.png",ii.order=305,ii.description="<h2>From Bus</h2><p>Converts a bus input into single bit outputs. This allows for simpler circuits.</p>",ii.prototype.compute=function(t){if(Array.isArray(t[0])){for(var e=0;e<this.size&&e<t[0].length;e++)this.outs[e].set(t[0][e]);for(;e<this.size;e++)this.outs[e].set(void 0)}else for(e=0;e<this.size;e++)this.outs[e].set(void 0)},ii.prototype.clone=function(){var t=new ii;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},ii.prototype.load=function(t){this.size=t.size,this.ensureIO(),ot.prototype.load.call(this,t)},ii.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t},ii.prototype.ensureIO=function(){this.height=16*this.size+16,this.height<48&&(this.height=48);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.outs.length);i++)this.outs[i].name="O"+i,this.outs[i].x=t,this.outs[i].y=e-16*i,this.outs[i].len=this.pinlength;for(;i<this.size;i++)this.addOut(t,e-16*i,this.pinlength,"O"+i);if(i<this.outs.length){for(;i<this.outs.length;i++)this.outs[i].clear();this.outs.splice(this.size)}},ii.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawTrap(t,this.indent,0),this.drawIO(t,e)},ii.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'+n+'">Size: </label><input class="number" type="text" id="'+n+'" value="'+this.size+'"></div>';i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null}),(function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO(),e.pending()})),i.open(),document.getElementById(n).select()};var ni=function(){ot.call(this),this.height=80,this.width=32,this.size=4,this.circuitIns=[],this.addOut(this.width/2,0,this.pinlength,"O").bus=!0,this.ensureIO()};(ni.prototype=Object.create(ot.prototype)).constructor=ni,ni.prototype.prefix=null,ni.prototype.indent=10,ni.prototype.pinlength=8,ni.type="ToBus",ni.label="To Bus",ni.desc="Single bits to a Bus",ni.img="tobus.png",ni.order=306,ni.description="<h2>To Bus</h2><p>Converts single bit inputs into a bus output to simplify circuits</p>",ni.prototype.compute=function(t){this.outs[0].set(t)},ni.prototype.clone=function(){var t=new ni;return t.size=this.size,t.ensureIO(),t.copyFrom(this),t},ni.prototype.load=function(t){this.size=t.size,this.ensureIO(),ot.prototype.load.call(this,t)},ni.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t},ni.prototype.ensureIO=function(){this.height=16*this.size+12,this.height<48&&(this.height=48);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.ins.length);i++)this.ins[i].name="I"+i,this.ins[i].x=-t,this.ins[i].y=e-16*i,this.ins[i].len=this.pinlength;for(;i<this.size;i++)this.addIn(-t,e-16*i,this.pinlength,"I"+i);if(i<this.ins.length){for(;i<this.ins.length;i++)this.ins[i].clear();this.ins.splice(this.size)}},ni.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawTrap(t,0,this.indent),this.drawIO(t,e)},ni.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'+n+'">Size: </label><input class="number" type="text" id="'+n+'" value="'+this.size+'"></div>';i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null}),(function(){e.size=parseInt(document.getElementById(n).value),e.ensureIO(),e.pending()})),i.open(),document.getElementById(n).select()};var oi=function(){ot.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,0,16,"D");var i=this.addIn(0,-e,11);i.orientation="n",i.clock=!0,this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(oi.prototype=Object.create(ot.prototype)).constructor=oi,oi.type="DFF",oi.label="D Flip-Flop",oi.desc="D Flip-Flop",oi.order=204,oi.description="<h2>D Flip-Flop</h2><p>D Flip-Flop.</p>",oi.prototype.compute=function(t){if(t[1]&&!this.lastClk){var e=t[0];this.outs[0].set(e),this.outs[1].set(e)}this.lastClk=t[1]},oi.prototype.clone=function(){var t=new oi;return t.copyFrom(this),t},oi.paletteImage=function(){var t=new xt(120,120),e=t.context;e.lineWidth=1.5,t.box(40,80);var i=t.width,n=t.height;t.io(20,-18,"e"),t.io(20,18,"e"),t.io(-20,0,"w"),t.io(0,-40,"n"),t.circle(23,18,3);var o="20px Times";t.drawText("Q",10,-13,o),t.drawTextBar("Q",10,23,o),t.drawText("D",-12,5,o);return e.beginPath(),e.moveTo(i/2-7,n/2-40),e.lineTo(i/2,n/2-33),e.lineTo(7+i/2,n/2-40),e.stroke(),t};var ri=function(){ot.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,-32,16,"D"),this.addIn(-t,32,16).clock=!0,this.addIn(0,-e,11,"S").orientation="n",this.addIn(0,e,11,"R").orientation="s",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(void 0),this.outs[1].set(void 0)};(ri.prototype=Object.create(ot.prototype)).constructor=ri,ri.type="DFFsr",ri.label="D Flip-Flop SR",ri.desc="D Flip-Flop with Set/Reset",ri.img="dffsr.png",ri.order=206,ri.description="<h2>D Flip-Flop with Set/Reset</h2><p>D Flip-Flop with Set and Reset. Set and Reset can be safely left unconnected.</p>",ri.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=this.outs[0],s=this.outs[1];!0===n&&!0===o?(r.set(void 0),s.set(void 0)):!0===n?(r.set(!0),s.set(!0)):!0===o?(r.set(!1),s.set(!1)):i&&!this.lastClk&&(r.set(e),s.set(e)),this.lastClk=i},ri.prototype.clone=function(){var t=new ri;return t.copyFrom(this),t};var si=function(){ot.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,-32,16,"J"),this.addIn(-t,32,16,"K"),this.addIn(-t,0,16).clock=!0,this.addIn(0,-e,11,"S").orientation="n",this.addIn(0,e,11,"R").orientation="s",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(void 0),this.outs[1].set(void 0)};(si.prototype=Object.create(ot.prototype)).constructor=si,si.type="JKFF",si.label="JK Flip-Flop",si.desc="JK Flip-Flop",si.img="jk.png",si.order=208,si.description="<h2>JK Flip-Flop</h2><p>JK Flip-Flop.</p>",si.prototype.compute=function(t){var e=t[3],i=t[4],n=this.outs[0],o=this.outs[1];if(!0===e&&!0===i)n.set(void 0),o.set(void 0);else if(!0===e)n.set(!0),o.set(!0);else if(!0===i)n.set(!1),o.set(!1);else if(t[2]&&!this.lastClk){var r=t[0],s=t[1];if(r&&s){var a=!this.outs[0].get();n.set(a),o.set(a)}else r?(a=!0,n.set(a),o.set(a)):s&&(a=!1,n.set(a),o.set(a))}this.lastClk=t[2]},si.prototype.clone=function(){var t=new si;return t.copyFrom(this),t};var ai=function(){ot.call(this),this.height=90,this.width=64;var t=this.width/2,e=this.height/2;this.addIn(-t,0,16,"D"),this.addIn(0,-e,11,"CLK").orientation="n",this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(ai.prototype=Object.create(ot.prototype)).constructor=ai,ai.type="DLatch",ai.label="D  Latch",ai.desc="D Latch",ai.order=202,ai.description="<h2>D Latch</h2>\n<p>A D latch passes the input D to the outputs Q and Q' when the clock input CLK is true, but\nlatches the value when CLK is false.</p>",ai.prototype.compute=function(t){if(t[1]){var e=t[0];this.outs[0].set(e),this.outs[1].set(e)}},ai.prototype.clone=function(){var t=new ai;return t.copyFrom(this),t},ai.paletteImage=function(){var t=new xt(120,120);t.context.lineWidth=1.5,t.box(40,80);t.io(20,-18,"e"),t.io(20,18,"e"),t.io(-20,0,"w"),t.io(0,-40,"n"),t.circle(23,18,3);var e="20px Times";return t.drawText("Q",10,-13,e),t.drawTextBar("Q",10,23,e),t.drawText("D",-12,5,e),t.drawText("CLK",0,-29,"12px Times"),t};var ci=function(){ot.call(this),this.height=90,this.width=64;var t=this.width/2;this.addIn(-t,-32,16,"R"),this.addIn(-t,32,16,"S"),this.addOut(t,-32,16,"Q"),this.addOutInv(t,32,16,"Q",!0),this.outs[0].set(!1),this.outs[1].set(!1)};(ci.prototype=Object.create(ot.prototype)).constructor=ci,ci.type="SRLatch",ci.label="SR Latch",ci.desc="SR Latch",ci.order=200,ci.description="<h2>SR Latch</h2><p>Set/Reset latch. The S input sets the output. The R input resets the output.</p>",ci.prototype.compute=function(t){this.outs[0].get(),this.outs[1].get();var e=t[0],i=t[1];e&&i?(this.outs[0].set(!0),this.outs[1].set(!1)):e?(this.outs[0].set(!1),this.outs[1].set(!1)):i&&(this.outs[0].set(!0),this.outs[1].set(!0))},ci.prototype.clone=function(){var t=new ci;return t.copyFrom(this),t},ci.paletteImage=function(){var t=new xt(120,100);t.context.lineWidth=1.5,t.box(40,70);var e=20;t.io(20,-20,"e"),t.io(20,e,"e"),t.io(-20,-20,"w"),t.io(-20,e,"w"),t.circle(23,e,3);var i="20px Times";return t.drawText("Q",10,-15,i),t.drawTextBar("Q",10,25,i),t.drawText("R",-12,-15,i),t.drawText("S",-12,25,i),t};var li=function(){ot.call(this),this.height=150,this.width=90,this.value=void 0;this.addIn(-this.width/2,0,11,"in").bus=!0};(li.prototype=Object.create(ot.prototype)).constructor=li,li.prototype.prefix="L",li.prototype.nameRequired=!0,li.type="letters16",li.label="16 Letter Display",li.desc="16 Letter Display",li.img="letters16.png",li.description='<h2>16 Letter Display</h2>\n<p>A special display used for Word Sequencing tasks. A 4-bit bus input value 0-15 (0 to f in hex) maps\nto the letters indicated in this table:</p>\n<table class="center">\n<tr><th>Value</th><th>Letter</th></tr>\n<tr><td>0</td><td>A</td></tr>\n<tr><td>1</td><td>C</td></tr>\n<tr><td>2</td><td>D</td></tr>\n<tr><td>3</td><td>E</td></tr>\n<tr><td>4</td><td>F</td></tr>\n<tr><td>5</td><td>H</td></tr>\n<tr><td>6</td><td>I</td></tr>\n<tr><td>7</td><td>L</td></tr>\n<tr><td>8</td><td>M</td></tr>\n<tr><td>9</td><td>N</td></tr>\n<tr><td>a</td><td>O</td></tr>\n<tr><td>b</td><td>R</td></tr>\n<tr><td>c</td><td>S</td></tr>\n<tr><td>d</td><td>T</td></tr>\n<tr><td>e</td><td>U</td></tr>\n<tr><td>f</td><td>W</td></tr>\n</table>\n',li.order=510,li.prototype.compute=function(t){if(Array.isArray(t[0])){var e=t[0];void 0===e[0]||void 0===e[1]||void 0===e[2]||void 0===e[3]?this.value=void 0:this.value=(e[0]?1:0)+(e[1]?2:0)+(e[2]?4:0)+(e[3]?8:0)}else this.value=void 0},li.prototype.get=function(t){return this.ins[0].value[t]},li.prototype.clone=function(){var t=new li;return t.value=this.value,t.copyFrom(this),t},li.prototype.draw=function(t,e){var i=this.x-this.width/2-.5,n=(this.x,this.width,this.y-this.height/2-.5);this.y,this.height;this.selectStyle(t,e);var o=t.fillStyle,r=t.strokeStyle;t.fillStyle="#cccccc",t.fillRect(i,n,this.width,this.height),t.fillStyle=o,t.beginPath(),t.rect(i,n,this.width,this.height),t.stroke();var s=void 0===this.value?"?":["A","C","D","E","F","H","I","L","M","N","O","R","S","T","U","W"][this.value];t.beginPath(),t.font="60px Arial",t.textAlign="center",t.strokeStyle="#008800",t.fillStyle=t.strokeStyle,t.fillText(s,this.x,this.y+20),t.stroke(),t.lineWidth=1,t.fillStyle=o,t.strokeStyle=r,this.drawName(t,0,this.height/2-8),this.drawIO(t,e)};var ui=function(){ot.call(this),this.height=90,this.width=32;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.addIn(-t,0,8,"D").bus=!0;var i=this.addIn(0,-e,11);i.orientation="n",i.clock=!0,this.addOut(t,0,8,"Q").bus=!0,this.outs[0].set(void 0)};(ui.prototype=Object.create(ot.prototype)).constructor=ui,ui.type="Register",ui.label="Register",ui.desc="Register",ui.description="<h2>Register</h2>\n<p>A bus register. Works like a D Flip-Flop for all bits on a bus input and output. \nWhen the clock input goes high, the output is set to the value of the input. Works for\nany bus size.</p>",ui.order=404,ui.prototype.compute=function(t){if(t[1]&&!this.lastClk){var e=t[0];this.outs[0].set(e)}this.lastClk=t[1]},ui.prototype.clone=function(){var t=new ui;return t.copyFrom(this),t},ui.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),this.drawName(t,0,-16),this.drawIO(t,e)},ui.paletteImage=function(){var t=new xt(60,44);return t.box(12,32),t.io(-6,0,"w"),t.io(6,0,"e"),t.drawText("D",-3,2,"7px Times"),t.drawText("Q",3,2,"7px Times"),t.clock(0,-16,"n"),t};var hi=function(){ot.call(this),this.height=128,this.width=64,this.shrink=15;var t=-this.width/2,e=this.width/2;this.addIn(t,-32,16,"A").bus=!0,this.addIn(t,32,16,"B").bus=!0;var i=.5*this.shrink,n=this.addIn(0,this.height/2-i,6+i,"C");n.orientation="s",n.bus=!0,this.addOut(e,0,16,"O").bus=!0,this.addOut(e,24,16,"CPSR").bus=!0};(hi.prototype=Object.create(ot.prototype)).constructor=hi,hi.prototype.prefix="ALU",hi.prototype.nameRequired=!0,hi.type="alu4",hi.label="ALU 4",hi.desc="Simple 4-bit ALU",hi.img="alu.png",hi.description="<h2>4-bit ALU</h2><p>Simple example 4-bit ALU</p>\n<p>The operation is determined by the value of the C bus input. Operations \nsupported are:<p>\n<table>\n<tr><th>C</th><th>operation</th></tr>\n<tr><td>0</td><td>O&larr;B</td></tr>\n<tr><td>1</td><td>O&larr;A+B</td></tr>\n<tr><td>2</td><td>O&larr;A-B</td></tr>\n<tr><td>3</td><td>O&larr;A&amp;B</td></tr>\n<tr><td>4</td><td>O&larr;A|B</td></tr>\n<tr><td>5</td><td>O&larr;A&lt;&lt;B (logical)</td></tr>\n<tr><td>6</td><td>O&larr;A&lt;&lt;B (arithmetic)</td></tr>\n</table>\n<p>For the shift operations, negative values for B result in a right shift.<p>\n<p>The CPSR bits are VCZN (N is the lsb).</p>",hi.order=602,hi.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2];function o(t){if(void 0!==t){var e=1,i=0;return t.forEach((function(t){void 0!==t&&(t&&(8==e?i-=e:i+=e),e*=2)})),i}}var r=o(e),s=o(i),a=s,c=!1,l=!1;switch(o(n)){default:a=s;break;case 1:c=0!=(16&(15&r)+(15&s)),l=(a=r+s)<-8||a>7;break;case 2:c=0!=(16&(15&r)+(15&~s)+1),l=(a=r-s)<-8||a>7;break;case 3:a=r&s;break;case 4:a=r|s;break;case 5:a=s<0?(15&r)>>-s:(15&r)<<s;break;case 6:a=s<0?r>>-s:r<<s}if(void 0===a)this.outs[0].set([void 0,void 0,void 0,void 0]),this.outs[1].set([void 0,void 0,void 0,void 0]);else{var u=[1==(1&a),2==(2&a),4==(4&a),8==(8&a)];this.outs[0].set(u),this.outs[1].set([u[3],0==a,c,l])}},hi.prototype.clone=function(){var t=new hi;return t.copyFrom(this),t},hi.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,this.y-this.shrink/2),t.lineTo(i+20,this.y),t.lineTo(i,this.y+this.shrink/2),t.lineTo(i,r),t.lineTo(n,r-this.shrink),t.lineTo(n,o+this.shrink),t.lineTo(i,o),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x,this.y-15)),t.stroke(),this.drawIO(t,e)},hi.prototype.properties=function(t){new et(this,t).open()};var di=function(t,e,i,n,o){this.label=t,this.value=e,this.x=i,this.y=n,this.size=void 0===o?30:o,this.state="off"};function pi(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return fi(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fi(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}di.prototype.touch=function(t,e){var i=this.size;return t>this.x-i/2&&t<this.x+i/2&&e>this.y-i/2&&e<this.y+i/2&&(this.state="pressed",!0)},di.prototype.setState=function(t){this.state=t},di.prototype.untouch=function(){return"pressed"===this.state&&(this.state="on",!0)},di.prototype.draw=function(t,e,i){var n=t.fillStyle,o=t.strokeStyle;e+=this.x,i+=this.y;var r=this.size,s=.85*r;switch(this.state){case"off":default:t.fillStyle="#3ab5de";break;case"pressed":t.fillStyle="#ff5255";break;case"on":t.fillStyle="#0000ff"}It.roundedRect(t,e-r/2,i-r/2,r,r,3),t.fill(),t.lineWidth=2,t.strokeStyle="#f2f2f2",It.roundedRect(t,e-r/2,i-r/2,r,r,3),t.stroke(),t.font=s+"px Arial",t.textAlign="center",t.fillStyle="#f2f2f2",t.fillText(this.label,e,i+.38*s),t.lineWidth=1,t.fillStyle=n,t.strokeStyle=o};var vi=function(){ot.call(this),this.height=150,this.width=150,this.value=new oe,this.bus=!0,this.bits=4,this.clockDelay=0,this.pad=null,this.setType(16),this.setAsInteger(0),this.setPressedOut(!1)};(vi.prototype=Object.create(ot.prototype)).constructor=vi,vi.prototype.prefix="P",vi.prototype.nameRequired=!0,vi.type="Pad",vi.label="Pad",vi.desc="Configurable Keypad",vi.img="pad.png",vi.description="<h2>Configurable Keypad</h2>\n<p>Presents a keypad with from 4 to 16 buttons. If configured as a bus output, there are two outputs. \nThe top output is the bus output and is the \nmost recently pressed button value. If configured for single bit output, there will be 2-4 output bits\nthe represent the most recently pressed button. \nThe bottom output is the clock and is true when the button is pressed.</p>",vi.order=500,vi.help="pad",vi.prototype.setType=function(t){var e=this;if(this.pad!==t){var i=30;switch(t){case 16:case"16":default:!function(){e.pad=16;var t=-52.5,n=-17.5,o=17.5,r=52.5,s=-8;e.buttons=[new di("0",0,t,t+s,i),new di("1",1,n,t+s,i),new di("2",2,o,t+s,i),new di("3",3,r,t+s,i),new di("4",4,t,n+s,i),new di("5",5,n,n+s,i),new di("6",6,o,n+s,i),new di("7",7,r,n+s,i),new di("8",8,t,9.5,i),new di("9",9,n,9.5,i),new di("A",10,o,9.5,i),new di("B",11,r,9.5,i),new di("C",12,t,44.5,i),new di("D",13,n,44.5,i),new di("E",14,o,44.5,i),new di("F",15,r,44.5,i)],e.width=154,e.height=e.width+13+4,e.bits=4}();break;case 10:case"10":!function(){e.pad=10;var t=-52.5,n=-17.5,o=-8;e.buttons=[new di("1",1,-35,t+o,i),new di("2",2,0,t+o,i),new di("3",3,35,t+o,i),new di("4",4,-35,n+o,i),new di("5",5,0,n+o,i),new di("6",6,35,n+o,i),new di("7",7,-35,9.5,i),new di("8",8,0,9.5,i),new di("9",9,35,9.5,i),new di("0",0,0,44.5,i)],e.width=119,e.height=171,e.bits=4}();break;case 12:case"12":!function(){e.pad=12;var t=-35,n=-52.5,o=-17.5,r=-8;e.buttons=[new di("1",1,t,n+r,i),new di("2",2,0,n+r,i),new di("3",3,35,n+r,i),new di("4",4,t,o+r,i),new di("5",5,0,o+r,i),new di("6",6,35,o+r,i),new di("7",7,t,9.5,i),new di("8",8,0,9.5,i),new di("9",9,35,9.5,i),new di("*",10,t,44.5,i),new di("0",0,0,44.5,i),new di("#",11,35,44.5,i)],e.width=119,e.height=171,e.bits=4}();break;case 8:case"8":!function(){e.pad=8;var t=-17.5,n=17.5,o=-8;e.buttons=[new di("0",0,-52.5,t+o,i),new di("1",1,t,t+o,i),new di("2",2,n,t+o,i),new di("3",3,52.5,t+o,i),new di("4",4,-52.5,9.5,i),new di("5",5,t,9.5,i),new di("6",6,n,9.5,i),new di("7",7,52.5,9.5,i)],e.width=154,e.height=101,e.bits=3}();break;case 4:case"4":!function(){e.pad=4;var t=-17.5,n=17.5;e.buttons=[new di("0",0,t,t+-8,i),new di("1",1,n,t+-8,i),new di("2",2,t,9.5,i),new di("3",3,n,9.5,i)],e.width=84,e.height=101,e.bits=2}()}this.ensureIO()}else this.ensureIO()},vi.prototype.ensureIO=function(){var t=0;if(this.outs.length>0){var e=!1;if(this.outs[0].bus!==this.bus&&(e=!0),this.bus||this.outs.length===this.bits+1||(e=!0),!e){var i,n=pi(this.outs);try{for(n.s();!(i=n.n()).done;){i.value.x=this.width/2}}catch(t){n.e(t)}finally{n.f()}return}}for(t=0;t<this.outs.length;t++)this.outs[t].clear();this.outs=[];if(this.bus)this.addOut(this.width/2,-16,11).bus=!0;else for(t=0;t<this.bits;t++){var o=0-16*t;this.addOut(this.width/2,o,11)}this.addOut(this.width/2,32,11),this.setOuts(),this.setPressedOut(!1)},vi.prototype.clone=function(){var t=new vi;return t.value=this.value.clone(),t.bus=this.bus,t.setType(this.pad),t.copyFrom(this),t},vi.prototype.draw=function(t,e){var i=this,n=this.x-this.width/2-.5,o=this.y-this.height/2-.5,r=this.unselectedStyle;this.unselectedStyle="#f2f2f2",this.selectStyle(t,e);var s=t.fillStyle,a=t.strokeStyle;t.fillStyle="#111111",It.roundedRect(t,n,o,this.width,this.height,6),t.fill();t.fillStyle=s,t.lineWidth=2,It.roundedRect(t,n+3,o+3,this.width-6,this.height-6,6),t.stroke(),t.lineWidth=1,this.buttons.forEach((function(e){e.draw(t,i.x,i.y)})),this.drawName(t,0,this.height/2-8),t.lineWidth=1,t.fillStyle=s,t.strokeStyle=a,this.unselectedStyle=r,this.drawIO(t,e)},vi.prototype.touch=function(t,e){var i=this.size;if(!(t<this.x-i/2||t>this.x+i/2||e<this.y-i/2||e>this.y-i/2)){for(var n in this.buttons){var o=this.buttons[n];if(o.touch(t-this.x,e-this.y)){this.setAsInteger(o.value,4),this.setPressedOut(!0);break}}return ot.prototype.touch.call(this,t,e)}},vi.prototype.set=function(t){this.value.set(t),this.setOuts(),this.updateUI()},vi.prototype.setAsInteger=function(t){this.value.setAsInteger(t,this.bits),this.setOuts(),this.updateUI()},vi.prototype.updateUI=function(){var t=this.value.getAsInteger(),e=this.getPressedOut();void 0===e&&(e=!1),this.buttons.forEach((function(i){i.value!==t?i.setState("off"):e?i.setState("pressed"):i.setState("on")}))},vi.prototype.setAsString=function(t,e){"release"===t?this.mouseUp():"press:"===t.substr(0,6)?(this.value.setAsHex(t.substr(6)),this.setPressedOut(!0),this.updateUI()):(this.value.setAsString(t,e),this.updateUI()),e||this.setOuts()},vi.prototype.setOuts=function(){if(this.bus)this.outs[0].set(this.value.get());else for(var t=0;t<this.bits;t++)this.outs[t].set(this.value.getBit(t))},vi.prototype.advance=function(t){return!1},vi.prototype.compute=function(t){var e=!0===t[0];this.bus?this.outs[1].set(e):this.outs[this.bits].set(e),this.updateUI()},vi.prototype.setPressedOut=function(t){var e=this.getSimulation();null!==e&&e.queue(this,50,[t])},vi.prototype.getPressedOut=function(){return this.bus?this.outs[1].get():this.outs[this.bits].get()},vi.prototype.mouseUp=function(){this.buttons.forEach((function(t){t.untouch()})),this.setPressedOut(!1)},vi.prototype.save=function(){var t=ot.prototype.save.call(this);return this.value.save(t),t.pad=this.pad,t.bus=this.bus,t},vi.prototype.load=function(t){this.value.load(t),this.bus=!1!==t.bus,this.setType(t.pad),ot.prototype.load.call(this,t)},vi.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control center"><div class="choosers">';o+='\n<label><input type="radio" name="'.concat(n,'" value="16" ').concat(16===this.pad?"checked":"",'> 16 Buttons (Hex)</label>\n<label><input type="radio" name="').concat(n,'" value="10" ').concat(10===this.pad?"checked":"",'> 10 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="8" ').concat(8===this.pad?"checked":"",'> 8 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="4" ').concat(4===this.pad?"checked":"",'> 4 Buttons </label>\n<label><input type="radio" name="').concat(n,'" value="12" ').concat(12===this.pad?"checked":"","> Phone (12 buttons)</label>\n"),o+="<br>";var r=i.uniqueId();o+='\n<label><input type="radio" name="'.concat(r,'"  ').concat(this.bus?"checked":"",' value="1"> Bus Output</label>\n<label><input type="radio" name="').concat(r,'" ').concat(this.bus?"":"checked",' value="0"> Single Bit Outputs</label>'),o+="</div></div>",i.extra(o,(function(){return null}),(function(){e.bus="1"===document.querySelector("input[name=".concat(r,"]:checked")).value,e.setType(document.querySelector("input[name=".concat(n,"]:checked")).value)})),i.open()};var mi=function(){ot.call(this),this.height=50,this.width=20,this.leds=[],this.horz=!1,this.bus=!1,this.color="blue",this.lastState=[],this.setSize(4)};(mi.prototype=Object.create(ot.prototype)).constructor=mi,mi.prototype.prefix="L",mi.type="LEDBar",mi.label="LED Bar",mi.desc="LED Indicator Bar",mi.img="ledbar.png",mi.description="<h2>LED Bar</h2><p>The LED Bar component displays from two to \nsixteen LEDs in a vertical or horizontal bar that are lighted by values on discrete inputs\nor a single bus input. </p>",mi.order=502,mi.help="ledbar",mi.prototype.setSize=function(t){this.size=+t,this.ensureIO()},mi.prototype.compute=function(t){this.bus?(this.lastState=t[0],void 0===this.lastState&&(this.lastState=[])):this.lastState=t},mi.prototype.clone=function(){var t=new mi;return t.size=this.size,t.horz=this.horz,t.bus=this.bus,t.ensureIO(),t.copyFrom(this),t},mi.prototype.load=function(t){this.color=zt.sanitize(t.color),void 0!==t.horz&&(this.horz=!0===t.horz),void 0!==t.bus&&(this.bus=!0===t.bus),this.setSize(t.size),ot.prototype.load.call(this,t)},mi.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t.color=this.color,t.horz=this.horz,t.bus=this.bus,t},mi.prototype.ensureIO=function(){var t=16,e=0;if(this.leds=[],this.ins.length>0&&this.ins[0].bus!==this.bus){for(e=0;e<this.ins.length;e++)this.ins[e].clear();this.ins=[]}if(this.horz){this.width=this.size*t,this.width<50&&(this.width=50),this.height=20;var i=this.size/2*t-8;for(e=0;e<this.size;e++){var n=i-e*t;this.leds.push(new Le(n,0,t,this.height))}if(this.bus){var o=null;e<this.ins.length?((o=this.ins[e]).x=-this.width/2,o.y=0,o.len=16):o=this.addIn(-this.width/2,0,16),o.orientation="w",o.bus=!0,o.autoLen()}else for(e=0;e<this.size;e++){var r=i-e*t,s=24-this.height/2,a=null;null!==(a=e<this.ins.length?this.ins[e]:this.addIn(r,this.height/2,s))&&(a.x=r,a.y=this.height/2,a.len=s,a.orientation="s",a.bus=!1)}}else{this.height=this.size*t,this.height<50&&(this.height=50),this.width=20;var c=this.size/2*t-8;for(e=0;e<this.size;e++){var l=c-e*t;this.leds.push(new Le(0,l,this.width,t))}if(this.bus){var u=null;e<this.ins.length?((u=this.ins[e]).x=0,u.y=this.height/2,u.len=16):u=this.addIn(0,this.height/2,16),u.orientation="s",u.bus=!0,u.autoLen()}else for(e=0;e<this.size;e++){var h=c-e*t,d=24-this.width/2,p=null;e<this.ins.length?((p=this.ins[e]).x=-this.width/2,p.y=h,p.len=d):p=this.addIn(-this.width/2,h,d),null!==p&&(p.orientation="w",p.bus=!1)}}if(!this.bus&&e<this.ins.length){for(;e<this.ins.length;e++)this.ins[e].clear();this.ins.splice(this.size)}},mi.prototype.draw=function(t,e){for(var i=0;i<this.lastState.length&&i<this.leds.length;i++){var n=this.lastState[i];this.leds[i].color=void 0===n?"undefined":n?this.color:"black"}for(;i<this.leds.length;i++)this.leds[i].color="undefined";var o="#444444";this.selectStyle(t,e),this.drawBox(t,o);for(var r=0;r<this.size;r++)this.leds[r].draw(t,this.x,this.y,o);this.drawBox(t,"none"),this.drawIO(t,e)},mi.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center"><label for="'.concat(n,'">Size: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>'),r=i.uniqueId();o+=Le.colorSelector(r,this.color),o+='<div class="control center"><div class="choosers">';var s=i.uniqueId();o+='\n<label><input type="radio" name="'.concat(s,'" ').concat(this.horz?"":"checked",' value="0"> Vertical</label>\n<label><input type="radio" name="').concat(s,'"  ').concat(this.horz?"checked":"",' value="1"> Horizontal</label>'),o+="<br>";var a=i.uniqueId();o+='\n<label><input type="radio" name="'.concat(a,'"  ').concat(this.bus?"checked":"",' value="1"> Bus Input</label>\n<label><input type="radio" name="').concat(a,'" ').concat(this.bus?"":"checked",' value="0"> Single Bit Inputs</label>'),o+="</div></div>",i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?"Size must be an integer from 2 to 16":null}),(function(){e.color=zt.sanitize(document.getElementById(r).value),e.horz="1"===document.querySelector("input[name=".concat(s,"]:checked")).value,e.bus="1"===document.querySelector("input[name=".concat(a,"]:checked")).value,e.setSize(parseInt(document.getElementById(n).value))})),i.open()};var yi=function(){ot.call(this),this.height=128,this.width=64;var t=this.width/2,e=this.height/2;this.value=0,this.lastClk=!1,this.ba=0;var i=this.addIn(0,-e,8);i.orientation="n",i.clock=!0,this.addIn(-t,-32,16,"BA").bus=!0,this.addIn(-t,32,16,"B"),this.addIn(0,e,8,"R").orientation="s",this.addOut(t,-32,16,"PC").bus=!0,this.outs[0].set(void 0)};(yi.prototype=Object.create(ot.prototype)).constructor=yi,yi.prototype.prefix="PC",yi.type="Pc16",yi.label="Program Counter",yi.desc="Program Counter",yi.img="pc16.png",yi.description="<h2>Program Counter</h2><p>Simple 16-bit program counter (PC). If B is true when \nthe clock edge rises, the signed value in BA (branch address) plus 2 is added to the PC.</p>",yi.order=702,yi.help="pc16",yi.prototype.compute=function(t){t[3]?this.value=0:t[0]&&!this.lastClk&&(this.ba=I.busValueToDecimal(t[1]),this.value+=2,t[2]&&null!==this.ba&&(this.value+=this.ba+2)),this.value&=65535;for(var e=this.value,i=[],n=0;n<16;n++)i.push(1==(1&e)),e>>=1;this.outs[0].set(i),this.lastClk=t[0]},yi.prototype.clone=function(){var t=new yi;return t.copyFrom(this),t},yi.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t);var i=this.y-10;t.font='14px "Lucida Console", Monaco, monospace',t.textAlign="center",t.fillText(w.toHex(this.value,4),this.x,i),i+=20,t.font="12px Times",t.fillText("program",this.x,i),t.fillText("counter",this.x,i+15),this.drawIO(t,e)};var gi=function(){ot.call(this),this.height=132,this.width=64;var t=this.width/2,e=this.height/2;this.lastClk=!1,this.data=[],this.lastAddress=0,this.lastData=0,this.write=0,this.addIn(-t,-32,16,"A").bus=!0,this.addIn(-t,32,16,"W").bus=!0;var i=this.addIn(0,-e,14);i.orientation="n",i.clock=!0,this.addOut(t,-32,16,"R").bus=!0};(gi.prototype=Object.create(ot.prototype)).constructor=gi,gi.prototype.prefix="M",gi.type="Memory16",gi.label="Memory",gi.desc="16-bit Memory",gi.img=null,gi.description="<h2>16-bit Memory Bank</h2><p>The Memory component implements a simple 16-bit Memory Bank.\nMemory is an array of bytes. The A (address) input selects a memory location that is output on the R\noutput. The component implements 16-bit memory,\nso all accesses are considered to be multiples of two and retrieve two bytes. Memory is retrieved in little-endian\nmode (first byte is the least significant byte).</p>\n<p>A clock cycle on the clock input writes the memory component with the value on the W (write) input.</p>",gi.order=704,gi.help="memory16",gi.prototype.compute=function(t){var e=I.busValueToDecimal(t[0]);if(null===e)this.outs[0].set(void 0);else{if(t[2]&&!this.lastClk&&(this.write=I.busValueToDecimal(t[1]),null!==this.write)){for(;this.data.length<e+2;)this.data.push(0);var i=this.write>>8,n=255&this.write;this.data[e]=n,this.data[e+1]=i}if(e<this.data.length-1)var o=this.data[e]+(this.data[e+1]<<8);else o=0;this.lastAddress=e,this.lastData=o;for(var r=[],s=0;s<16;s++)r.push(1==(1&o)),o>>=1;this.outs[0].set(r)}this.lastClk=t[2]},gi.prototype.setAsString=function(t,e){t=zt.sanitize(t),void 0===e&&(e=!0),e&&(this.data=[]);var i=t.split(/\s+/),n=0;for(var o in i){if((r=i[o]).indexOf(":")>=0){if(n=parseInt(r,16),isNaN(n))return"invalid input address"}else if(""!==r){var r=parseInt(r,16);if(isNaN(r))return"invalid input data";if(e){for(;this.data.length<n;)this.data.push(0);this.data[n]=r,n++}}}return e&&this.pending(),null},gi.prototype.clone=function(){var t=new gi;return t.data=this.data.slice(),t.copyFrom(this),t},gi.prototype.load=function(t){this.data=t.data,ot.prototype.load.call(this,t)},gi.prototype.save=function(){var t=ot.prototype.save.call(this);return t.data=this.data,t},gi.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText(w.toHex(this.lastAddress,4)+":"+w.toHex(this.lastData,4),this.x,this.y+this.height/2-18),t.fillText("memory",this.x,this.y+this.height/2-5),this.drawName(t,0,3),this.drawIO(t,e)},gi.prototype.properties=function(t){for(var e=this,i="",n=0;n<this.data.length;n++)n%8==0&&(i.length>0&&(i+="\n"),i+=w.toHex(n,4)+":"),i+=" "+w.toHex(this.data[n],2);var o=new et(this,t),r=o.uniqueId(),s='<div class="control"><label for="'.concat(r,'">Contents:</label>\n<textarea class="code1" type="text" rows="9" name="').concat(r,'" id="').concat(r,'" spellcheck="false">').concat(i,"</textarea>\n</div>");o.extra(s,(function(){var t=document.getElementById(r).value;return e.setAsString(t,!1)}),(function(){var t=document.getElementById(r).value;return e.setAsString(t)}),85),o.open()},gi.paletteImage=function(){var t=new xt(120,120),e=t.context;e.lineWidth=1.5,t.box(40,80);var i=t.width,n=t.height,o=18;t.io(0,-40,"n");var r=t.lineWidth(2);t.io(20,-18,"e"),t.io(-20,-18,"w"),t.io(-20,o,"w"),t.lineWidth(r);var s="20px Times";t.drawText("R",10,-13,s),t.drawText("A",-12,-13,s),t.drawText("W",-12,23,s);return e.beginPath(),e.moveTo(i/2-7,n/2-40),e.lineTo(i/2,n/2-33),e.lineTo(7+i/2,n/2-40),e.stroke(),t.drawText("memory",0,38,"8px Times"),t.drawText("0000:0000",0,32,"8px Times"),t};var bi=function(){ot.call(this);var t=16;Object.defineProperties(this,{size:{get:function(){return t},set:function(e){switch(+e){case 8:t=8;break;default:t=16;break;case 32:t=32}}},badAddr:{writable:!0},height:{value:132},width:{value:64}});var e=this.width/2,i=this.height/2;this.lastClk=!1,this.data=[],this.lastAddress=null,this.lastData=null,this.write=0,this.addIn(-e,-32,16,"A").bus=!0,this.addIn(-e,32,16,"W").bus=!0;var n=this.addIn(0,-i,14);n.orientation="n",n.clock=!0,this.addOut(e,-32,16,"R").bus=!0};(bi.prototype=Object.create(ot.prototype)).constructor=bi,bi.prototype.prefix="M",bi.type="Memory",bi.label="Memory",bi.desc="Memory",bi.img=null,bi.description="<h2>Memory Bank</h2><p>The Memory component implements a simple Memory Bank.\nMemory is an array of bytes. The A (address) input selects a memory location that is output on the R\noutput. The component can be configured for 8-, 16-, or 32-bit memory. \n</p>\n<p>In the 16-bit configuration,\nall accesses are considered to be multiples of two and retrieve two bytes. Addresses with the lower bit set\nare considered erroneous. </p>\n<p>In the 32-bit configuration,\nall accesses are considered to be multiples of four and retrieve four bytes. Addresses with any of the lower \ntwo bits set are considered erroneous.</p>\n<p>Memory is retrieved in little-endian mode (first byte is the least significant byte). \nErroneous addresses are indicated by an X next to the A input on\n the component.</p>\n<p>A clock cycle on the clock input writes the memory component with the value on the W (write) input.</p>",bi.order=705,bi.help="memory",bi.prototype.compute=function(t){var e=this.size/8,i=I.busValueToDecimal(t[0]),n=i;if(this.badAddr=!1,null===n)this.outs[0].set(void 0);else{switch(e){case 2:this.badAddr=0!=(1&n),n&=65534;break;case 4:this.badAddr=0!=(3&n),n&=65532}if(t[2]&&!this.lastClk&&(this.write=I.busValueToDecimal(t[1]),null!==this.write)){for(;this.data.length<n+e;)this.data.push(0);for(var o=this.write,r=0;r<e;r++)this.data[n+r]=o,o>>=8}var s=0;if(n<=this.data.length-e)for(var a=0;a<e;a++)s+=this.data[n+a]<<8*a;this.lastAddress=i,this.lastData=s;for(var c=[],l=0;l<this.size;l++)c.push(1==(1&s)),s>>=1;this.outs[0].set(c)}this.lastClk=t[2]},bi.prototype.setAsString=function(t,e){t=zt.sanitize(t),void 0===e&&(e=!0),e&&(this.data=[]);var i=t.split(/\s+/),n=0;for(var o in i){if((r=i[o]).indexOf(":")>=0){if(n=parseInt(r,16),isNaN(n))return"invalid input address"}else if(""!==r){var r=parseInt(r,16);if(isNaN(r))return"invalid input data";if(e){for(;this.data.length<n;)this.data.push(0);this.data[n]=r,n++}}}return e&&this.pending(),null},bi.prototype.clone=function(){var t=new bi;return t.data=this.data.slice(),t.size=this.size,t.copyFrom(this),t},bi.prototype.load=function(t){this.data=t.data,this.size=t.size,ot.prototype.load.call(this,t)},bi.prototype.save=function(){var t=ot.prototype.save.call(this);return t.data=this.data,t.size=this.size,t},bi.prototype.draw=function(t,e){var i=this.size/8;this.selectStyle(t,e),this.drawBox(t);var n=null!==this.lastAddress?w.toHex(this.lastAddress,4):"????",o=null!==this.lastData?w.toHex(this.lastData,2*i):"????????".substr(0,2*i);if(t.font="12px Times",t.textAlign="center",i<4?t.fillText(n+":"+o,this.x,this.y+this.height/2-18):(t.fillText(n+":",this.x,this.y+this.height/2-18-13),t.fillText(o,this.x,this.y+this.height/2-18)),t.fillText("memory",this.x,this.y+this.height/2-5),this.drawName(t,0,3),this.drawIO(t,e),this.badAddr){var r=t.strokeStyle;t.strokeStyle="#ff0000";var s=this.x-12,a=this.y-33;t.beginPath(),t.moveTo(s-6,a-6),t.lineTo(s+6,a+6),t.moveTo(s+6,a-6),t.lineTo(s-6,a+6),t.stroke(),t.strokeStyle=r}},bi.prototype.properties=function(t){for(var e=this,i="",n=0;n<this.data.length;n++)n%8==0&&(i.length>0&&(i+="\n"),i+=w.toHex(n,4)+":"),i+=" "+w.toHex(this.data[n],2);for(var o=new et(this,t),r=o.uniqueId(),s=o.uniqueId(),a='<div class="control">\n<label for="'.concat(r,'">Contents:\n<textarea class="code1" type="text" rows="9" name="').concat(r,'" id="').concat(r,'" spellcheck="false">').concat(i,'</textarea>\n</label>\n</div>\n<div class="control center">\n<label>Size: \n<select name="').concat(s,'" id="').concat(s,'">\n'),c=0,l=[8,16,32];c<l.length;c++){var u=l[c],h=this.size===u?" selected":"";a+='<option value="'.concat(u,'"').concat(h,">").concat(u,"</option>")}a+="</select>\n</label>\n</div>",o.extra(a,(function(){var t=document.getElementById(r).value;return e.setAsString(t,!1)}),(function(){e.size=document.getElementById(s).value;var t=document.getElementById(r).value;return e.setAsString(t)}),85),o.open()},bi.paletteImage=function(){var t=new xt(120,120),e=t.context;e.lineWidth=1.5,t.box(40,80);var i=t.width,n=t.height,o=18;t.io(0,-40,"n");var r=t.lineWidth(2);t.io(20,-18,"e"),t.io(-20,-18,"w"),t.io(-20,o,"w"),t.lineWidth(r);var s="20px Times";t.drawText("R",10,-13,s),t.drawText("A",-12,-13,s),t.drawText("W",-12,23,s);return e.beginPath(),e.moveTo(i/2-7,n/2-40),e.lineTo(i/2,n/2-33),e.lineTo(7+i/2,n/2-40),e.stroke(),t.drawText("memory",0,38,"8px Times"),t.drawText("0000:0000",0,32,"8px Times"),t};var Ai=function(){ot.call(this),this.height=100,this.width=48,this.size=8,this.circuitOuts=[],this.addIn(-this.width/2,0,16,"In").bus=!0,this.ensureIO()};(Ai.prototype=Object.create(ot.prototype)).constructor=Ai,Ai.prototype.prefix=null,Ai.type="Decoder3",Ai.label="3-to-8",Ai.desc="3-to-8 Decoder",Ai.img="decoder3.png",Ai.description="<h2>3-to-8 decoder</h2>\n<p>Converts a 3-bit binary value on <strong>In</strong> to a true on one of eight output lines.</p>",Ai.order=1e3,Ai.prototype.compute=function(t){if(Array.isArray(t[0]))for(var e=(t[0][0]?1:0)+(t[0][1]?2:0)+(t[0][2]?4:0),i=0;i<this.size;i++)this.outs[i].set(i==e);else for(i=0;i<this.size;i++)this.outs[i].set(void 0)},Ai.prototype.clone=function(){var t=new Ai;return t.copyFrom(this),t},Ai.prototype.ensureIO=function(){this.height=16*this.size+24,this.height<80&&(this.height=80);for(var t=this.width/2,e=this.size/2*16-8,i=0;i<this.size&&!(i>=this.outs.length);i++)this.outs[i].name="O"+i,this.outs[i].x=t,this.outs[i].y=e-16*i,this.outs[i].len=16;for(;i<this.size;i++)this.addOut(t,e-16*i,16,"O"+i);if(i<this.outs.length){for(;i<this.outs.length;i++)this.outs[i].clear();this.outs.splice(this.size)}},Ai.prototype.draw=function(t,e){this.selectStyle(t,e);this.x,this.width,this.x,this.width,this.y,this.height,this.y,this.height;this.drawBox(t),t.font="12px Times",t.textAlign="center",t.fillText("decoder",this.x,this.y+this.height/2-2),this.drawIO(t,e)};var wi=function(t){ot.call(this,t),this.height=120,this.width=80,this.instruction="";var e=-32;this.addOut(this.width/2,e,16,"Ae").bus=!0,e+=16,this.addOut(this.width/2,e,16,"Be").bus=!0,e+=16,this.addOut(this.width/2,e,16,"ALUe").bus=!0,e+=16,this.addOut(this.width/2,e,16,"Im").bus=!0,e+=16,this.addOut(this.width/2,e,16,"C").bus=!0,e+=16,this.setAsString("nop")};(wi.prototype=Object.create(ot.prototype)).constructor=wi,wi.prototype.prefix="ID",wi.prototype.nameRequired=!0,wi.type="InstructionDecoder4",wi.label="Instruction Decoder 4",wi.desc="Instruction Decoder",wi.img="insdecoder4.png",wi.description="<h2>Instruction Decoder</h2><p>Simple example instruction decoder. Decodes assembly statements into register and ALU operations.</p>",wi.help="instructiondecoder4",wi.order=600,wi.prototype.compute=function(t){},wi.prototype.setAsString=function(t,e){this.instruction=t,void 0===e&&(e=!0);var i=this.instruction.toLowerCase().match(/\s*([a-zA-Z]*)(?:[\s,$]+([^\s,]+))?(?:[\s,$]+([^\s,]+))?(?:[\s,$]+([^\s,]+))?/);if(null===i||i.length<2)return"syntax error in input";var n=this.outs[0],o=this.outs[1],r=this.outs[2],s=this.outs[3],a=this.outs[4];function c(t){switch(t){case"r0":return"00";case"r1":return"01";case"r2":return"10";case"r3":return"11";default:return null}}function l(t){if(null==t)return null;if("#"!==t.substr(0,1))return null;var e=parseInt(t.substr(1));return e>7||e<-8?null:(0!=(8&e)?"1":"0")+(0!=(4&e)?"1":"0")+(0!=(2&e)?"1":"0")+(0!=(1&e)?"1":"0")}var u=i[1],h=i[2],d=i.length>3?i[3]:null,p=i.length>4?i[4]:null,f=c(h),v=c(d),m=c(p),y=l(d),g=l(p);function b(t){if(null===f||null===v||null===p)return null;if("#"===p.substr(0,1)){if(null===g)return"invalid immediate value";e&&(n.setAsString(v),o.setAsString("100"),r.setAsString("0"+f),a.setAsString(t),s.setAsString(g))}else null!==v&&e&&(n.setAsString(v),o.setAsString("0"+m),r.setAsString("0"+f),a.setAsString(t));return null}switch(u){case"nop":e&&(n.setAsString("00"),o.setAsString("000"),r.setAsString("100"),s.setAsString("0000"),a.setAsString("111"));break;case"mov":if(null===f)return null;if("#"===d.substr(0,1)){if(null===y)return"invalid immediate value";e&&(n.setAsString(f),o.setAsString("100"),r.setAsString("0"+f),a.setAsString("000"),s.setAsString(y))}else null!==v&&e&&(n.setAsString(f),o.setAsString("0"+v),r.setAsString("0"+f),a.setAsString("000"));break;case"add":return b("001");case"sub":return b("010");case"and":return b("011");case"or":return b("100");case"sll":return b("101");case"sla":return b("110");default:return"invalid opcode"}return null},wi.prototype.clone=function(){var t=new wi;return t.copyFrom(this),t},wi.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(i,o),t.lineTo(i,r),t.lineTo(n,r),t.lineTo(n,o),t.lineTo(i,o),t.font="12px Times",t.textAlign="center",t.fillText("instruction",this.x,this.y+this.height/2-14),t.fillText("decoder",this.x,this.y+this.height/2-2),t.fillText(this.instruction,this.x,this.y-this.height/2+11),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x-15,this.y+3)),t.stroke(),this.drawIO(t,e)},wi.prototype.properties=function(t){var e=this,i=this.instruction,n=new et(this,t),o=n.uniqueId(),r="<p>Value<br>"+'<input type="text" id="'.concat(o,'" spellcheck="false" value="').concat(i,'"></p>');n.extra(r,(function(){var t=document.getElementById(o).value;return e.setAsString(t,!1)}),(function(){var t=document.getElementById(o).value;e.setAsString(t)}),40),n.open();var s=document.getElementById(o);s.select(),s.focus()};var xi=function(t){ot.call(this,t),this.height=128,this.width=64,this.shrink=15,this.cin=!1;var e=-this.width/2,i=this.width/2;this.operator="";this.addIn(e,-32,16,"A").bus=!0,this.addIn(e,32,16,"B").bus=!0;var n=.5*this.shrink,o=this.addIn(0,this.height/2-n,8+n,"C");o.orientation="s",o.bus=!0,this.addIn(e,48,16,"Cin"),this.addOut(i,0,16,"O").bus=!0,this.addOut(i,24,16,"CPSR").bus=!0};(xi.prototype=Object.create(ot.prototype)).constructor=xi,xi.prototype.prefix="ALU",xi.prototype.nameRequired=!0,xi.type="Alu16",xi.label="ALU 16",xi.desc="Simple 16-bit ALU",xi.img="alu.png",xi.description="<h2>16-bit ALU</h2><p>Simple example 16-bit ALU. A and B are bus inputs to the ALU. C is the control input. Cin is the carry input for adc and sbc operations. O is a bus output result and CPSR is the status output bits for the current program status register.</p><p>If Cin is not connected, it is assumed to be false.</p><p>The status bits in CPSR are: 0:N, 1:Z, 2:C, 3:V</p>",xi.help="alu16",xi.order=706,xi.prototype.compute=function(t){var e=t[0],i=t[1],n=t[2];function o(t){if(void 0!==t&&Array.isArray(t)){var e=1,i=0;return t.forEach((function(t){void 0!==t&&(t&&(32768==e?i-=e:i+=e),e*=2)})),i}}this.cin=void 0!==t[3]&&t[3];var r=o(e),s=o(i),a=s,c=!1,l=!1;switch(o(n)){case 8:case 0:a=r&s,this.operator="&";break;case 1:a=r^s,this.operator="xor";break;case 2:a=r<<s,this.operator="<<";break;case 3:a=(65535&r)>>s,this.operator=">>";break;case 4:var u=32768&r;a=r;for(var h=0;h<s;h++)a=r>>1,a|=u;this.operator="asr";break;case 5:a=r+s,this.cin&&a++,c=0!=(65536&(f=(65535&r)+(65535&s))),l=a<-32768||a>32768,this.operator="+";break;case 11:case 34:case 16:c=0!=(65536&(f=(65535&r)+(65535&s))),l=(a=r+s)<-32768||a>32768,this.operator="+";break;case 6:a=r-s,this.cin||a--,c=0!=(65536&(f=(65535&r)+(65535&~s)+1)),l=a<-32768||a>32768,this.operator="-";break;case 10:case 33:case 35:case 17:c=0!=(65536&(f=(65535&r)+(65535&~s)+1)),l=(a=r-s)<-32768||a>32768,this.operator="-";break;case 7:u=32768&r;a=65535&r;for(h=0;h<s;h++){var d=(1&a)<<15;a=(65535&r)>>1,a|=d}this.operator="ror";break;case 9:a=-s,this.operator="neg";break;case 12:a=r|s,this.operator="or";break;case 13:l=(a=r*s)<-32768||a>32768,this.operator="*";break;case 14:a=r&(65535^s),this.operator="bic";break;case 15:a=65535^r,this.operator="not";break;case 18:a=(r&=65535)*(s&=65535)>>16,this.operator="*^";break;default:a=s,this.operator="mov"}if(void 0===(a&=65535))this.outs[0].set([void 0,void 0,void 0,void 0]),this.outs[1].set([void 0,void 0,void 0,void 0]);else{var p=[],f=a;for(h=0;h<16;h++)p.push(1==(1&f)),f>>=1;this.outs[0].set(p),this.outs[1].set([p[15],0==a,c,l])}},xi.prototype.clone=function(){var t=new xi;return t.copyFrom(this),t},xi.prototype.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;if(t.beginPath(),t.moveTo(i,o),t.lineTo(i,this.y-this.shrink/2),t.lineTo(i+20,this.y),t.lineTo(i,this.y+this.shrink/2),t.lineTo(i,r),t.lineTo(n,r-this.shrink),t.lineTo(n,o+this.shrink),t.lineTo(i,o),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x,this.y-16)),this.operator.length>1)t.font="bold 14px Times",t.textAlign="center",t.fillText(this.operator,this.x+1,this.y+4);else{t.font="bold 22px Times",t.textAlign="center";var s=6;switch(this.operator){case"+":s=6;break;case"-":s=5}t.fillText(this.operator,this.x+1,this.y+s)}t.stroke(),this.drawIO(t,e)};var ki=function(){ot.call(this),this.height=98,this.width=48;var t=this.width/2,e=this.height/2;this.value=0,this.size=16,this.lastClk=!1;var i=this.addIn(0,-e,8);i.orientation="n",i.clock=!0,this.addIn(-t,-24,8,"UP"),this.addIn(0,e,8,"R").orientation="s",this.addOut(t,-24,8,"C").bus=!0,this.set(0)};(ki.prototype=Object.create(ot.prototype)).constructor=ki,ki.prototype.prefix="C",ki.type="Counter",ki.label="Counter",ki.desc="Simple Counter",ki.description="<h2>Simple Counter</h2><p>Supports up and down counting for \narbitrary bit sizes. C is the count output. The optional UP input controls the counting\ndirection. True means up counting. If not connected, the counter counts up. R is an \nasynchronous reset. The counter increments or decrements on the clock leading edge.</p>",ki.order=406,ki.help="Counter",ki.prototype.compute=function(t){t[2]?this.set(0):t[0]&&!this.lastClk&&(!1!==t[1]?this.set(this.value+1):this.set(this.value-1)),this.lastClk=t[0]},ki.prototype.set=function(t){this.value=t;for(var e=0,i=0;i<this.size;i++)e=e<<1|1;this.value&=e;for(var n=this.value,o=[],r=0;r<this.size;r++)o.push(1==(1&n)),n>>=1;this.outs[0].set(o)},ki.prototype.clone=function(){var t=new ki;return t.size=this.size,t.copyFrom(this),t},ki.prototype.load=function(t){this.size=t.size,ot.prototype.load.call(this,t),this.set(0)},ki.prototype.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t},ki.prototype.draw=function(t,e){this.selectStyle(t,e),this.drawBox(t);var i=this.y;t.font='14px "Lucida Console", Monaco, monospace',t.textAlign="center",this.size>12?t.fillText(w.toHex(this.value,4),this.x,i):this.size>8?t.fillText(w.toHex(this.value,3),this.x,i):this.size>4?t.fillText(w.toHex(this.value,2),this.x,i):t.fillText(w.toBinary(this.value,this.size),this.x,i),i+=25,t.font="14px Times",t.fillText("counter",this.x,i),this.drawIO(t,e)},ki.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o='<div class="control1 center gap"><label for="'.concat(n,'">Size in bits: </label>\n<input class="number" type="text" name="').concat(n,'" id="').concat(n,'" value="').concat(this.size,'"></div>');i.extra(o,(function(){var t=parseInt(document.getElementById(n).value);return isNaN(t)||t<2||t>16?(document.getElementById(n).select(),"Must be an integer from 2 to 16"):null}),(function(){e.size=parseInt(document.getElementById(n).value),e.set(e.value)})),i.open()},ki.paletteImage=function(){var t=new xt(60,44);return t.box(16,32),t.io(8,-8,"e"),t.io(-8,-8,"w"),t.io(0,16,"s"),t.clock(0,-16,"n"),t.drawText("0000",0,2,"6px Times"),t.drawText("Counter",0,10,"4px Times"),t};var Ii=function(){ot.call(this),Object.defineProperties(this,{height:{value:32},width:{value:96},outputSize:{value:16,writable:!0},arithmetic:{value:!1,writable:!0},shift:{value:0,writable:!0}}),this.addIn(-48,8,16).bus=!0,this.addOut(48,0,16).bus=!0};(Ii.prototype=Object.create(ot.prototype)).constructor=Ii,Ii.prototype.prefix=null,Ii.type="Extend",Ii.label="Extend",Ii.desc="Bus Extend",Ii.description="<h2>Extend</h2><p>The Extend component extends a \nbus to a larger size. A common use is to extend an immediate value \nfrom an instruction to 16 or 32 bits.</p>\n<p>The output can be optionally shifted left by a fixed number of bits.</p>",Ii.order=311,Ii.help="extend",Ii.prototype.clone=function(){var t=new Ii;return t.copyFrom(this),t.outputSize=this.outputSize,t.arithmetic=this.arithmetic,t.shift=this.shift,t},Ii.prototype.compute=function(t){if(void 0!==t[0]){for(var e=[],i=0;i<this.shift;i++)e.push(0);for(var n=0,o=0;n<t[0].length&&i<this.outputSize;n++,i++)e.push(t[0][n]),o=t[0][n];for(;i<this.outputSize;i++)e.push(this.arithmetic?o:0);this.outs[0].set(e)}else this.outs[0].set(void 0)},Ii.prototype.draw=function(t,e){this.outlinePath(t),t.fillStyle="#ffffff",t.fill(),this.selectStyle(t,e),t.stroke(),t.font="14px Times",t.textAlign="center",t.fillText("Extend",this.x,this.y+10),this.drawIO(t,e)},Ii.prototype.outlinePath=function(t){var e=this.x-this.width/2-.5,i=this.x+this.width/2+.5,n=this.y-this.height/2-.5,o=this.y-.5,r=this.y+this.height/2+.5;t.beginPath(),t.moveTo(e,o),t.lineTo(e,r),t.lineTo(i,r),t.lineTo(i,n),t.lineTo(e,o)},Ii.prototype.save=function(){var t=ot.prototype.save.call(this);return t.outputSize=this.outputSize,t.arithmetic=this.arithmetic,t.shift=this.shift,t},Ii.prototype.load=function(t){this.outputSize=t.outputSize,this.arithmetic=t.arithmetic,this.shift=t.shift,ot.prototype.load.call(this,t)},Ii.prototype.properties=function(t){var e=this,i=new et(this,t),n=i.uniqueId(),o=i.uniqueId(),r=i.uniqueId(),s='<div class="control1 center gap">\n<label>Output size (bits): \n<input class="number" type="text" name="'.concat(n,'" id="').concat(n,'" value="').concat(this.outputSize,'" spellcheck="false" onfocus="this.select()">\n</label>\n</div>\n<div class="control1 center gap">\n<label>Output shift (bits): \n<input class="number" type="text" name="').concat(r,'" id="').concat(r,'" value="').concat(this.shift,'" spellcheck="false" onfocus="this.select()">\n</label>\n</div>\n<div class="control1 center gap">\n<label for="').concat(o,'"><input type="checkbox" id="').concat(o,'" name="').concat(o,'"').concat(this.arithmetic?" checked":"","> Arithmetic extend</label>\n</div>");i.extra(s,(function(){var t=document.getElementById(n).value,e=parseInt(t);if(isNaN(e)||e<1||e>32)return document.getElementById(n).select(),"Invalid output size, must be 1 to 32";document.getElementById(r).value;var i=parseInt(t);return isNaN(i)||i<0||i>e?(document.getElementById(r).select(),"Invalid shift size, must be 0 to the bit size."):null}),(function(){e.arithmetic=document.getElementById(o).checked;var t=document.getElementById(n).value;e.outputSize=parseInt(t);var i=document.getElementById(r).value;e.shift=parseInt(i),e.pending()})),i.open(),document.getElementById(n).select()},Ii.paletteImage=function(){var t=new xt(60,44),e=t.width/2,i=t.height/2,n=e-20-.5,o=e+20+.5,r=i-8-.5,s=i,a=i+8+.5;return t.context.beginPath(),t.context.moveTo(n,s),t.context.lineTo(o,r),t.context.lineTo(o,a),t.context.lineTo(n,a),t.context.lineTo(n,s),t.fillStroke(),t.io(20,0,"e"),t.io(-20,4,"w"),t.drawText("Extend",0,7,"8px Times"),t};var Ci=function t(e){this.message=e,"captureStackTrace"in Error?Error.captureStackTrace(this,t):this.stack=(new Error).stack};function Ti(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ei(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ei(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}(Ci.prototype=Object.create(Error.prototype)).name="InvalidArgumentException",Ci.prototype.constructor=Ci;var Si=function t(e){var i=this;ot.call(this,e);var n=16,o=void 0;this.draw=function(t,e){this.selectStyle(t,e);var i=this.x-this.width/2-.5,n=this.x+this.width/2+.5,o=this.y-this.height/2-.5,r=this.y+this.height/2+.5;if(t.beginPath(),t.moveTo(i,o),t.lineTo(i,this.y-7.5),t.lineTo(i+20,this.y),t.lineTo(i,this.y+7.5),t.lineTo(i,r),t.lineTo(n,r-15),t.lineTo(n,o+15),t.lineTo(i,o),null!==this.naming&&(t.font="14px Times",t.textAlign="center",t.fillText(this.naming,this.x,this.y-16)),this.operator.length>1)t.font="bold 14px Times",t.textAlign="center",t.fillText(this.operator,this.x+1,this.y+4);else{t.font="bold 22px Times",t.textAlign="center";var s=6;switch(this.operator){case"+":s=6;break;case"-":s=5}t.fillText(this.operator,this.x+1,this.y+s)}t.stroke(),this.drawIO(t,e)},this.clone=function(){var e=new t;return e.copyFrom(this),e.size=this.size,e.output=this.output,e.control=this.control,e},this.load=function(t){this.size=t.size,this.output=t.output,this.control=t.control,ot.prototype.load.call(this,t)},this.save=function(){var t=ot.prototype.save.call(this);return t.size=this.size,t.output=this.output,t.control=this.control,t},this.controlMapping=function(e){switch(this.control){case t.CONTROL.ASAO:switch(e&=3){case 0:e=11;break;case 1:e=17;break;case 2:e=0;break;case 3:e=12}}return e},function(){Object.defineProperties(i,{size:{get:function(){return n},set:function(t){if(![4,8,16,32].includes(+t))throw new Ci("Illegal size value "+t);n=+t}},height:{value:128},width:{value:64},output:{get:function(){return o},set:function(e){if(!t.OUTPUT.POSSIBLE.includes(+e))throw new Ci("Illegal output value "+e);if(o!==+e){o=+e;var i=this.outs[1];i.clear(),i.bus=o===t.OUTPUT.CPSR,i.name=t.OUTPUT.LABELS[o]}}},control:{value:t.CONTROL.THUMB,writable:!0}}),i.cin=!1;var e=-i.width/2,r=i.width/2;i.operator="";i.addIn(e,-32,16,"A").bus=!0,i.addIn(e,32,16,"B").bus=!0;var s=i.addIn(0,i.height/2-7.5,15.5,"C");s.orientation="s",s.bus=!0,i.addIn(e,48,16,"Cin"),i.addOut(r,0,16,"O").bus=!0,i.addOut(r,24,16,"CPSR").bus=!0,i.output=t.OUTPUT.CPSR}()};(Si.prototype=Object.create(ot.prototype)).constructor=Si,Si.prototype.prefix="ALU",Si.prototype.nameRequired=!0,Si.type="Alu",Si.label="ALU",Si.desc="Arithmetic Logic Unit",Si.img="alu.png",Si.description="<h2>Arithmetic Logic Unit</h2><p>A and B are bus inputs \nto the ALU. C is the control input. Cin is the carry input for adc and sbc \noperations. O is a bus output result.</p>\n<p>If Cin is not connected, it is assumed to be false.</p>\n<p>The status bits in CPSR are: 0:N, 1:Z, 2:C, 3:V</p>",Si.help="alu",Si.order=707,Si.OUTPUT={CPSR:0,N:1,Z:2,C:3,V:4,POSSIBLE:[0,1,2,3,4],NAMES:["CPSR","N - Negative","Z - Zero","C - Carry","V - Overflow"],LABELS:["CPSR","N","Z","Cout","V"]},Si.CONTROL={THUMB:0,ASAO:1,POSSIBLE:[0,1],NAMES:["Thumb (4 or 6 bits)","Add/subtract/and/or"]},Si.prototype.compute=function(t){for(var e=t[0],i=t[1],n=t[2],o=this.size,r=o/8,s=0,a=0;a<r;a++)s<<=8,s|=255;var c=1<<o-1,l=c-1,u=-l-1;function h(t){if(void 0!==t&&Array.isArray(t)){var e,i=1,n=0,o=Ti(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(void 0===r)return;r&&(i===c?n-=i:n+=i),i*=2}}catch(t){o.e(t)}finally{o.f()}return n}}this.cin=void 0!==t[3]&&t[3];var d,p=h(e),f=h(i),v=f,m=!1,y=!1;switch(this.controlMapping(h(n))){case 8:case 0:v=p&f,this.operator="&";break;case 1:v=p^f,this.operator="xor";break;case 2:v=p<<f,this.operator="<<";break;case 3:v=(p&s)>>f,this.operator=">>";break;case 4:d=p&1<<o-1,v=p;for(var g=0;g<f;g++)v=p>>1,v|=d;this.operator="asr";break;case 5:v=p+f,this.cin&&v++,m=0!=((p&s)+(f&s)&1<<o),y=v<u||v>l,this.operator="+";break;case 11:case 34:case 16:m=0!=((p&s)+(f&s)&1<<o),y=(v=p+f)<u||v>l,this.operator="+";break;case 6:v=p-f,this.cin||v--,m=0!=((p&s)+(~f&s)+1&1<<o),y=v<u||v>l,this.operator="-";break;case 10:case 33:case 35:case 17:m=0!=((p&s)+(~f&s)+1&1<<o),y=(v=p-f)<u||v>l,this.operator="-";break;case 7:d=p&c,v=p&s;for(var b=0;b<f;b++){var A=(1&v)<<o-1;v=(p&s)>>1,v|=A}this.operator="ror";break;case 9:v=-f,this.operator="neg";break;case 12:v=p|f,this.operator="or";break;case 13:y=(v=p*f)<u||v>l,this.operator="*";break;case 14:v=p&(f^s),this.operator="bic";break;case 15:v=p^s,this.operator="not";break;case 18:v=(p&s)*(f&s)>>o,this.operator="*^";break;default:v=f,this.operator="mov"}var w=[];if(void 0===(v&=s)){for(var x=0;x<o;x++)w.push(void 0);this.output===Si.OUTPUT.CPSR?this.outs[1].set([void 0,void 0,void 0,void 0]):this.outs[1].set(void 0)}else{for(var k=v,I=0;I<o;I++)w.push(1==(1&k)),k>>=1;switch(this.output){case Si.OUTPUT.CPSR:this.outs[1].set([w[o-1],0===v,m,y]);break;case Si.OUTPUT.N:this.outs[1].set(w[o-1]);break;case Si.OUTPUT.Z:this.outs[1].set(0===v);break;case Si.OUTPUT.C:this.outs[1].set(m);break;case Si.OUTPUT.V:this.outs[1].set(y)}}this.outs[0].set(w)},Si.prototype.properties=function(t){for(var e=this,i=new et(this,t),n=i.uniqueId(),o=i.uniqueId(),r=i.uniqueId(),s='<div class="control-table"><div class="control">\n<label for="'.concat(n,'">Size:</label>\n<select name="').concat(n,'" id="').concat(n,'">'),a=0,c=[4,8,16,32];a<c.length;a++){var l=c[a],u=this.size===l?" selected":"";s+='<option value="'.concat(l,'"').concat(u,">").concat(l,"</option>")}s+='</select>\n</div>\n<div class="control">\n        <label>Secondary Output:</label>\n        <select class="auto" name="'.concat(o,'" id="').concat(o,'">');var h,d=Ti(Si.OUTPUT.POSSIBLE);try{for(d.s();!(h=d.n()).done;){var p=h.value,f=this.output===p?" selected":"",v=Si.OUTPUT.NAMES[p];s+='<option value="'.concat(p,'"').concat(f,">").concat(v,"</option>")}}catch(t){d.e(t)}finally{d.f()}s+='</select>\n</div>\n<div class="control">\n<label>Control:</label>\n<select class="auto" name="'.concat(r,'" id="').concat(r,'">');var m,y=Ti(Si.CONTROL.POSSIBLE);try{for(y.s();!(m=y.n()).done;){var g=m.value,b=this.control===g?" selected":"",A=Si.CONTROL.NAMES[g];s+='<option value="'.concat(g,'"').concat(b,">").concat(A,"</option>")}}catch(t){y.e(t)}finally{y.f()}s+="</select>\n</div></div>",i.extra(s,(function(){return null}),(function(){return e.size=document.getElementById(n).value,e.output=document.getElementById(o).value,null}),85),i.open()};var Oi=function(){};Oi.go=function(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)};var Bi=function(t,e){var n,o=this,r=i(306);this.version=r.version,this.root=i.p,this.sel=t,this.options=new ke(e),this.components=new Ie,(n=this.components).add(Ce),n.add(Te),n.add(Ne),n.add(De),n.add(Ee),n.add(je),n.add(Me),n.add(Re),n.add(Se),n.add(Oe),n.add(Be),n.add(ze),n.add(He),n.add(Ue),n.add(Ge),n.add(qe),n.add(Pe),n.add(Ke),n.add(ci),n.add(ai),n.add(oi),n.add(ri),n.add(si),n.add(Fe),n.add(Qe),n.add(_e),n.add(ii),n.add(ni),n.add(Xe),n.add(Ye),n.add(Ii),n.add(We),n.add(Je),n.add(ui),n.add(ki),n.add(vi),n.add(mi),n.add($e),n.add(ti),n.add(ei),n.add(li),n.add(wi),n.add(hi),n.add(Ze),n.add(yi),n.add(gi),n.add(bi),n.add(xi),n.add(Si),n.add(Ai),n.addPalette("combinatorial",[Se,Ee,Ue,He,Re,ze]),n.addPalette("sequential",[oi,ri,si,ai,ci]),n.addPalette("bus",[Fe,_e,Xe,Ye,We,Je]),n.addPalette("all",[Ce,Te,Ne,De,Pe,Ge,qe,Ke,Se,Oe,Be,ze,Ee,je,Me,Re,mi,Ue,He,oi,ri,si,ai,ci,Fe,_e,Qe,Xe,We,Ye,Ii,Je,$e,ti,ei,ii,ni,ui,li,hi,Ze,yi,bi,wi,vi,Si,ki]);var s=[],a=[];this.start=function(){if(null===t)return o.startNow();Oi.go((function(){o.startNow()}))},this.startNow=function(){if(null===t){o.options.display="none";var e=new xe(o,null,a);return s.push(e),e}if(t instanceof Element){var n=new xe(o,t,a);s.push(n)}else for(var r=document.querySelectorAll(t),c=0;c<r.length;c++){var l=r[c],u=new xe(o,l,a);s.push(u)}return 1===s.length?(null!==o.options.global&&(i.g[o.options.global]=s[0]),s[0]):null},this.getInstances=function(){return s},this.addTest=function(t){a.push(t)},this.runTest=function(t){s.forEach((function(e){e.runTest(t)}))}};i(780);Bi.Cirsim=Bi,Oi.go((function(){for(var t=document.querySelectorAll("div.cirsim-install"),e=0;e<t.length;e++){var i=t[e];i.classList.remove("cirsim-install");var n=JSON.parse(i.textContent);i.innerHTML="",new Bi(i,n).startNow(),i.style.display="block"}})),i.g.Cirsim=Bi},425:function(){!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},o=i.prototype,r=n.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=c.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,d=u.revokeObjectURL,p=u,f=t.btoa,v=t.atob,m=t.ArrayBuffer,y=t.Uint8Array,g=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=r.fake=!0;l--;)a.prototype[c[l]]=l+1;return u.createObjectURL||(p=t.URL=function(t){var e,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=t,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(e=t.match(g),i.origin=e&&e[1])),i}),p.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof n?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},o.append=function(t){var i=this.data;if(y&&(t instanceof m||t instanceof y)){for(var o="",r=new y(t),c=0,l=r.length;c<l;c++)o+=String.fromCharCode(r[c]);i.push(o)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;i.push(u.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&v?i.push(v(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},o.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},o.toString=function(){return"[object BlobBuilder]"},r.slice=function(t,e,i){var o=arguments.length;return o<3&&(i=null),new n(this.data.slice(t,o>1?e:this.data.length),i,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=0,delete this.data},i}(t);t.Blob=function(t,i){var n=i&&i.type||"",o=new e;if(t)for(var r=0,s=t.length;r<s;r++)Uint8Array&&t[r]instanceof Uint8Array?o.append(t[r].buffer):o.append(t[r]);var a=o.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},105:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o}),t=i.hmd(t);var n=n||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,r=/constructor/i.test(t.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},c=function(t){setTimeout((function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()}),4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},u=function(e,u,h){h||(e=l(e));var d,p=this,f="application/octet-stream"===e.type,v=function(){!function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var o=t["on"+e[n]];if("function"==typeof o)try{o.call(t,i||t)}catch(t){a(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,o)return d=i().createObjectURL(e),void setTimeout((function(){var t,e;n.href=d,n.download=u,t=n,e=new MouseEvent("click"),t.dispatchEvent(e),v(),c(d),p.readyState=p.DONE}));!function(){if((s||f&&r)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},n.readAsDataURL(e),void(p.readyState=p.INIT)}(d||(d=i().createObjectURL(e)),f)?t.location.href=d:t.open(d,"_blank")||(t.location.href=d);p.readyState=p.DONE,v(),c(d)}()},h=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,i){return new u(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);t.exports?t.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!==i.amdO&&define([],(function(){return n}));const o=n},384:()=>{"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0})},224:()=>{String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t})},664:(t,e,i)=>{i.p=function(){var t=/^(http.*\/.*\/)[^\/]+.js.*$/,e=document.currentScript.src.match(t);if(null!==e)return e[1];if(t=/^.*\/([^\/]+.js)$/,null!==(e=document.currentScript.src.match(t)))for(var i=e[1],n=document.getElementsByTagName("script"),o=0;o<n.length;o++){var r=n[o].getAttribute("src"),s=r.indexOf(i);if(s>-1)return r.substring(0,s)}return""}()},554:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var n=i(929),o=i.n(n)()((function(t){return t[1]}));o.push([t.id,'div.dialog-cl{box-sizing:border-box;position:fixed;border:1px solid #444;background-color:#fff;background-image:none;margin:0;padding:0;display:flex;flex-direction:column;flex-wrap:nowrap;cursor:default;top:0;width:350px;min-width:150px;max-width:500px;height:auto;min-height:150px;max-height:600px}div.cl-dialog-bottom{box-sizing:border-box;flex:0 0 44px;width:100%;margin:0;padding:0;text-align:right;border-top:1px solid #ccc;cursor:default}div.dialog-cl-body{flex:0 1 auto;width:100%;overflow-y:auto;padding:.5em}div.dialog-cl-body p:first-child,div.dialog-cl-body h1:first-child,div.dialog-cl-body h2:first-child{margin-top:0}div.dialog-cl-body p:last-child{margin-bottom:0}div.cl-dialog-bottom button{display:inline-block;min-width:7em;margin:10px 10px 10px 0;padding:3px 10px;font-family:"Trebuchet MS",Helvetica,sans-serif;font-size:.8em;font-weight:bold;border:1px solid #999;border-radius:1px;box-shadow:inset 0 -1px 0 1px rgba(0,0,0,.1),inset 0 -10px 20px rgba(0,0,0,.1);cursor:pointer;text-align:center;color:#444;background:#fff}div.cl-dialog-bottom button:active{box-shadow:inset 0 -1px 0 1px rgba(0,0,0,.1),inset 0 10px 20px rgba(0,0,0,.1)}div.cl-dialog-bottom button:disabled,div.cl-dialog-bottom button[disabled]{color:#ccc}div.dialog-cl-top{box-sizing:border-box;background-color:#009688;margin:0;padding:0;flex:0 0 25px;cursor:default;display:flex;flex-direction:row;flex-wrap:nowrap}div.dialog-cl-top h1{flex-grow:1;margin:0;padding:4px 4px 0 10px;font-family:"Trebuchet MS",Helvetica,sans-serif;font-size:16px;line-height:16px;user-select:none}div.dialog-cl-top button.dialog-cl-tb-button{flex:0 0 25px;position:relative;box-sizing:border-box;height:25px;width:25px;margin:0;padding:0;border:0;background:transparent;outline:none}div.dialog-cl-top button.dialog-cl-tb-button span{position:absolute;left:4px;top:4px}div.dialog-cl-top .dialog-cl-tb-button:hover{background-color:#e81123;cursor:pointer}div.dialog-cl div.message-cl{font-size:1.25em;padding:1em}div.dialog-cl-column{text-align:center}div.dialog-cl-column>div{display:inline-block;padding:1.5em 0 2em 0}div.dialog-cl-column select{width:100%}',""]);const r=o},175:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>u});var n=i(929),o=i.n(n),r=i(389),s=i.n(r),a=i(156),c=o()((function(t){return t[1]})),l=s()(a.Z);c.push([t.id,'div.cirsim div.toast{position:absolute;bottom:0;visibility:hidden;transform:translateY(2.3em);z-index:400;transition:all .4s ease-in-out 0s,visibility 0s linear .4s,z-index 0s linear .01s;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:1.1em;left:calc(50% - 30em/2);width:30em;background-color:#151515;color:#fff;text-align:center;border-top-left-radius:10px;border-top-right-radius:10px;padding:.5em}div.cirsim div.toast.toast-active{visibility:visible;transform:translateY(0%);transition-delay:0s,0s,.4s;z-index:400}div.cirsim nav.menubar{position:relative;z-index:100;margin:0;border:0;padding:0;background-color:#f0f3f0;border-bottom:thin solid gray;font-size:.9rem}div.cirsim nav.menubar li:hover{background:#00796b}div.cirsim nav.menubar li{user-select:none;cursor:pointer}div.cirsim nav.menubar li a,div.cirsim nav.menubar li a:link,div.cirsim nav.menubar li a:visited{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:.9rem;color:#000;text-decoration:none}div.cirsim nav.menubar>ul{list-style-type:none;margin:0;border:0;padding:0}div.cirsim nav.menubar>ul img.check{vertical-align:baseline;width:19px;height:16px;content:url('+l+')}div.cirsim nav.menubar>ul>li{display:inline-block;margin:0;border:0;padding:.25em 2em .25em .5em;position:relative}div.cirsim nav.menubar>ul>li a,div.cirsim nav.menubar>ul>li a:link,div.cirsim nav.menubar>ul>li a:visited{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:.9rem;color:#000;text-decoration:none}div.cirsim nav.menubar>ul ul{visibility:hidden;opacity:0;transform:translateY(-2em);z-index:-1;transition:all .2s ease-in-out 0s,visibility 0s linear .2s,z-index 0s linear .01s;list-style-type:none;position:absolute;overflow:hidden;left:0;top:100%;margin:1px 0 0 0;background-color:#f0f3f0;padding:0;border:1px solid gray;border-top-width:0}div.cirsim nav.menubar>ul ul>li{padding:0 5px;margin:0;overflow:hidden}div.cirsim nav.menubar>ul ul>li a{display:inline-block;width:8em;padding-top:5px;padding-bottom:5px}div.cirsim nav.menubar>ul ul>li.menu-disabled a{opacity:.3}div.cirsim nav.menubar>ul ul.menu-open{visibility:visible;opacity:1;z-index:100;transform:translateY(0%);transition-delay:0s,0s,.2s}div.cirsim nav.menubar>ul ul.edit-menu a{width:6em}div.cirsim nav.menubar>ul ul.option-menu a{width:11em}div.cirsim nav.menubar>ul ul.help-menu a{width:7.5em}div.cirsim nav.menubar>ul .ul-state-active{color:red}div.cirsim nav.menubar>ul li.menu-divider{height:1px;border:0 solid #000;border-top-width:1px}div.cirsim div.cs-palette{position:absolute;left:0;top:0;bottom:0;box-sizing:border-box;width:83px;background:#fff;border-right:1px solid #000;padding:1em 5px;z-index:5;overflow-y:scroll;overflow-x:hidden;cursor:pointer;-moz-user-select:-moz-none;-webkit-user-select:none;-ms-user-select:none;user-select:none}div.cirsim div.cs-palette div.cs-item{position:relative;min-height:60px;border-bottom:thin solid #ddd;align-items:center;display:flex}div.cirsim div.cs-palette div.cs-item div.cs-box{vertical-align:middle;margin:0;padding:0;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}div.cirsim div.cs-palette div.cs-item div.cs-box div.cs-img{margin:0;padding:0;border:0;line-height:0}div.cirsim div.cs-palette div.cs-item div.cs-box img{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;border:0;margin:0}div.cirsim div.cs-palette div.cs-item div.cs-box div.cs-desc{display:block;font-style:normal;font-weight:bold;padding:0;margin:0;text-align:center;font-size:.8em}div.cirsim div.cs-palette div.cs-item div.cs-box div.long{font-size:.65em}div.cirsim div.cs-palette figure{position:relative;top:50%;transform:translateY(-50%);margin:0;padding:0;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;border-bottom:thin solid #ddd}div.cirsim div.cs-palette figure img{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;border:0;margin:0}div.cirsim div.cs-palette figure figcaption{font-style:normal;font-weight:bold;padding:0;margin:0;text-align:center}div.cirsim div.cs-palette figure figcaption.long{font-size:.65em}.cirsim-dialog-titlebar{position:absolute;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.cirsim-home{right:calc(0.6em + 20px)}.cirsim-back{right:calc(0.9em + 40px)}.cirsim-help{position:relative;width:100%;max-width:100%;padding:.5em}.cirsim-help p:first-child{margin-top:0}.cirsim-help figure{text-align:center;overflow-x:auto;margin:1em 0}.cirsim-help figure img{box-shadow:none;border:0;padding:0;margin:0}.cirsim .help-div{padding:0;border-left:1px solid #aaa;border-right:1px solid #aaa;background-color:#fff}.cirsim .help-div div.header{box-sizing:border-box;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:bold;background-color:#009688;color:#000;width:100%;padding:0;margin:0;border:0;z-index:20;height:25px;display:flex;flex-direction:row;flex-wrap:nowrap}.cirsim .help-div div.header h1{flex-grow:1;margin:0;padding:4px 4px 0 10px;font-family:"Trebuchet MS",Helvetica,sans-serif;font-size:16px;line-height:16px;user-select:none}.cirsim .help-div div.header button{box-size:border-box;flex:0 0 25px;width:25px;height:25px;padding:0;margin:0;border:0;background:none;outline:none}.cirsim .help-div div.header button:hover{background-color:#e81123;cursor:pointer}div.cirsim div.work{position:absolute;width:100%;left:0;top:1.53em;right:0;bottom:0;background:#000}div.cirsim-install{display:none}div.cirsim .cirsim-overlay{position:absolute;left:0;right:0;top:0;bottom:0;background:#a00;opacity:.05;z-index:2000;display:none}div.cirsim div.main{line-height:normal;font-size:1rem;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}div.cirsim div.help-div{line-height:normal;font-size:1rem;display:none}div.cirsim.docked-help .main{position:absolute;top:0;left:0;right:325px;bottom:0}div.cirsim.docked-help .help-div{display:block;box-sizing:border-box;position:absolute;top:0;bottom:0;right:0;width:325px;overflow:auto}div.cirsim-full{position:absolute;left:0;right:0;top:0;bottom:0;background:#fff}div.cirsim-inline{position:relative;margin:0;border:0;padding:0;background:#fff;overflow:hidden}div.cirsim-inline div{text-align:center}div.cirsim-inline canvas{margin:0 auto}div.cirsim-window{position:relative;width:100%;height:600px;margin:0;border-left:0;border-right:0;padding:0;border-top:thin solid #aaa;background:#fff;min-height:100px;min-width:800px}div.cirsim.height300{height:300px}div.cirsim div.cirsim-dlg-content{position:relative;padding:.5em;font-size:.95em}div.cirsim div.cirsim-dlg-content input{padding:3px;box-sizing:border-box;font-size:1.1em}div.cirsim div.cirsim-dlg-content h2{margin:.75em 0}div.cirsim div.cirsim-dlg-content form{position:relative;height:100%}div.cirsim div.cirsim-dlg-content .large{font-size:1.2em}div.cirsim div.cirsim-dlg-content fieldset{position:relative;border:0;margin:0;padding:0;height:100%;min-width:0;max-width:100%}div.cirsim div.cirsim-dlg-content p.error{margin:1em 0 0 0;text-align:center;color:red;font-size:.9em;font-style:italic}div.cirsim div.cirsim-dlg-content div.control{position:relative;margin:0 0 1em 0}div.cirsim div.cirsim-dlg-content div.control div.left{text-align:left}div.cirsim div.cirsim-dlg-content div.control label{display:block;font-style:italic;margin:.2em 0 .1em 0}div.cirsim div.cirsim-dlg-content div.control input{display:block}div.cirsim div.cirsim-dlg-content div.control input[type=text],div.cirsim div.cirsim-dlg-content div.control input[type=file]{width:100%}div.cirsim div.cirsim-dlg-content div.control input[type=radio]{display:inline-block}div.cirsim div.cirsim-dlg-content div.control input[type=range]{width:100%}div.cirsim div.cirsim-dlg-content div.control p.selector{text-align:center}div.cirsim div.cirsim-dlg-content div.control select{width:6em}div.cirsim div.cirsim-dlg-content div.control select.auto{width:auto}div.cirsim div.cirsim-dlg-content div.control select.files{width:100%}div.cirsim div.cirsim-dlg-content div.control div.notice{position:absolute;width:100%;left:0;top:45%;text-align:center;font-style:italic;color:#8b4513}div.cirsim div.cirsim-dlg-content div.control textarea{width:100%}div.cirsim div.cirsim-dlg-content div.control div.choosers{display:inline-block;text-align:left}div.cirsim div.cirsim-dlg-content div.control1{margin:0 0 1em 0}div.cirsim div.cirsim-dlg-content div.control1 label{display:inline-block;font-style:italic;padding-right:.5em}div.cirsim div.cirsim-dlg-content div.control1 select{width:6em}div.cirsim div.cirsim-dlg-content div.control1 input.number{width:2em;text-align:center}div.cirsim div.cirsim-dlg-content div.control1 input.compname{width:4em}div.cirsim div.cirsim-dlg-content div.control1 input.tabname{width:6em}div.cirsim div.cirsim-dlg-content div.control1 select.auto{width:auto}div.cirsim div.cirsim-dlg-content div.control-table{margin:0 auto;display:table}div.cirsim div.cirsim-dlg-content div.control-table div.control{display:table-row;height:2em}div.cirsim div.cirsim-dlg-content div.control-table div.control label{display:table-cell;text-align:right;padding-right:.5em}div.cirsim div.cirsim-dlg-content div.control-table div.control select{display:table-cell}div.cirsim div.cirsim-dlg-content div.center{text-align:center}div.cirsim div.cirsim-dlg-content div.indent{margin-left:20px;margin-right:20px}div.cirsim div.cirsim-dlg-content h1{margin:0 0 .5em 0}div.cirsim div.cirsim-dlg-content p,div.cirsim div.cirsim-dlg-content li{color:#606060}div.cirsim div.cirsim-dlg-content .gap{margin-top:1em}div.cirsim.about{width:400px;text-align:center}div.cirsim.about img{width:171px;height:75px}div.cirsim.about div.cirsim-dlg-content{padding:1em}div.cirsim.about figure img{box-shadow:none}div.cirsim.help{width:500px;height:600px}div.cirsim.component a.helper{display:block;position:absolute;right:.5em;top:.5em;float:right;color:#606060;font-style:italic;text-decoration:underline;cursor:pointer;font-size:.85em;padding:0}div.cirsim .cirsim-error{color:red}div.cirsim-dialog{padding:1em;font-size:.95em}div.cirsim table{margin-left:auto;margin-right:auto;border-collapse:separate;border-spacing:0;font-size:.9em}div.cirsim table th{color:#fff;background:#18453b;background:linear-gradient(#18453B, #73d189);text-shadow:rgba(0,0,0,.4) 0 1px 0;border-right:1px solid #c1dad7;border-bottom:1px solid #c1dad7;border-top:1px solid #c1dad7;letter-spacing:1px;text-align:left;padding:2px 6px;font-family:Helvetica,Arial,sans-serif;text-decoration:none;vertical-align:bottom}div.cirsim table th a:link{color:#f5f3eb}div.cirsim table th a:visited{color:#e3dcc5}div.cirsim table th a:hover{color:#fff}div.cirsim table th.width40{width:20%}div.cirsim table th.width40em{width:40em}div.cirsim table th.width20em{width:20em}div.cirsim table td{border-right:1px solid #c1dad7;border-bottom:1px solid #c1dad7;background:#fff;padding:.25em .75em;color:#4f6b72}div.cirsim table td a,div.cirsim table td a:link,div.cirsim table td a:visited,div.cirsim table td a:hover{text-decoration:underline}div.cirsim table td a:link{color:#8a8a8a}div.cirsim table td a:visited{color:#b09d5b}div.cirsim table td a:hover{color:#36c}div.cirsim table.center td,div.cirsim table.center th{text-align:center}div.cirsim table.truth-table th{color:#000;background:#fff;text-shadow:none;border:none;border-bottom:1px solid #000;text-align:center}div.cirsim table.truth-table td{border:0}div.cirsim table.truth-table th:last-child,div.cirsim table.truth-table td:last-child{border-left:thin solid #000}div.cirsim div.tabs{position:absolute;left:83px;top:0;bottom:0;right:0;font-size:.8rem;padding:0;background:#ddd;border:0}div.cirsim div.tabs>ul{margin:0;padding:3px 0 0 2px;background:transparent;border:0;list-style:none}div.cirsim div.tabs>ul>li{position:relative;display:inline-block;font-size:.8rem;padding:.25em 1em .45em 1em;min-width:6em;text-align:center;cursor:pointer;background:#ccc;border:1px solid #000;border-bottom:none;border-radius:5px 5px 0 0;margin:1px 3px -1px 0;white-space:nowrap;z-index:18}div.cirsim div.tabs>ul>li a{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;text-decoration:none;color:#000;outline:0;user-select:none}div.cirsim div.tabs>ul>li.selected{background:#fff;z-index:22}div.cirsim div.tabs>ul>li.selected a{color:#000}div.cirsim div.tabs div.tab{position:absolute;display:none;left:0;top:29px;right:0;bottom:0;z-index:20;overflow:auto}div.cirsim div.tabs div.tab canvas{position:absolute;top:0;left:0;width:500px;height:500px;cursor:pointer}div.cirsim div.tabs div.tab.selected{display:block;background:#fff;border-top:1px solid #000}div.cirsim-test-result p.cs-result{text-align:center;color:#000}div.cirsim-test-result p.cs-info{text-align:center;font-size:.9em;font-style:italic}',""]);const u=c},929:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);n&&o[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},389:t=>{"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},156:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=i.p+"img/menu-check.png"},627:(t,e,i)=>{"use strict";var n=i(385),o=i.n(n),r=i(554),s={insert:"head",singleton:!1},a=o()(r.default,s);if(!r.default.locals||t.hot.invalidate){var c=r.default.locals;t.hot.accept(554,(e=>{r=i(554),function(t,e,i){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!i||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(i&&"default"===n||t[n]))return!1;return!0}(c,r.default.locals,void 0)?(c=r.default.locals,a(r.default)):t.hot.invalidate()}))}t.hot.dispose((function(){a()}));r.default.locals},780:(t,e,i)=>{"use strict";var n=i(385),o=i.n(n),r=i(175),s={insert:"head",singleton:!1},a=o()(r.default,s);if(!r.default.locals||t.hot.invalidate){var c=r.default.locals;t.hot.accept(175,(e=>{r=i(175),function(t,e,i){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!i||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(i&&"default"===n||t[n]))return!1;return!0}(c,r.default.locals,void 0)?(c=r.default.locals,a(r.default)):t.hot.invalidate()}))}t.hot.dispose((function(){a()}));r.default.locals},385:(t,e,i)=>{"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),s=[];function a(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function c(t,e){for(var i={},n=[],o=0;o<t.length;o++){var r=t[o],c=e.base?r[0]+e.base:r[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=a(u),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:m(d,e),references:1}),n.push(u)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,v=0;function m(t,e){var i,n,o;if(e.singleton){var r=v++;i=f||(f=l(e)),n=d.bind(null,i,r,!1),o=d.bind(null,i,r,!0)}else i=l(e),n=p.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var i=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=a(i[n]);s[o].references--}for(var r=c(t,e),l=0;l<i.length;l++){var u=a(i[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}i=r}}}},80:function(t,e){var i,n,o;n=[],void 0===(o="function"==typeof(i=function(){"use strict";var t={defaultCompare:function(t,e){return t<e?-1:t===e?0:1},defaultEquals:function(t,e){return t===e},defaultToString:function(e){return null===e?"BUCKETS_NULL":t.isUndefined(e)?"BUCKETS_UNDEFINED":t.isString(e)?e:e.toString()},isFunction:function(t){return"function"==typeof t},isUndefined:function(t){return void 0===t},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},reverseCompareFunction:function(e){return t.isFunction(e)?function(t,i){return-1*e(t,i)}:function(t,e){return t<e?1:t===e?0:-1}},compareToEquals:function(t){return function(e,i){return 0===t(e,i)}},arrays:{}};return t.arrays.indexOf=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length;for(o=0;o<s;o+=1)if(r(e[o],i))return o;return-1},t.arrays.lastIndexOf=function(e,i,n){var o,r=n||t.defaultEquals;for(o=e.length-1;o>=0;o-=1)if(r(e[o],i))return o;return-1},t.arrays.contains=function(e,i,n){return t.arrays.indexOf(e,i,n)>=0},t.arrays.remove=function(e,i,n){var o=t.arrays.indexOf(e,i,n);return!(o<0||(e.splice(o,1),0))},t.arrays.frequency=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length,a=0;for(o=0;o<s;o+=1)r(e[o],i)&&(a+=1);return a},t.arrays.equals=function(e,i,n){var o,r=n||t.defaultEquals,s=e.length;if(e.length!==i.length)return!1;for(o=0;o<s;o+=1)if(!r(e[o],i[o]))return!1;return!0},t.arrays.copy=function(t){return t.concat()},t.arrays.swap=function(t,e,i){var n;return!(e<0||e>=t.length||i<0||i>=t.length||(n=t[e],t[e]=t[i],t[i]=n,0))},t.arrays.forEach=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)if(!1===e(t[i]))return},t.Bag=function(e){var i={},n=e||t.defaultToString,o=new t.Dictionary(n),r=0;return i.add=function(e,n){var s;return(isNaN(n)||t.isUndefined(n))&&(n=1),!(t.isUndefined(e)||n<=0||(i.contains(e)?o.get(e).copies+=n:(s={value:e,copies:n},o.set(e,s)),r+=n,0))},i.count=function(t){return i.contains(t)?o.get(t).copies:0},i.contains=function(t){return o.containsKey(t)},i.remove=function(e,n){var s;return(isNaN(n)||t.isUndefined(n))&&(n=1),!(t.isUndefined(e)||n<=0||!i.contains(e)||(s=o.get(e),r-=n>s.copies?s.copies:n,s.copies-=n,s.copies<=0&&o.remove(e),0))},i.toArray=function(){var t,e,i,n,r,s=[],a=o.values(),c=a.length;for(n=0;n<c;n+=1)for(e=(t=a[n]).value,i=t.copies,r=0;r<i;r+=1)s.push(e);return s},i.toSet=function(){var e,i=new t.Set(n),r=o.values(),s=r.length;for(e=0;e<s;e+=1)i.add(r[e].value);return i},i.forEach=function(t){o.forEach((function(e,i){var n,o=i.value,r=i.copies;for(n=0;n<r;n+=1)if(!1===t(o))return!1;return!0}))},i.size=function(){return r},i.isEmpty=function(){return 0===r},i.clear=function(){r=0,o.clear()},i.equals=function(e){var n;return!t.isUndefined(e)&&"function"==typeof e.toSet&&i.size()===e.size()&&(n=!0,e.forEach((function(t){return n=i.count(t)===e.count(t)})),n)},i},t.BSTree=function(e){function i(t,e){for(var i,n=t;void 0!==n&&0!==i;)(i=s(e,n.element))<0?n=n.leftCh:i>0&&(n=n.rightCh);return n}function n(t){for(var e=t;void 0!==e.leftCh;)e=e.leftCh;return e}var o,r={},s=e||t.defaultCompare,a=0;return r.add=function(e){function i(t){for(var e,i,n=o;void 0!==n;){if(0===(i=s(t.element,n.element)))return;i<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,void 0===e?o=t:s(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t}return!t.isUndefined(e)&&void 0!==i({element:e,leftCh:void 0,rightCh:void 0,parent:void 0})&&(a+=1,!0)},r.clear=function(){o=void 0,a=0},r.isEmpty=function(){return 0===a},r.size=function(){return a},r.contains=function(e){return!t.isUndefined(e)&&void 0!==i(o,e)},r.remove=function(t){function e(t,e){void 0===t.parent?o=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,void 0!==e&&(e.parent=t.parent)}function r(t){if(void 0===t.leftCh)e(t,t.rightCh);else if(void 0===t.rightCh)e(t,t.leftCh);else{var i=n(t.rightCh);i.parent!==t&&(e(i,i.rightCh),i.rightCh=t.rightCh,i.rightCh.parent=i),e(t,i),i.leftCh=t.leftCh,i.leftCh.parent=i}}var s;return void 0!==(s=i(o,t))&&(r(s),a-=1,!0)},r.inorderTraversal=function(t){function e(t,i,n){void 0===t||n.stop||(e(t.leftCh,i,n),n.stop||(n.stop=!1===i(t.element),n.stop||e(t.rightCh,i,n)))}e(o,t,{stop:!1})},r.preorderTraversal=function(t){function e(t,i,n){void 0===t||n.stop||(n.stop=!1===i(t.element),n.stop||(e(t.leftCh,i,n),n.stop||e(t.rightCh,i,n)))}e(o,t,{stop:!1})},r.postorderTraversal=function(t){function e(t,i,n){void 0===t||n.stop||(e(t.leftCh,i,n),n.stop||(e(t.rightCh,i,n),n.stop||(n.stop=!1===i(t.element))))}e(o,t,{stop:!1})},r.levelTraversal=function(e){function i(e,i){var n=t.Queue();for(void 0!==e&&n.enqueue(e);!n.isEmpty();){if(!1===i((e=n.dequeue()).element))return;void 0!==e.leftCh&&n.enqueue(e.leftCh),void 0!==e.rightCh&&n.enqueue(e.rightCh)}}i(o,e)},r.minimum=function(){if(!r.isEmpty())return n(o).element},r.maximum=function(){function t(t){for(;void 0!==t.rightCh;)t=t.rightCh;return t}if(!r.isEmpty())return t(o).element},r.forEach=function(t){r.inorderTraversal(t)},r.toArray=function(){var t=[];return r.inorderTraversal((function(e){t.push(e)})),t},r.height=function(){function t(e){return void 0===e?-1:Math.max(t(e.leftCh),t(e.rightCh))+1}function e(e){return void 0===e?-1:Math.max(t(e.leftCh),t(e.rightCh))+1}return e(o)},r.equals=function(e){var i;return!t.isUndefined(e)&&"function"==typeof e.levelTraversal&&r.size()===e.size()&&(i=!0,e.forEach((function(t){return i=r.contains(t)})),i)},r},t.Dictionary=function(e){var i={},n={},o=0,r=e||t.defaultToString,s="/$ ";return i.get=function(e){var i=n[s+r(e)];if(!t.isUndefined(i))return i.value},i.set=function(e,i){var a,c,l;if(!t.isUndefined(e)&&!t.isUndefined(i))return c=s+r(e),l=n[c],t.isUndefined(l)?(o+=1,a=void 0):a=l.value,n[c]={key:e,value:i},a},i.remove=function(e){var i=s+r(e),a=n[i];if(!t.isUndefined(a))return delete n[i],o-=1,a.value},i.keys=function(){var t,e=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(n[t].key);return e},i.values=function(){var t,e=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(n[t].value);return e},i.forEach=function(t){var e,i;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&!1===t((i=n[e]).key,i.value))return},i.containsKey=function(e){return!t.isUndefined(i.get(e))},i.clear=function(){n={},o=0},i.size=function(){return o},i.isEmpty=function(){return o<=0},i.equals=function(e,n){var o,r;return!t.isUndefined(e)&&"function"==typeof e.keys&&i.size()===e.size()&&(o=n||t.defaultEquals,r=!0,e.forEach((function(t,e){return r=o(i.get(t),e)})),r)},i},t.Heap=function(e){function i(e){function i(t){return Math.floor((t-1)/2)}var n;for(n=i(e);e>0&&s(r[n],r[e])>0;)t.arrays.swap(r,n,e),n=i(e=n)}function n(e){function i(t){return 2*t+1}function n(t){return 2*t+2}function o(t,e){return e>=r.length?t>=r.length?-1:t:s(r[t],r[e])<=0?t:e}var a;for(a=o(i(e),n(e));a>=0&&s(r[e],r[a])>0;)t.arrays.swap(r,a,e),a=o(i(e=a),n(e))}var o={},r=[],s=e||t.defaultCompare;return o.peek=function(){if(r.length>0)return r[0]},o.add=function(e){if(!t.isUndefined(e))return r.push(e),i(r.length-1),!0},o.removeRoot=function(){var t;if(r.length>0)return t=r[0],r[0]=r[r.length-1],r.splice(r.length-1,1),r.length>0&&n(0),t},o.contains=function(e){var i=t.compareToEquals(s);return t.arrays.contains(r,e,i)},o.size=function(){return r.length},o.isEmpty=function(){return r.length<=0},o.clear=function(){r.length=0},o.forEach=function(e){t.arrays.forEach(r,e)},o.toArray=function(){return t.arrays.copy(r)},o.equals=function(e){var i,n,r;return!t.isUndefined(e)&&"function"==typeof e.removeRoot&&o.size()===e.size()&&(i=o.toArray(),n=e.toArray(),r=t.compareToEquals(s),i.sort(s),n.sort(s),t.arrays.equals(i,n,r))},o},t.LinkedList=function(){function e(t){var e,o;if(!(t<0||t>=r)){if(t===r-1)return n;for(e=i,o=0;o<t;o+=1)e=e.next;return e}}var i,n,o={},r=0;return o.add=function(o,s){var a,c;return t.isUndefined(s)&&(s=r),!(s<0||s>r||t.isUndefined(o)||(a={element:o,next:void 0},0===r?(i=a,n=a):s===r?(n.next=a,n=a):0===s?(a.next=i,i=a):(c=e(s-1),a.next=c.next,c.next=a),r+=1,0))},o.first=function(){if(void 0!==i)return i.element},o.last=function(){if(void 0!==n)return n.element},o.elementAtIndex=function(t){var i=e(t);if(void 0!==i)return i.element},o.indexOf=function(e,n){var o=n||t.defaultEquals,r=i,s=0;if(t.isUndefined(e))return-1;for(;void 0!==r;){if(o(r.element,e))return s;s+=1,r=r.next}return-1},o.contains=function(t,e){return o.indexOf(t,e)>=0},o.remove=function(e,o){var s,a=o||t.defaultEquals,c=i;if(r<1||t.isUndefined(e))return!1;for(;void 0!==c;){if(a(c.element,e))return c===i?(i=i.next,c===n&&(n=void 0)):c===n?(n=s,s.next=c.next,c.next=void 0):(s.next=c.next,c.next=void 0),r-=1,!0;s=c,c=c.next}return!1},o.clear=function(){i=void 0,n=void 0,r=0},o.equals=function(e,n){var r=n||t.defaultEquals,s=!0,a=i;return!t.isUndefined(e)&&"function"==typeof e.elementAtIndex&&o.size()===e.size()&&(e.forEach((function(t){return s=r(t,a.element),a=a.next,s})),s)},o.removeElementAtIndex=function(t){var o,s;if(!(t<0||t>=r))return 1===r?(o=i.element,i=void 0,n=void 0):(void 0===(s=e(t-1))?(o=i.element,i=i.next):s.next===n&&(o=n.element,n=s),void 0!==s&&(o=s.next.element,s.next=s.next.next)),r-=1,o},o.forEach=function(t){for(var e=i;void 0!==e&&!1!==t(e.element);)e=e.next},o.reverse=function(){for(var t,e,o=i;void 0!==o;)e=o.next,o.next=t,t=o,o=e;e=i,i=n,n=e},o.toArray=function(){var t=[];return o.forEach((function(e){t.push(e)})),t},o.size=function(){return r},o.isEmpty=function(){return r<=0},o},t.MultiDictionary=function(e,i){var n={},o=new t.Dictionary(e),r=i||t.defaultEquals;return n.get=function(e){var i=o.get(e);return t.isUndefined(i)?[]:t.arrays.copy(i)},n.set=function(e,i){var s;return!(t.isUndefined(e)||t.isUndefined(i)||(n.containsKey(e)?(s=o.get(e),t.arrays.contains(s,i,r)||(s.push(i),0)):(o.set(e,[i]),0)))},n.remove=function(e,i){var n,s;return t.isUndefined(i)?(n=o.remove(e),!t.isUndefined(n)):(s=o.get(e),!!t.arrays.remove(s,i,r)&&(0===s.length&&o.remove(e),!0))},n.keys=function(){return o.keys()},n.values=function(){var t,e,i,n=o.values(),r=[];for(t=0;t<n.length;t+=1)for(i=n[t],e=0;e<i.length;e+=1)r.push(i[e]);return r},n.containsKey=function(t){return o.containsKey(t)},n.clear=function(){return o.clear()},n.size=function(){return o.size()},n.isEmpty=function(){return o.isEmpty()},n.forEach=function(t){return o.forEach(t)},n.equals=function(e){var i,o=!0;return!t.isUndefined(e)&&"function"==typeof e.values&&n.size()===e.size()&&(e.forEach((function(e,s){return(i=n.get(e)||[]).length!==s.length?o=!1:t.arrays.forEach(i,(function(e){return o=t.arrays.contains(s,e,r)})),o})),o)},n},t.PriorityQueue=function(e){var i={},n=t.reverseCompareFunction(e),o=new t.Heap(n);return i.enqueue=function(t){return o.add(t)},i.add=function(t){return o.add(t)},i.dequeue=function(){var t;if(0!==o.size())return t=o.peek(),o.removeRoot(),t},i.peek=function(){return o.peek()},i.contains=function(t){return o.contains(t)},i.isEmpty=function(){return o.isEmpty()},i.size=function(){return o.size()},i.clear=function(){o.clear()},i.forEach=function(t){o.forEach(t)},i.toArray=function(){return o.toArray()},i.equals=function(e){var o,r,s;return!t.isUndefined(e)&&"function"==typeof e.dequeue&&i.size()===e.size()&&(o=i.toArray(),r=e.toArray(),s=t.compareToEquals(n),o.sort(n),r.sort(n),t.arrays.equals(o,r,s))},i},t.Queue=function(){var e={},i=new t.LinkedList;return e.enqueue=function(t){return i.add(t)},e.add=function(t){return i.add(t)},e.dequeue=function(){var t;if(0!==i.size())return t=i.first(),i.removeElementAtIndex(0),t},e.peek=function(){if(0!==i.size())return i.first()},e.size=function(){return i.size()},e.contains=function(t,e){return i.contains(t,e)},e.isEmpty=function(){return i.size()<=0},e.clear=function(){i.clear()},e.forEach=function(t){i.forEach(t)},e.toArray=function(){return i.toArray()},e.equals=function(i,n){var o,r,s;return!t.isUndefined(i)&&"function"==typeof i.dequeue&&e.size()===i.size()&&(o=n||t.defaultEquals,r=!0,i.forEach((function(t){return s=e.dequeue(),e.enqueue(s),r=o(s,t)})),r)},e},t.Set=function(e){var i={},n=new t.Dictionary(e);return i.contains=function(t){return n.containsKey(t)},i.add=function(e){return!i.contains(e)&&!t.isUndefined(e)&&(n.set(e,e),!0)},i.intersection=function(t){i.forEach((function(e){t.contains(e)||i.remove(e)}))},i.union=function(t){t.forEach((function(t){i.add(t)}))},i.difference=function(t){t.forEach((function(t){i.remove(t)}))},i.isSubsetOf=function(t){var e=!0;return!(i.size()>t.size())&&(i.forEach((function(i){if(!t.contains(i))return e=!1,!1})),e)},i.remove=function(t){return!!i.contains(t)&&(n.remove(t),!0)},i.forEach=function(t){n.forEach((function(e,i){return t(i)}))},i.toArray=function(){return n.values()},i.isEmpty=function(){return n.isEmpty()},i.size=function(){return n.size()},i.clear=function(){n.clear()},i.equals=function(e){var n;return!t.isUndefined(e)&&"function"==typeof e.isSubsetOf&&i.size()===e.size()&&(n=!0,e.forEach((function(t){return n=i.contains(t)})),n)},i},t.Stack=function(){var e={},i=new t.LinkedList;return e.push=function(t){return i.add(t,0)},e.add=function(t){return i.add(t,0)},e.pop=function(){return i.removeElementAtIndex(0)},e.peek=function(){return i.first()},e.size=function(){return i.size()},e.contains=function(t,e){return i.contains(t,e)},e.isEmpty=function(){return i.isEmpty()},e.clear=function(){i.clear()},e.forEach=function(t){i.forEach(t)},e.toArray=function(){return i.toArray()},e.equals=function(n,o){var r,s,a;return!t.isUndefined(n)&&"function"==typeof n.peek&&e.size()===n.size()&&(r=o||t.defaultEquals,s=!0,n.forEach((function(t){return a=e.pop(),i.add(a),s=r(a,t)})),s)},e},t})?i.apply(e,n):i)||(t.exports=o)},25:function(t){t.exports=function(){"use strict";function t(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var e=Object.hasOwnProperty,i=Object.setPrototypeOf,n=Object.isFrozen,o=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,s=Object.freeze,a=Object.seal,c=Object.create,l="undefined"!=typeof Reflect&&Reflect,u=l.apply,h=l.construct;u||(u=function(t,e,i){return t.apply(e,i)}),s||(s=function(t){return t}),a||(a=function(t){return t}),h||(h=function(e,i){return new(Function.prototype.bind.apply(e,[null].concat(t(i))))});var d=x(Array.prototype.forEach),p=x(Array.prototype.pop),f=x(Array.prototype.push),v=x(String.prototype.toLowerCase),m=x(String.prototype.match),y=x(String.prototype.replace),g=x(String.prototype.indexOf),b=x(String.prototype.trim),A=x(RegExp.prototype.test),w=k(TypeError);function x(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return u(t,e,n)}}function k(t){return function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return h(t,i)}}function I(t,e){i&&i(t,null);for(var o=e.length;o--;){var r=e[o];if("string"==typeof r){var s=v(r);s!==r&&(n(e)||(e[o]=s),r=s)}t[r]=!0}return t}function C(t){var i=c(null),n=void 0;for(n in t)u(e,t,[n])&&(i[n]=t[n]);return i}function T(t,e){for(;null!==t;){var i=r(t,e);if(i){if(i.get)return x(i.get);if("function"==typeof i.value)return x(i.value)}t=o(t)}function n(t){return console.warn("fallback value for",t),null}return n}var E=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=s(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=s(["#text"]),R=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),U=a(/<%[\s\S]*|[\s\S]*%>/gm),q=a(/^data-[\-\w.\u00B7-\uFFFF]/),H=a(/^aria-[\-\w]+$/),F=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_=a(/^(?:\w+script|data):/i),Q=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function W(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var Y=function(){return"undefined"==typeof window?null:window},J=function(t,e){if("object"!==(void 0===t?"undefined":X(t))||"function"!=typeof t.createPolicy)return null;var i=null,n="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(n)&&(i=e.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(),e=function(t){return V(t)};if(e.version="2.2.9",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var i=t.document,n=t.document,o=t.DocumentFragment,r=t.HTMLTemplateElement,a=t.Node,c=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,h=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,x=t.Text,k=t.Comment,G=t.DOMParser,K=t.trustedTypes,Z=c.prototype,$=T(Z,"cloneNode"),tt=T(Z,"nextSibling"),et=T(Z,"childNodes"),it=T(Z,"parentNode");if("function"==typeof r){var nt=n.createElement("template");nt.content&&nt.content.ownerDocument&&(n=nt.content.ownerDocument)}var ot=J(K,i),rt=ot&&Nt?ot.createHTML(""):"",st=n,at=st.implementation,ct=st.createNodeIterator,lt=st.createDocumentFragment,ut=i.importNode,ht={};try{ht=C(n).documentMode?n.documentMode:{}}catch(t){}var dt={};e.isSupported="function"==typeof it&&at&&void 0!==at.createHTMLDocument&&9!==ht;var pt=P,ft=U,vt=q,mt=H,yt=_,gt=Q,bt=F,At=null,wt=I({},[].concat(W(E),W(S),W(O),W(z),W(M))),xt=null,kt=I({},[].concat(W(R),W(L),W(N),W(D))),It=null,Ct=null,Tt=!0,Et=!0,St=!1,Ot=!1,Bt=!1,zt=!1,jt=!1,Mt=!1,Rt=!1,Lt=!0,Nt=!1,Dt=!0,Pt=!0,Ut=!1,qt={},Ht=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ft=null,_t=I({},["audio","video","img","source","image","track"]),Qt=null,Xt=I({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",Yt="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml",Vt=Jt,Gt=!1,Kt=null,Zt=n.createElement("form"),$t=function(t){Kt&&Kt===t||(t&&"object"===(void 0===t?"undefined":X(t))||(t={}),t=C(t),At="ALLOWED_TAGS"in t?I({},t.ALLOWED_TAGS):wt,xt="ALLOWED_ATTR"in t?I({},t.ALLOWED_ATTR):kt,Qt="ADD_URI_SAFE_ATTR"in t?I(C(Xt),t.ADD_URI_SAFE_ATTR):Xt,Ft="ADD_DATA_URI_TAGS"in t?I(C(_t),t.ADD_DATA_URI_TAGS):_t,It="FORBID_TAGS"in t?I({},t.FORBID_TAGS):{},Ct="FORBID_ATTR"in t?I({},t.FORBID_ATTR):{},qt="USE_PROFILES"in t&&t.USE_PROFILES,Tt=!1!==t.ALLOW_ARIA_ATTR,Et=!1!==t.ALLOW_DATA_ATTR,St=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ot=t.SAFE_FOR_TEMPLATES||!1,Bt=t.WHOLE_DOCUMENT||!1,Mt=t.RETURN_DOM||!1,Rt=t.RETURN_DOM_FRAGMENT||!1,Lt=!1!==t.RETURN_DOM_IMPORT,Nt=t.RETURN_TRUSTED_TYPE||!1,jt=t.FORCE_BODY||!1,Dt=!1!==t.SANITIZE_DOM,Pt=!1!==t.KEEP_CONTENT,Ut=t.IN_PLACE||!1,bt=t.ALLOWED_URI_REGEXP||bt,Vt=t.NAMESPACE||Jt,Ot&&(Et=!1),Rt&&(Mt=!0),qt&&(At=I({},[].concat(W(M))),xt=[],!0===qt.html&&(I(At,E),I(xt,R)),!0===qt.svg&&(I(At,S),I(xt,L),I(xt,D)),!0===qt.svgFilters&&(I(At,O),I(xt,L),I(xt,D)),!0===qt.mathMl&&(I(At,z),I(xt,N),I(xt,D))),t.ADD_TAGS&&(At===wt&&(At=C(At)),I(At,t.ADD_TAGS)),t.ADD_ATTR&&(xt===kt&&(xt=C(xt)),I(xt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&I(Qt,t.ADD_URI_SAFE_ATTR),Pt&&(At["#text"]=!0),Bt&&I(At,["html","head","body"]),At.table&&(I(At,["tbody"]),delete It.tbody),s&&s(t),Kt=t)},te=I({},["mi","mo","mn","ms","mtext"]),ee=I({},["foreignobject","desc","title","annotation-xml"]),ie=I({},S);I(ie,O),I(ie,B);var ne=I({},z);I(ne,j);var oe=function(t){var e=it(t);e&&e.tagName||(e={namespaceURI:Jt,tagName:"template"});var i=v(t.tagName),n=v(e.tagName);if(t.namespaceURI===Yt)return e.namespaceURI===Jt?"svg"===i:e.namespaceURI===Wt?"svg"===i&&("annotation-xml"===n||te[n]):Boolean(ie[i]);if(t.namespaceURI===Wt)return e.namespaceURI===Jt?"math"===i:e.namespaceURI===Yt?"math"===i&&ee[n]:Boolean(ne[i]);if(t.namespaceURI===Jt){if(e.namespaceURI===Yt&&!ee[n])return!1;if(e.namespaceURI===Wt&&!te[n])return!1;var o=I({},["title","style","font","a","script"]);return!ne[i]&&(o[i]||!ie[i])}return!1},re=function(t){f(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=rt}catch(e){t.remove()}}},se=function(t,i){try{f(e.removed,{attribute:i.getAttributeNode(t),from:i})}catch(t){f(e.removed,{attribute:null,from:i})}if(i.removeAttribute(t),"is"===t&&!xt[t])if(Mt||Rt)try{re(i)}catch(t){}else try{i.setAttribute(t,"")}catch(t){}},ae=function(t){var e=void 0,i=void 0;if(jt)t="<remove></remove>"+t;else{var o=m(t,/^[\r\n\t ]+/);i=o&&o[0]}var r=ot?ot.createHTML(t):t;if(Vt===Jt)try{e=(new G).parseFromString(r,"text/html")}catch(t){}if(!e||!e.documentElement){e=at.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Gt?"":r}catch(t){}}var s=e.body||e.documentElement;return t&&i&&s.insertBefore(n.createTextNode(i),s.childNodes[0]||null),Bt?e.documentElement:s},ce=function(t){return ct.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},le=function(t){return!(t instanceof x||t instanceof k||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof h&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},ue=function(t){return"object"===(void 0===a?"undefined":X(a))?t instanceof a:t&&"object"===(void 0===t?"undefined":X(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},he=function(t,i,n){dt[t]&&d(dt[t],(function(t){t.call(e,i,n,Kt)}))},de=function(t){var i=void 0;if(he("beforeSanitizeElements",t,null),le(t))return re(t),!0;if(m(t.nodeName,/[\u0080-\uFFFF]/))return re(t),!0;var n=v(t.nodeName);if(he("uponSanitizeElement",t,{tagName:n,allowedTags:At}),!ue(t.firstElementChild)&&(!ue(t.content)||!ue(t.content.firstElementChild))&&A(/<[/\w]/g,t.innerHTML)&&A(/<[/\w]/g,t.textContent))return re(t),!0;if(!At[n]||It[n]){if(Pt&&!Ht[n]){var o=it(t)||t.parentNode,r=et(t)||t.childNodes;if(r&&o)for(var s=r.length-1;s>=0;--s)o.insertBefore($(r[s],!0),tt(t))}return re(t),!0}return t instanceof c&&!oe(t)?(re(t),!0):"noscript"!==n&&"noembed"!==n||!A(/<\/no(script|embed)/i,t.innerHTML)?(Ot&&3===t.nodeType&&(i=t.textContent,i=y(i,pt," "),i=y(i,ft," "),t.textContent!==i&&(f(e.removed,{element:t.cloneNode()}),t.textContent=i)),he("afterSanitizeElements",t,null),!1):(re(t),!0)},pe=function(t,e,i){if(Dt&&("id"===e||"name"===e)&&(i in n||i in Zt))return!1;if(Et&&A(vt,e));else if(Tt&&A(mt,e));else{if(!xt[e]||Ct[e])return!1;if(Qt[e]);else if(A(bt,y(i,gt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==g(i,"data:")||!Ft[t])if(St&&!A(yt,y(i,gt,"")));else if(i)return!1}return!0},fe=function(t){var i=void 0,n=void 0,o=void 0,r=void 0;he("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xt};for(r=s.length;r--;){var c=i=s[r],l=c.name,u=c.namespaceURI;if(n=b(i.value),o=v(l),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,he("uponSanitizeAttribute",t,a),n=a.attrValue,!a.forceKeepAttr&&(se(l,t),a.keepAttr))if(A(/\/>/i,n))se(l,t);else{Ot&&(n=y(n,pt," "),n=y(n,ft," "));var h=t.nodeName.toLowerCase();if(pe(h,o,n))try{u?t.setAttributeNS(u,l,n):t.setAttribute(l,n),p(e.removed)}catch(t){}}}he("afterSanitizeAttributes",t,null)}},ve=function t(e){var i=void 0,n=ce(e);for(he("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)he("uponSanitizeShadowNode",i,null),de(i)||(i.content instanceof o&&t(i.content),fe(i));he("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(n,r){var s=void 0,c=void 0,l=void 0,u=void 0,h=void 0;if((Gt=!n)&&(n="\x3c!--\x3e"),"string"!=typeof n&&!ue(n)){if("function"!=typeof n.toString)throw w("toString is not a function");if("string"!=typeof(n=n.toString()))throw w("dirty is not a string, aborting")}if(!e.isSupported){if("object"===X(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof n)return t.toStaticHTML(n);if(ue(n))return t.toStaticHTML(n.outerHTML)}return n}if(zt||$t(r),e.removed=[],"string"==typeof n&&(Ut=!1),Ut);else if(n instanceof a)1===(c=(s=ae("\x3c!----\x3e")).ownerDocument.importNode(n,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!Mt&&!Ot&&!Bt&&-1===n.indexOf("<"))return ot&&Nt?ot.createHTML(n):n;if(!(s=ae(n)))return Mt?null:rt}s&&jt&&re(s.firstChild);for(var d=ce(Ut?n:s);l=d.nextNode();)3===l.nodeType&&l===u||de(l)||(l.content instanceof o&&ve(l.content),fe(l),u=l);if(u=null,Ut)return n;if(Mt){if(Rt)for(h=lt.call(s.ownerDocument);s.firstChild;)h.appendChild(s.firstChild);else h=s;return Lt&&(h=ut.call(i,h,!0)),h}var p=Bt?s.outerHTML:s.innerHTML;return Ot&&(p=y(p,pt," "),p=y(p,ft," ")),ot&&Nt?ot.createHTML(p):p},e.setConfig=function(t){$t(t),zt=!0},e.clearConfig=function(){Kt=null,zt=!1},e.isValidAttribute=function(t,e,i){Kt||$t({});var n=v(t),o=v(e);return pe(n,o,i)},e.addHook=function(t,e){"function"==typeof e&&(dt[t]=dt[t]||[],f(dt[t],e))},e.removeHook=function(t){dt[t]&&p(dt[t])},e.removeHooks=function(t){dt[t]&&(dt[t]=[])},e.removeAllHooks=function(){dt={}},e}return V()}()},307:t=>{var e;self,e=function(){return(()=>{"use strict";var t,e,i={"../../node_modules/css-loader/dist/cjs.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./src/icons.scss":(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var n=i("../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),o=i.n(n),r=i("../../node_modules/css-loader/dist/runtime/api.js"),s=i.n(r),a=i("../../node_modules/css-loader/dist/runtime/getUrl.js"),c=i.n(a),l=i("./src/images/icons.png"),u=s()(o()),h=c()(l.default);u.push([t.id,".icons-cl {\n  display: inline-block;\n  background-image: url("+h+");\n  width: 16px;\n  height: 16px;\n  overflow: hidden;\n  color: transparent;\n  padding: 0; }\n  .icons-cl.icons-cl-caret-1-n {\n    background-position: 0 0; }\n  .icons-cl.icons-cl-caret-1-ne {\n    background-position: -16px 0; }\n  .icons-cl.icons-cl-caret-1-e {\n    background-position: -32px 0; }\n  .icons-cl.icons-cl-caret-1-se {\n    background-position: -48px 0; }\n  .icons-cl.icons-cl-caret-1-s {\n    background-position: -64px 0; }\n  .icons-cl.icons-cl-caret-1-sw {\n    background-position: -80px 0; }\n  .icons-cl.icons-cl-caret-1-w {\n    background-position: -96px 0; }\n  .icons-cl.icons-cl-caret-1-nw {\n    background-position: -112px 0; }\n  .icons-cl.icons-cl-caret-2-n-s {\n    background-position: -128px 0; }\n  .icons-cl.icons-cl-caret-2-e-w {\n    background-position: -144px 0; }\n  .icons-cl.icons-cl-triangle-1-n {\n    background-position: 0px -16px; }\n  .icons-cl.icons-cl-triangle-1-ne {\n    background-position: -16px -16px; }\n  .icons-cl.icons-cl-triangle-1-e {\n    background-position: -32px -16px; }\n  .icons-cl.icons-cl-triangle-1-se {\n    background-position: -48px -16px; }\n  .icons-cl.icons-cl-triangle-1-s {\n    background-position: -64px -16px; }\n  .icons-cl.icons-cl-triangle-1-sw {\n    background-position: -80px -16px; }\n  .icons-cl.icons-cl-triangle-1-w {\n    background-position: -96px -16px; }\n  .icons-cl.icons-cl-triangle-1-nw {\n    background-position: -112px -16px; }\n  .icons-cl.icons-cl-triangle-2-n-s {\n    background-position: -128px -16px; }\n  .icons-cl.icons-cl-triangle-2-e-w {\n    background-position: -144px -16px; }\n  .icons-cl.icons-cl-arrow-1-n {\n    background-position: 0px -32px; }\n  .icons-cl.icons-cl-arrow-1-ne {\n    background-position: -16px -32px; }\n  .icons-cl.icons-cl-arrow-1-e {\n    background-position: -32px -32px; }\n  .icons-cl.icons-cl-arrow-1-se {\n    background-position: -48px -32px; }\n  .icons-cl.icons-cl-arrow-1-s {\n    background-position: -64px -32px; }\n  .icons-cl.icons-cl-arrow-1-sw {\n    background-position: -80px -32px; }\n  .icons-cl.icons-cl-arrow-1-w {\n    background-position: -96px -32px; }\n  .icons-cl.icons-cl-arrow-1-nw {\n    background-position: -112px -32px; }\n  .icons-cl.icons-cl-arrow-2-n-s {\n    background-position: -128px -32px; }\n  .icons-cl.icons-cl-arrow-2-ne-sw {\n    background-position: -144px -32px; }\n  .icons-cl.icons-cl-arrow-2-e-w {\n    background-position: -160px -32px; }\n  .icons-cl.icons-cl-arrow-2-se-nw {\n    background-position: -176px -32px; }\n  .icons-cl.icons-cl-arrowstop-1-n {\n    background-position: -192px -32px; }\n  .icons-cl.icons-cl-arrowstop-1-e {\n    background-position: -208px -32px; }\n  .icons-cl.icons-cl-arrowstop-1-s {\n    background-position: -224px -32px; }\n  .icons-cl.icons-cl-arrowstop-1-w {\n    background-position: -240px -32px; }\n  .icons-cl.icons-cl-arrowthick-1-n {\n    background-position: 0px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-ne {\n    background-position: -16px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-e {\n    background-position: -32px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-se {\n    background-position: -48px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-s {\n    background-position: -64px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-sw {\n    background-position: -80px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-w {\n    background-position: -96px -48px; }\n  .icons-cl.icons-cl-arrowthick-1-nw {\n    background-position: -112px -48px; }\n  .icons-cl.icons-cl-arrowthick-2-n-s {\n    background-position: -128px -48px; }\n  .icons-cl.icons-cl-arrowthick-2-ne-sw {\n    background-position: -144px -48px; }\n  .icons-cl.icons-cl-arrowthick-2-e-w {\n    background-position: -160px -48px; }\n  .icons-cl.icons-cl-arrowthick-2-se-nw {\n    background-position: -176px -48px; }\n  .icons-cl.icons-cl-arrowthickstop-1-n {\n    background-position: -192px -48px; }\n  .icons-cl.icons-cl-arrowthickstop-1-e {\n    background-position: -208px -48px; }\n  .icons-cl.icons-cl-arrowthickstop-1-s {\n    background-position: -224px -48px; }\n  .icons-cl.icons-cl-arrowthickstop-1-w {\n    background-position: -240px -48px; }\n  .icons-cl.icons-cl-arrowreturnthick-1-w {\n    background-position: 0px -64px; }\n  .icons-cl.icons-cl-arrowreturnthick-1-e {\n    background-position: -32px -64px; }\n  .icons-cl.icons-cl-folder-collapsed {\n    background-position: 0px -96px; }\n  .icons-cl.icons-cl-folder-open {\n    background-position: -16px -96px; }\n  .icons-cl.icons-cl-document {\n    background-position: -32px -96px; }\n  .icons-cl.icons-cl-document-b {\n    background-position: -48px -96px; }\n  .icons-cl.icons-cl-note {\n    background-position: -64px -96px; }\n  .icons-cl.icons-cl-mail-closed {\n    background-position: -80px -96px; }\n  .icons-cl.icons-cl-mail-open {\n    background-position: -96px -96px; }\n  .icons-cl.icons-cl-suitcase {\n    background-position: -112px -96px; }\n  .icons-cl.icons-cl-comment {\n    background-position: -128px -96px; }\n  .icons-cl.icons-cl-person {\n    background-position: -144px -96px; }\n  .icons-cl.icons-cl-print {\n    background-position: -160px -96px; }\n  .icons-cl.icons-cl-trash {\n    background-position: -176px -96px; }\n  .icons-cl.icons-cl-locked {\n    background-position: -192px -96px; }\n  .icons-cl.icons-cl-unlocked {\n    background-position: -208px -96px; }\n  .icons-cl.icons-cl-bookmark {\n    background-position: -224px -96px; }\n  .icons-cl.icons-cl-tag {\n    background-position: -240px -96px; }\n  .icons-cl.icons-cl-home {\n    background-position: 0px -112px; }\n  .icons-cl.icons-cl-flag {\n    background-position: -16px -112px; }\n  .icons-cl.icons-cl-calculator {\n    background-position: -32px -112px; }\n  .icons-cl.icons-cl-cart {\n    background-position: -48px -112px; }\n  .icons-cl.icons-cl-pencil {\n    background-position: -64px -112px; }\n  .icons-cl.icons-cl-clock {\n    background-position: -80px -112px; }\n  .icons-cl.icons-cl-disk {\n    background-position: -96px -112px; }\n  .icons-cl.icons-cl-calendar {\n    background-position: -112px -112px; }\n  .icons-cl.icons-cl-zoomin {\n    background-position: -128px -112px; }\n  .icons-cl.icons-cl-zoomout {\n    background-position: -144px -112px; }\n  .icons-cl.icons-cl-search {\n    background-position: -160px -112px; }\n  .icons-cl.icons-cl-wrench {\n    background-position: -176px -112px; }\n  .icons-cl.icons-cl-gear {\n    background-position: -192px -112px; }\n  .icons-cl.icons-cl-heart {\n    background-position: -208px -112px; }\n  .icons-cl.icons-cl-star {\n    background-position: -224px -112px; }\n  .icons-cl.icons-cl-link {\n    background-position: -240px -112px; }\n  .icons-cl.icons-cl-cancel {\n    background-position: 0px -128px; }\n  .icons-cl.icons-cl-plus {\n    background-position: -16px -128px; }\n  .icons-cl.icons-cl-plusthick {\n    background-position: -32px -128px; }\n  .icons-cl.icons-cl-minus {\n    background-position: -48px -128px; }\n  .icons-cl.icons-cl-minusthick {\n    background-position: -64px -128px; }\n  .icons-cl.icons-cl-key {\n    background-position: -80px -128px; }\n  .icons-cl.icons-cl-lightbulb {\n    background-position: -96px -128px; }\n  .icons-cl.icons-cl-scissors {\n    background-position: -112px -128px; }\n  .icons-cl.icons-cl-clipboard {\n    background-position: -128px -128px; }\n  .icons-cl.icons-cl-copy {\n    background-position: -144px -128px; }\n  .icons-cl.icons-cl-contact {\n    background-position: -160px -128px; }\n  .icons-cl.icons-cl-image {\n    background-position: -176px -128px; }\n  .icons-cl.icons-cl-video {\n    background-position: -192px -128px; }\n  .icons-cl.icons-cl-script {\n    background-position: -208px -128px; }\n  .icons-cl.icons-cl-close {\n    background-position: -80px -128px; }\n  .icons-cl.icons-cl-closethick {\n    background-position: -96px -128px; }\n  .icons-cl.icons-cl-alert {\n    background-position: 0px -144px; }\n  .icons-cl.icons-cl-info {\n    background-position: -16px -144px; }\n  .icons-cl.icons-cl-notice {\n    background-position: -32px -144px; }\n  .icons-cl.icons-cl-help {\n    background-position: -48px -144px; }\n  .icons-cl.icons-cl-check {\n    background-position: -64px -144px; }\n  .icons-cl.icons-cl-bullet {\n    background-position: -80px -144px; }\n  .icons-cl.icons-cl-radio-off {\n    background-position: -96px -144px; }\n  .icons-cl.icons-cl-radio-on {\n    background-position: -112px -144px; }\n  .icons-cl.icons-cl-pin-w {\n    background-position: -128px -144px; }\n  .icons-cl.icons-cl-pin-s {\n    background-position: -144px -144px; }\n  .icons-cl.icons-cl-play {\n    background-position: 0px -160px; }\n  .icons-cl.icons-cl-pause {\n    background-position: -16px -160px; }\n  .icons-cl.icons-cl-seek-next {\n    background-position: -32px -160px; }\n  .icons-cl.icons-cl-seek-prev {\n    background-position: -48px -160px; }\n  .icons-cl.icons-cl-seek-end {\n    background-position: -64px -160px; }\n  .icons-cl.icons-cl-seek-first {\n    background-position: -80px -160px; }\n  .icons-cl.icons-cl-stop {\n    background-position: -96px -160px; }\n  .icons-cl.icons-cl-eject {\n    background-position: -112px -160px; }\n  .icons-cl.icons-cl-volume-off {\n    background-position: -128px -160px; }\n  .icons-cl.icons-cl-volume-on {\n    background-position: -144px -160px; }\n","",{version:3,sources:["webpack://./icons.scss"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,yDAAuC;EACvC,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,UAAU,EAAA;EAPZ;IAaI,wBAAwB,EAAA;EAb5B;IAiBI,4BAA4B,EAAA;EAjBhC;IAqBI,4BAAgC,EAAA;EArBpC;IAyBI,4BAAgC,EAAA;EAzBpC;IA6BI,4BAAgC,EAAA;EA7BpC;IAiCI,4BAAgC,EAAA;EAjCpC;IAqCI,4BAAgC,EAAA;EArCpC;IAyCI,6BAAgC,EAAA;EAzCpC;IA6CI,6BAAgC,EAAA;EA7CpC;IAiDI,6BAAgC,EAAA;EAjDpC;IAwDI,8BAAoC,EAAA;EAxDxC;IA4DI,gCAAoC,EAAA;EA5DxC;IAgEI,gCAAoC,EAAA;EAhExC;IAoEI,gCAAoC,EAAA;EApExC;IAyEI,gCAAoC,EAAA;EAzExC;IA8EI,gCAAoC,EAAA;EA9ExC;IAmFI,gCAAoC,EAAA;EAnFxC;IAwFI,iCAAoC,EAAA;EAxFxC;IA4FI,iCAAoC,EAAA;EA5FxC;IAgGI,iCAAoC,EAAA;EAhGxC;IAuGI,8BAAoC,EAAA;EAvGxC;IA2GI,gCAAoC,EAAA;EA3GxC;IA+GI,gCAAoC,EAAA;EA/GxC;IAmHI,gCAAoC,EAAA;EAnHxC;IAuHI,gCAAoC,EAAA;EAvHxC;IA2HI,gCAAoC,EAAA;EA3HxC;IA+HI,gCAAoC,EAAA;EA/HxC;IAmII,iCAAoC,EAAA;EAnIxC;IAwII,iCAAoC,EAAA;EAxIxC;IA4II,iCAAoC,EAAA;EA5IxC;IAgJI,iCAAqC,EAAA;EAhJzC;IAoJI,iCAAqC,EAAA;EApJzC;IAwJI,iCAAqC,EAAA;EAxJzC;IA6JI,iCAAqC,EAAA;EA7JzC;IAiKI,iCAAqC,EAAA;EAjKzC;IAqKI,iCAAqC,EAAA;EArKzC;IA4KI,8BAAoC,EAAA;EA5KxC;IAgLI,gCAAoC,EAAA;EAhLxC;IAoLI,gCAAoC,EAAA;EApLxC;IAwLI,gCAAoC,EAAA;EAxLxC;IA4LI,gCAAoC,EAAA;EA5LxC;IAgMI,gCAAoC,EAAA;EAhMxC;IAoMI,gCAAoC,EAAA;EApMxC;IAwMI,iCAAoC,EAAA;EAxMxC;IA4MI,iCAAoC,EAAA;EA5MxC;IAgNI,iCAAoC,EAAA;EAhNxC;IAoNI,iCAAqC,EAAA;EApNzC;IAwNI,iCAAqC,EAAA;EAxNzC;IA4NI,iCAAqC,EAAA;EA5NzC;IAgOI,iCAAqC,EAAA;EAhOzC;IAoOI,iCAAqC,EAAA;EApOzC;IAwOI,iCAAqC,EAAA;EAxOzC;IA8OI,8BAAoC,EAAA;EA9OxC;IAkPI,gCAAoC,EAAA;EAlPxC;IAgQM,8BAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,gCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IAgQM,iCAAqC,EAAA;EAhQ3C;IA8QM,+BAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,iCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA8QM,kCAAsC,EAAA;EA9Q5C;IA4RM,+BAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,iCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IA4RM,kCAAsC,EAAA;EA5R5C;IAmSI,iCAAiC,EAAA;EAnSrC;IAuSI,iCAAiC,EAAA;EAvSrC;IAiTM,+BAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,iCAAyC,EAAA;EAjT/C;IAiTM,kCAAyC,EAAA;EAjT/C;IAiTM,kCAAyC,EAAA;EAjT/C;IAiTM,kCAAyC,EAAA;EAjT/C;IA6TM,+BAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,iCAA0C,EAAA;EA7ThD;IA6TM,kCAA0C,EAAA;EA7ThD;IA6TM,kCAA0C,EAAA;EA7ThD;IA6TM,kCAA0C,EAAA",sourcesContent:[".icons-cl {\r\n  display: inline-block;\r\n  background-image: url(images/icons.png);\r\n  width: 16px;\r\n  height: 16px;\r\n  overflow: hidden;\r\n  color: transparent;\r\n  padding: 0;\r\n\r\n  //\r\n  // Row 1\r\n  //\r\n  &.icons-cl-caret-1-n {\r\n    background-position: 0 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-ne {\r\n    background-position: -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-e {\r\n    background-position: 2 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-se {\r\n    background-position: 3 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-s {\r\n    background-position: 4 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-sw {\r\n    background-position: 5 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-w {\r\n    background-position: 6 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-1-nw {\r\n    background-position: 7 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-2-n-s {\r\n    background-position: 8 * -16px 0;\r\n  }\r\n\r\n  &.icons-cl-caret-2-e-w {\r\n    background-position: 9 * -16px 0;\r\n  }\r\n\r\n  //\r\n  // Row 2\r\n  //\r\n  &.icons-cl-triangle-1-n {\r\n    background-position: 0 * -16px -16px;\r\n  }\r\n\r\n  &.icons-cl-triangle-1-ne {\r\n    background-position: 1 * -16px -16px;\r\n  }\r\n\r\n  &.icons-cl-triangle-1-e {\r\n    background-position: 2 * -16px -16px;\r\n  }\r\n\r\n  &.icons-cl-triangle-1-se {\r\n    background-position: 3 * -16px -16px;\r\n  }\r\n\r\n\r\n  &.icons-cl-triangle-1-s {\r\n    background-position: 4 * -16px -16px;\r\n  }\r\n\r\n\r\n  &.icons-cl-triangle-1-sw {\r\n    background-position: 5 * -16px -16px;\r\n  }\r\n\r\n\r\n  &.icons-cl-triangle-1-w {\r\n    background-position: 6 * -16px -16px;\r\n  }\r\n\r\n\r\n  &.icons-cl-triangle-1-nw {\r\n    background-position: 7 * -16px -16px;\r\n  }\r\n\r\n  &.icons-cl-triangle-2-n-s {\r\n    background-position: 8 * -16px -16px;\r\n  }\r\n\r\n  &.icons-cl-triangle-2-e-w {\r\n    background-position: 9 * -16px -16px;\r\n  }\r\n  \r\n  //\r\n  // Row 3\r\n  //\r\n  &.icons-cl-arrow-1-n {\r\n    background-position: 0 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-ne {\r\n    background-position: 1 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-e {\r\n    background-position: 2 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-se {\r\n    background-position: 3 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-s {\r\n    background-position: 4 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-sw {\r\n    background-position: 5 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-w {\r\n    background-position: 6 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-1-nw {\r\n    background-position: 7 * -16px -32px;\r\n  }\r\n\r\n\r\n  &.icons-cl-arrow-2-n-s {\r\n    background-position: 8 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-2-ne-sw {\r\n    background-position: 9 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-2-e-w {\r\n    background-position: 10 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrow-2-se-nw {\r\n    background-position: 11 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrowstop-1-n {\r\n    background-position: 12 * -16px -32px;\r\n  }\r\n\r\n\r\n  &.icons-cl-arrowstop-1-e {\r\n    background-position: 13 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrowstop-1-s {\r\n    background-position: 14 * -16px -32px;\r\n  }\r\n\r\n  &.icons-cl-arrowstop-1-w {\r\n    background-position: 15 * -16px -32px;\r\n  }\r\n\r\n  //\r\n  // Row 4\r\n  //\r\n  &.icons-cl-arrowthick-1-n {\r\n    background-position: 0 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-ne {\r\n    background-position: 1 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-e {\r\n    background-position: 2 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-se {\r\n    background-position: 3 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-s {\r\n    background-position: 4 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-sw {\r\n    background-position: 5 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-w {\r\n    background-position: 6 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-1-nw {\r\n    background-position: 7 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-2-n-s {\r\n    background-position: 8 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-2-ne-sw {\r\n    background-position: 9 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-2-e-w {\r\n    background-position: 10 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthick-2-se-nw {\r\n    background-position: 11 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthickstop-1-n {\r\n    background-position: 12 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthickstop-1-e {\r\n    background-position: 13 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthickstop-1-s {\r\n    background-position: 14 * -16px -48px;\r\n  }\r\n\r\n  &.icons-cl-arrowthickstop-1-w {\r\n    background-position: 15 * -16px -48px;\r\n  }\r\n\r\n  //\r\n  // Row 5\r\n  &.icons-cl-arrowreturnthick-1-w {\r\n    background-position: 0 * -16px -64px;\r\n  }\r\n\r\n  &.icons-cl-arrowreturnthick-1-e {\r\n    background-position: 2 * -16px -64px;\r\n  }\r\n\r\n  // ui-icon-arrowreturnthick-1-n  ui-icon-arrowreturnthick-1-s  ui-icon-arrowreturn-1-w  ui-icon-arrowreturn-1-n  ui-icon-arrowreturn-1-e  ui-icon-arrowreturn-1-s  ui-icon-arrowrefresh-1-w  ui-icon-arrowrefresh-1-n  ui-icon-arrowrefresh-1-e  ui-icon-arrowrefresh-1-s\r\n  // ui-icon-arrow-4  ui-icon-arrow-4-diag  ui-icon-extlink  ui-icon-newwin  ui-icon-refresh  ui-icon-shuffle  ui-icon-transfer-e-w  ui-icon-transferthick-e-w\r\n\r\n  //\r\n  // Row 6\r\n  //\r\n  $list: folder-collapsed folder-open document document-b note mail-closed mail-open suitcase comment person print trash locked unlocked bookmark tag;\r\n  $x: 0;\r\n\r\n  @each $item in $list {\r\n    &.icons-cl-#{$item} {\r\n      background-position: $x * -16px -96px\r\n    }\r\n\r\n    $x: $x+1;\r\n  }\r\n\r\n  //\r\n  // Row 7\r\n  //\r\n  $list: home flag calculator cart pencil clock disk calendar zoomin zoomout search wrench gear heart star link;\r\n  $x: 0;\r\n\r\n  @each $item in $list {\r\n    &.icons-cl-#{$item} {\r\n      background-position: $x * -16px -112px\r\n    }\r\n\r\n    $x: $x+1;\r\n  }\r\n\r\n  //\r\n  // Row 8\r\n  //\r\n  $list: cancel  plus  plusthick  minus  minusthick  key  lightbulb  scissors  clipboard  copy  contact  image  video  script;\r\n  $x: 0;\r\n\r\n  @each $item in $list {\r\n    &.icons-cl-#{$item} {\r\n      background-position: $x * -16px -128px\r\n    }\r\n\r\n    $x: $x+1;\r\n  }\r\n\r\n  &.icons-cl-close {\r\n    background-position: -80px -128px;\r\n  }\r\n\r\n  &.icons-cl-closethick {\r\n    background-position: -96px -128px;\r\n  }\r\n  // ui-icon-cancel  ui-icon-plus  ui-icon-plusthick  ui-icon-minus  ui-icon-minusthick  ui-icon-key  ui-icon-lightbulb  ui-icon-scissors  ui-icon-clipboard  ui-icon-copy  ui-icon-contact  ui-icon-image  ui-icon-video  ui-icon-script\r\n\r\n  // Row 9\r\n  $list: alert info  notice help check  bullet  radio-off  radio-on  pin-w  pin-s;\r\n  $x: 0;\r\n\r\n  @each $item in $list {\r\n    &.icons-cl-#{$item} {\r\n      background-position: $x * -16px 9 * -16px\r\n    }\r\n\r\n    $x: $x+1;\r\n  }\r\n\r\n  //  Row 10\r\n  $list: play pause seek-next  seek-prev  seek-end  seek-first  stop  eject  volume-off  volume-on;\r\n  $x: 0;\r\n\r\n  @each $item in $list {\r\n    &.icons-cl-#{$item} {\r\n      background-position: $x * -16px 10 * -16px\r\n    }\r\n\r\n    $x: $x+1;\r\n  }\r\n\r\n // ui-icon-power  ui-icon-signal-diag  ui-icon-signal  ui-icon-battery-0  ui-icon-battery-1  ui-icon-battery-2  ui-icon-battery-3\r\n  // ui-icon-circle-plus  ui-icon-circle-minus  ui-icon-circle-close  ui-icon-circle-triangle-e  ui-icon-circle-triangle-s  ui-icon-circle-triangle-w  ui-icon-circle-triangle-n  ui-icon-circle-arrow-e  ui-icon-circle-arrow-s  ui-icon-circle-arrow-w  ui-icon-circle-arrow-n  ui-icon-circle-zoomin  ui-icon-circle-zoomout  ui-icon-circle-check\r\n// ui-icon-circlesmall-plus  ui-icon-circlesmall-minus  ui-icon-circlesmall-close  ui-icon-squaresmall-plus  ui-icon-squaresmall-minus  ui-icon-squaresmall-close\r\n// ui-icon-grip-dotted-vertical  ui-icon-grip-dotted-horizontal  ui-icon-grip-solid-vertical  ui-icon-grip-solid-horizontal  ui-icon-gripsmall-diagonal-se  ui-icon-grip-diagonal-se\r\n\r\n}\r\n"],sourceRoot:""}]);const d=u},"../../node_modules/css-loader/dist/runtime/api.js":t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);n&&o[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js":t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}t.exports=function(t){var i=e(t,4),n=i[1],o=i[3];if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(s," */"),c=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(c).concat([a]).join("\n")}return[n].join("\n")}},"../../node_modules/css-loader/dist/runtime/getUrl.js":t=>{t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"./src/icons.scss":(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var n=i("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=i.n(n),r=i("../../node_modules/css-loader/dist/cjs.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./src/icons.scss"),s={insert:"head",singleton:!1},a=o()(r.default,s);if(!r.default.locals||t.hot.invalidate){var c=r.default.locals;t.hot.accept("../../node_modules/css-loader/dist/cjs.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./src/icons.scss",(e=>{r=i("../../node_modules/css-loader/dist/cjs.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./src/icons.scss"),function(t,e,i){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!i||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(i&&"default"===n||t[n]))return!1;return!0}(c,r.default.locals,void 0)?(c=r.default.locals,a(r.default)):t.hot.invalidate()}))}t.hot.dispose((function(){a()}));const l=r.default.locals||{}},"../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(t,e,i)=>{var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),s=[];function a(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function c(t,e){for(var i={},n=[],o=0;o<t.length;o++){var r=t[o],c=e.base?r[0]+e.base:r[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=a(u),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:m(d,e),references:1}),n.push(u)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,v=0;function m(t,e){var i,n,o;if(e.singleton){var r=v++;i=f||(f=l(e)),n=d.bind(null,i,r,!1),o=d.bind(null,i,r,!0)}else i=l(e),n=p.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var i=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=a(i[n]);s[o].references--}for(var r=c(t,e),l=0;l<i.length;l++){var u=a(i[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}i=r}}}},"./src/images/icons.png":(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABDlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxUYW9AAAAWXRSTlMAL2ZKCEBgGRAzUBq/ImOeRY+UP22gnCApzA0xASwWVSeZwxNxgCM0R8+vaEgKhRw4U+8EHkt/H1pCgoyoov0kAlEDITJqtbjfYocGkW88sq18vsaryLyqpZmKC7AAAA7mSURBVHja7V0JY9u2DqZcy5QcJ26zrZnjrk1zrE3X1/b12H1vb+++T/z/P/JIyRIB8LJiR3Zifs4FUQfxCSQBkFKESEhI2AJIkDuuP2w5AytXT0JYf4kZ0Dv3SwizQNCgBPD6kHJdKvEWAFvFwAXY8dWfvZoEt0CbAMnrQ8r5HbQI4IfbF7B2lj0yYNXfrUKg3GZQBA0IQg1isbMM7rTeBs4t2K4iv8G2hQTvsG0BgQr0bwFuUgK3MGjBzh2sPiBkgv33AZseBXgT6n8USI5QQkJCQkJCQsLGPMEN+0HSitaAO+8yoBAAD/Blp3yAlRBSZ++VEkcFLAKsHfjuNFyU1gU4ATIYPPYaDFn1d9c4UOzIqMjA4SKSAoSKAOivgYMzBeSvsVwmHyCDfMbSB5sPhyVcZz5AxprgtoXDt30USEhISEhISEjYoKe1ujO/0vlhswrYoU9QoSsEStDt+jahEDkbhLfY6rFisHehh4OvzH2BYAUcpeHru84QIsgqt04GMQJJhYDtAY4T2vUBr4Lgul7o+na4DDECIBhvg4jw6zo8sAtVcLE3eAkCYZ0wyJ/biEMmFGxATgthjDsOD5to/Apd1Iu2cccaIgiXR87IbgdEb0jkAhDs90BEmnD/o8A1Hx8fJhMSEhISEhJ2FasvS13RzZCO1ej+U7r80OhUVeTy3Sqw1AXC8TwsUQFULvDk1BJend4ZAqGLa3o/liIIXt8R33IFIumHQEainlg0FNm1dSx2l0ECImvD3WYWYiDInwSImZcrIQQ8HAYczQYsyAqHHdG49ciGWKIC7lJ3dAwQiOfBYQP+wy0CrBrY1aPlvInFCXBXwHsLlyoGCMbP4S5CuGbogxZEmgBrItEm4G7l0ruHtJe82AoE2ojDwFgTF9YMfYQAGckHyHAfAO5+NXSPwsXhscTRhuPjLsDSwxxsfT5AQlohkZCQkJCQIDpEoGsdhsMDMzgj6LXqB50m8Nd8del62h1Hf84jJIQ9xy4ZFDZXBQ6FIVS+Ov2u5+eB6BJ6Ohxit9Q1G27xB/RYCPKzVgbAZkDw9xuIwPsBXPkMOl8tlph+FcCOBd/hayegCTd9BEiIhM/O6etguWt2GrwW4dwZ1kiBdNTQfiIE/Hc8Nt9sJ0RErA+wCOBNYu3hnenUdDLBis7o8/2Ocn8Td5hE8BGiJTrF6xgYaUZHhvIB8eg1tggoln8I54+Sn5OQkJCQkLBVKG74QOZwOyA0XcW94avov01TAc5pFup9FdHZQChER29PbqsFtPGWoaeAAgVDNL4roLYAwASGHzmArZqtAvfybVyu9CfRGdAAvm4DNNwTbDoc0OvitosAgEh1tDKFI9YDK5PhjQ3xNtk2MXlzLMDan67YqAnyWABfr9DQvVXzoeE+IHR7m+i8MFbC+wBwWtx2jYLBUcDZ5dMBAoLLxIIvp7ghfkD0BMXy+8pbGP130T8hISEhYbdQaj+hXH7/N0OFN33VbqwqNxmH9vgy4rnB49pVKkP64+IyzMcbkQFk4g07ATpiX4n7wiPzQvFoAXZAoxKc5/kYOXvV32PL1R34n6YeLTQcEX3bGnPZmtnaX5Q3tR5mMBxCNmRuGvijN3vqkjp2A9cV2yAtz/OiBiNkQghADIA20SFwCxi1nvSeQutKQ2MBvvnu+nTmhEMYnp39DJiA2WwWfgJDADgFJwH7hEDQqqMNihCJCakrSAk/1vBZAIwB/dIXXvQBgCpIanxcHX5sCDj7af8vhICHDx9ay+P9MtvACdD6f4EJoCYFSn+wKSpQ2g8eangtYE+rDuM9kwcoK/tvCdDnRym2+nTmhKoJPH+Om8BMqFugfrYHlNXnigRo/R+9+8JPgGQb1BYp9yQKYeDo6MjfB8CeYkDpjwmovloCqk4QEfBWH/32bbPhrO4Ez7xt3kGAsJ+noAR8jvMTg9Ej9TP3EWA9ovJxBXTBk5MTMCZqWUC5Nx6rH6YJVLKfgJMaiw0yg5+ybA6ZJASUqBf8dfXB+g45AUNGABALGBj9AwS0p/uoAjO54dBnAeVehRI8Mug+dgykTWZZOwpkzfUzrwXYBMSaAC6v+8BcWASU9HrMD4AvY37AksNgXZ8BzcGUZugGW+FIpzfCl7c3cAIqBvJ1OnrlqEJ59VMw12WpPO4KNd5fq/4JCQkJCVuOFy/C5QUE89r1f36KZj3aYfBJNUw9wRkHHGMPFvKAhWf7S8tC/IHVJw+OayraOmab1LCN9S9Lw8BEe5EX2RgFO6rKg8dg/GxP1gPpLxAD6mANNtNEPZtMu4JLy/X9aDXItTNXtGN7obkd4Ht6CnDK9NeO0pHRX/vmbfQr3Y4YCufhN+pzjitUqvtcov3J3KD1+Pu/xaX4J45vMyVkRBZUPh4eI1nXfzTyVRAWzj5Qg0MWpyo7KozrWGcs2ujKJoCFwyBevb378t3bMb7/Y1GKZQn4D/xWff6BFdSuP5Nx8KFi42HGfV9ALRivUGHXe9GIqB+YwPlIcVALj5uMzWMfAYteAFnAOfwdXgDWH6Xs4hbwL/GL+J9JKZ0wCzhhFnDCLGBEYg/VAupOqo1v2fW+qqWv2gpWwTyOHUD3AWi1fJSAV28//1h93PovPHVMQAFV1qmR/wtfq8/f0IoJ0sYr+Wcmo/Kq/Sp87CGgie4K2kSo/QR6eRiOxRGJFxkBJWOY6d+uiKAEIPmzXx5OHv71w4W8BzQpGpNH9O7ZTWAhY/H01Mja9tt8p5MAaxRU5ygCS9p5kvvJosJPMAHWegOTcFLNnZ0uLAumvx3AF2TN2t1vVfc3+PZuS4Bq/0XgeEvRgdWJskd8eJKf+QE87c1k1xtgQvKI68+HQVEv6jLF1YzAo1z4LIghu4muXt4hwCc+UEJCQkLCBjDGiWntysGJtc8D6qlcIzI8DeHzda5++gKm6ucUD80XeGriC/jhh+++gw9Rdc61/hXUH/N38OoVvJsTT7QUPN3Q5BtamW8YM8cH6T8Zj18TBjq97t8eaNW5MhRtgmJgyr3xI+N5/Urjj8YVnY7VCUZWcEOiU8c6VDqXa/ZRrmOpgh0zOVgXmOBKO8ZTeA1rI0C7WugIrXv1TQ3AEPD9jw8e/Pi9qc9YQD7CMzucALJkBKpkFFrwUIg6VVEYX7vU+RhEwEs9V4cvONWs+wiIrKe3p7IyoG1qWslTHry0Fapsfb89/J5enIHcVRiyBRn0+GoeFO0AOvBU8ZzAFjAY4PXq2Xyuw0tDgNJfjP0ZIEfGxRXuUxPH7uaU6V+S6cmvYV8B7iG/lhwPx2ECztSfZ/qrKb6oJl+PkAWw6PXly72Xc7hoT/ha126yPgK4BXxTyadUf6NgNq1wRA83hKlbenx8TAggbf5I4TP1xRY8TL19wHyuGwDuBF+Px5M1doKsD/hm0QecmgxcTsLRua7vkTl8eg4XiAF9ojPU7TXJm0a/jz5afDED8fYB43I+n8McAsPgukeBU52YNfXhodt0MPgKXSxXX4VhAKwwXf+532zgw2BlERU8fQCMNTAB7pmANfoBp1VquvCkD/gjZspaXhe6p3zQlP7+laSvdRFVr7GQhqVO6ZVDcVU/YPM4Ozw8wxZ0rrkqHhSehI+9cjIhISFhtegUr46+84HuYj64s0P6PwN41grvN73u+zuj/3Ot7vPm/kMz0wTGBmYwwwf8zrXQbn0rz2YV/7M+DUA5mo0J3DcE3Pc5Qi4/IjeUWFMPfAOXYabH9Fnw/NdrAPqaz3lsE3rdd8E35MYoIgs3tfx0+JTOzgYegOilB9Ah9DNycVqHAZ4Yq/WfENvP8epje+nuqBhh/Z6qH0/JDrMNEpA39zv3E5CzJg9wWeCynMwm2wQUxGSqheZDEk4TAkqYzWb9ebpGYT8B9jEFsX3SKa5sAf12gpUB1A/NVDocGgIOvRZgW1Dub/Kd+4B+ozXe6d014l1vJ0jEnA+KK48Cvb5fb2YUrmtw0IgHItAHeEbAtd2WTfpF7+m0LNx7b5N1SG9YTEhISEjYIeQQEq990J3kwvJzrtUVffzYcqcDYh/eMKWAEFCVFXiHfFLoH0D5a18wUIfOptyOrHLmO+dWMVQzZH3Gg4QCSkBd1ta5uj1KPb4DIQCX2wS4nvS1ReiXALwYmBNQpT8Wlax+Taz58QkhYBLM8Pg0JiL0TUCPFrAUAT1bQL99gCulsNE+oOdRwM53bHgU2Hk/ICEhISFhtwE7/RxV8WcBn35WEEflYofek6ufI4VPc/Q8Q5bfczxA0fgm/P0HXeWtwxT+pAgQaHWyZmViMWC9TL68mrx9BnApxKe5uMRPW0+PVERLn681igyPh+qrXb4Nx3Q9u5aBykP9GW6pe1su1s1fmDuUjUCvtj/3EFC9Gk3uyfZteyCl3tDIe/pj3r+ny9UWuQdbbAEKl/iO635hClT9loAPa7Qm3lHeOkyqMXCE1ryoYHQMR2MPAbeuE8wALi8ucbdfpyNyoOrf3gg1e6buz7NMJCQkJCTsIvjzATGZL6LqKne93qpyDPz5gJjMl9F1lbteb1U5ev/NOsE7y8h8IWVXuev1VpWj4M8H3DcnaOQD7RseLOTD9l1p9VLaQ7M/koW3/L4pv++9voBg+azO2uBywesv8PMOwWwYWxzNl85Wvw4O8OxwbH+73NrfTJG7yvHsmfs3kPqITz75RND6VE8kL0sA+cMh69Z7wCosILC/sBQK788IiNYHvz7eJc9r/ddHwAi9g85BgOt3F4Wi13dYSMgC9NtG5tCBgHgT0G/f6mLisSYCMQKDTUq4LArvP6/1X44A/nyAo1NrOsFDbycFXPZ3qs5Okl+fd7K0vOHHJ+s2QJ93CKHvYWzVYbSrHEffjsyqjlRXOY6+XdlVXemuckJCQkJCQkIsHAC4Nnn7CaBva4vLt5AACBNQfUgEHSZAgLhZBFT/ni0gM4JAkMXUtgwiWUDqA24SAbs+CiQkJCQkJCSsG/LmeALRVZBQdl/oKtn/B9rqeyXkygTw+32T9F+HBXB9b5T+1AKq5e3Vx0OA6/8N6P25/re2DygbUP2lpb/cGQuo97+5+q9qATde/1VHAY/+u+oHGP1vkR/QiU1pvhMSthz/B/h1OWiyMpswAAAAAElFTkSuQmCC"},"./src/icons.js":(t,e,i)=>{i.r(e),i("./src/icons.scss")}},n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={id:t,exports:{}},r={id:t,module:e,factory:i[t],require:o};return o.i.forEach((function(t){t(r)})),e=r.module,r.factory.call(e.exports,e,e.exports,r.require),e.exports}o.m=i,o.c=n,o.i=[],o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.hu=t=>t+"."+o.h()+".hot-update.js",o.hmrF=()=>"Icons."+o.h()+".hot-update.json",o.h=()=>"e0ac1235ed53cfc1f268",o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="Icons:",o.l=(i,n,r,s)=>{if(t[i])t[i].push(n);else{var a,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+r){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",e+r),a.src=i),t[i]=[n];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,i,n,r={},s=o.c,a=[],c=[],l="idle";function u(t){l=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}function h(t){if(0===e.length)return t();var i=e;return e=[],Promise.all(i).then((function(){return h(t)}))}function d(t){if("idle"!==l)throw new Error("check() is only allowed in idle status");return u("check"),o.hmrM().then((function(n){if(!n)return u(v()?"ready":"idle"),null;u("prepare");var r=[];return e=[],i=[],Promise.all(Object.keys(o.hmrC).reduce((function(t,e){return o.hmrC[e](n.c,n.r,n.m,t,i,r),t}),[])).then((function(){return h((function(){return t?f(t):(u("ready"),r)}))}))}))}function p(t){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):f(t)}function f(t){t=t||{},v();var e=i.map((function(e){return e(t)}));i=void 0;var o,r=e.map((function(t){return t.error})).filter(Boolean);if(r.length>0)return u("abort"),Promise.resolve().then((function(){throw r[0]}));u("dispose"),e.forEach((function(t){t.dispose&&t.dispose()})),u("apply");var s=function(t){o||(o=t)},a=[];return e.forEach((function(t){if(t.apply){var e=t.apply(s);if(e)for(var i=0;i<e.length;i++)a.push(e[i])}})),o?(u("fail"),Promise.resolve().then((function(){throw o}))):n?f(t).then((function(t){return a.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):(u("idle"),Promise.resolve(a))}function v(){if(n)return i||(i=[]),Object.keys(o.hmrI).forEach((function(t){n.forEach((function(e){o.hmrI[t](e,i)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(f){var v,m,y,g=f.module,b=function(i,n){var o=s[n];if(!o)return i;var r=function(e){if(o.hot.active){if(s[e]){var r=s[e].parents;-1===r.indexOf(n)&&r.push(n)}else a=[n],t=e;-1===o.children.indexOf(e)&&o.children.push(e)}else console.warn("[HMR] unexpected require("+e+") from disposed module "+n),a=[];return i(e)},c=function(t){return{configurable:!0,enumerable:!0,get:function(){return i[t]},set:function(e){i[t]=e}}};for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&"e"!==d&&Object.defineProperty(r,d,c(d));return r.e=function(t){return function(t){switch(l){case"ready":return u("prepare"),e.push(t),h((function(){u("ready")})),t;case"prepare":return e.push(t),t;default:return t}}(i.e(t))},r}(f.require,f.id);g.hot=(v=f.id,m=g,y={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:t!==v,_requireSelf:function(){a=m.parents.slice(),t=v,o(v)},active:!0,accept:function(t,e){if(void 0===t)y._selfAccepted=!0;else if("function"==typeof t)y._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var i=0;i<t.length;i++)y._acceptedDependencies[t[i]]=e||function(){};else y._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)y._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)y._declinedDependencies[t[e]]=!0;else y._declinedDependencies[t]=!0},dispose:function(t){y._disposeHandlers.push(t)},addDisposeHandler:function(t){y._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=y._disposeHandlers.indexOf(t);e>=0&&y._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":i=[],Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](v,i)})),u("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](v,i)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(v)}},check:d,apply:p,status:function(t){if(!t)return l;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:r[v]},t=void 0,y),g.parents=a,g.children=[],a=[],f.require=b})),o.hmrC={},o.hmrI={}})(),o.p="",(()=>{var t,e,i,n,r={Icons:0},s={};function a(t){return new Promise(((e,i)=>{s[t]=e;var n=o.p+o.hu(t),r=new Error;o.l(n,(e=>{if(s[t]){s[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,i(r)}}))}))}function c(s){function a(t){for(var e=[t],i={},n=e.map((function(t){return{chain:[t],id:t}}));n.length>0;){var r=n.pop(),s=r.id,a=r.chain,l=o.c[s];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var u=0;u<l.parents.length;u++){var h=l.parents[u],d=o.c[h];if(d){if(d.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([h]),moduleId:s,parentId:h};-1===e.indexOf(h)&&(d.hot._acceptedDependencies[s]?(i[h]||(i[h]=[]),c(i[h],[s])):(delete i[h],e.push(h),n.push({chain:a.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];-1===t.indexOf(n)&&t.push(n)}}o.f&&delete o.f.jsonpHmr,t=void 0;var l={},u=[],h={},d=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in e)if(o.o(e,p)){var f,v=e[p],m=!1,y=!1,g=!1,b="";switch((f=v?a(p):{type:"disposed",moduleId:p}).chain&&(b="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(m=new Error("Aborted because of self decline: "+f.moduleId+b));break;case"declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+b));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(f),s.ignoreUnaccepted||(m=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":s.onAccepted&&s.onAccepted(f),y=!0;break;case"disposed":s.onDisposed&&s.onDisposed(f),g=!0;break;default:throw new Error("Unexception type "+f.type)}if(m)return{error:m};if(y)for(p in h[p]=v,c(u,f.outdatedModules),f.outdatedDependencies)o.o(f.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],f.outdatedDependencies[p]));g&&(c(u,[f.moduleId]),h[p]=d)}e=void 0;for(var A,w=[],x=0;x<u.length;x++){var k=u[x];o.c[k]&&o.c[k].hot._selfAccepted&&h[k]!==d&&!o.c[k].hot._selfInvalidated&&w.push({module:k,require:o.c[k].hot._requireSelf,errorHandler:o.c[k].hot._selfAccepted})}return{dispose:function(){var t;i.forEach((function(t){delete r[t]})),i=void 0;for(var e,n=u.slice();n.length>0;){var s=n.pop(),a=o.c[s];if(a){var c={},h=a.hot._disposeHandlers;for(x=0;x<h.length;x++)h[x].call(null,c);for(o.hmrD[s]=c,a.hot.active=!1,delete o.c[s],delete l[s],x=0;x<a.children.length;x++){var d=o.c[a.children[x]];d&&(t=d.parents.indexOf(s))>=0&&d.parents.splice(t,1)}}}for(var p in l)if(o.o(l,p)&&(a=o.c[p]))for(A=l[p],x=0;x<A.length;x++)e=A[x],(t=a.children.indexOf(e))>=0&&a.children.splice(t,1)},apply:function(t){for(var e in h)o.o(h,e)&&(o.m[e]=h[e]);for(var i=0;i<n.length;i++)n[i](o);for(var r in l)if(o.o(l,r)){var a=o.c[r];if(a){A=l[r];for(var c=[],d=[],p=0;p<A.length;p++){var f=A[p],v=a.hot._acceptedDependencies[f];if(v){if(-1!==c.indexOf(v))continue;c.push(v),d.push(f)}}for(var m=0;m<c.length;m++)try{c[m].call(null,A)}catch(e){s.onErrored&&s.onErrored({type:"accept-errored",moduleId:r,dependencyId:d[m],error:e}),s.ignoreErrored||t(e)}}}for(var y=0;y<w.length;y++){var g=w[y],b=g.module;try{g.require(b)}catch(e){if("function"==typeof g.errorHandler)try{g.errorHandler(e)}catch(i){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:b,error:i,originalError:e}),s.ignoreErrored||t(i),t(e)}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:b,error:e}),s.ignoreErrored||t(e)}}return u}}}self.webpackHotUpdateIcons=(t,i,r)=>{for(var a in i)o.o(i,a)&&(e[a]=i[a]);r&&n.push(r),s[t]&&(s[t](),s[t]=void 0)},o.hmrI.jsonp=function(t,r){e||(e={},n=[],i=[],r.push(c)),o.o(e,t)||(e[t]=o.m[t])},o.hmrC.jsonp=function(s,l,u,h,d,p){d.push(c),t={},i=l,e=u.reduce((function(t,e){return t[e]=!1,t}),{}),n=[],s.forEach((function(e){o.o(r,e)&&void 0!==r[e]&&(h.push(a(e)),t[e]=!0)})),o.f&&(o.f.jsonpHmr=function(e,i){t&&!o.o(t,e)&&o.o(r,e)&&void 0!==r[e]&&(i.push(a(e)),t[e]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})();var r=o("./src/icons.js");return r=r.default})()},t.exports=e()},306:t=>{"use strict";t.exports=JSON.parse('{"name":"cirsim","version":"2.1.16","description":"Cirsim Circuit Simulator","main":"dist/cirsim.min.js","module":"index.js","scripts":{"build:dev":"webpack --config webpack.dev.js","build:prod":"webpack --config webpack.prod.js","build:all":"$npm_execpath run build:dev && $npm_execpath run build:prod","test":"karma start karma.conf.js","serve":"webpack serve --config webpack.dev.js --open","build:docs":"documentation build src/Cirsim/**/*.js --sort-order source -f html -o doc/js"},"keywords":["Education","Circuits","Computer Architecture"],"author":"Charles B. Owen","license":"MIT","devDependencies":{"@babel/core":"^7.14.6","@babel/plugin-transform-runtime":"^7.14.5","@babel/preset-env":"^7.14.5","@babel/runtime":"7.14.6","babel-loader":"^8.2.2","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.0","css-loader":"^5.2.6","css-minimizer-webpack-plugin":"^3.0.1","file-loader":"^6.2.0","html-webpack-plugin":"^5.3.1","html-webpack-tags-plugin":"^3.0.1","jasmine-core":"^3.7.1","karma":"^6.3.4","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1","karma-jasmine-html-reporter":"^1.6.0","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^5.0.0","resolve-url-loader":"^4.0.0","sass":"^1.35.1","sass-loader":"^12.1.0","style-loader":"^2.0.0","terser-webpack-plugin":"^5.1.3","webpack":"^5.39.1","webpack-cli":"^4.7.2","webpack-dev-server":"^3.11.2","webpack-merge":"^5.8.0"},"dependencies":{"buckets-js":"^1.98.2","dialog-cl":"^1.0.6","dompurify":"^2.2.9","icons-cl":"~1.1.3","promise-polyfill":"^8.2.0","resizer-cl":"^2.4.3"}}')}},n={};function o(t){var e=n[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var r=n[t]={id:t,loaded:!1,exports:{}};try{var s={id:t,module:r,factory:i[t],require:o};o.i.forEach((function(t){t(s)})),r=s.module,s.factory.call(r.exports,r,r.exports,s.require)}catch(t){throw r.error=t,t}return r.loaded=!0,r.exports}o.m=i,o.c=n,o.i=[],o.amdO={},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.hu=t=>t+"."+o.h()+".hot-update.js",o.hmrF=()=>"app."+o.h()+".hot-update.json",o.h=()=>"b62d171f1e7425c33190",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="cirsim:",o.l=(i,n,r,s)=>{if(t[i])t[i].push(n);else{var a,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+r){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",e+r),a.src=i),t[i]=[n];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,i,n,r={},s=o.c,a=[],c=[],l="idle";function u(t){l=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}function h(t){if(0===e.length)return t();var i=e;return e=[],Promise.all(i).then((function(){return h(t)}))}function d(t){if("idle"!==l)throw new Error("check() is only allowed in idle status");return u("check"),o.hmrM().then((function(n){if(!n)return u(v()?"ready":"idle"),null;u("prepare");var r=[];return e=[],i=[],Promise.all(Object.keys(o.hmrC).reduce((function(t,e){return o.hmrC[e](n.c,n.r,n.m,t,i,r),t}),[])).then((function(){return h((function(){return t?f(t):(u("ready"),r)}))}))}))}function p(t){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):f(t)}function f(t){t=t||{},v();var e=i.map((function(e){return e(t)}));i=void 0;var o,r=e.map((function(t){return t.error})).filter(Boolean);if(r.length>0)return u("abort"),Promise.resolve().then((function(){throw r[0]}));u("dispose"),e.forEach((function(t){t.dispose&&t.dispose()})),u("apply");var s=function(t){o||(o=t)},a=[];return e.forEach((function(t){if(t.apply){var e=t.apply(s);if(e)for(var i=0;i<e.length;i++)a.push(e[i])}})),o?(u("fail"),Promise.resolve().then((function(){throw o}))):n?f(t).then((function(t){return a.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):(u("idle"),Promise.resolve(a))}function v(){if(n)return i||(i=[]),Object.keys(o.hmrI).forEach((function(t){n.forEach((function(e){o.hmrI[t](e,i)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(f){var v,m,y,g,b=f.module,A=function(i,n){var o=s[n];if(!o)return i;var r=function(e){if(o.hot.active){if(s[e]){var r=s[e].parents;-1===r.indexOf(n)&&r.push(n)}else a=[n],t=e;-1===o.children.indexOf(e)&&o.children.push(e)}else console.warn("[HMR] unexpected require("+e+") from disposed module "+n),a=[];return i(e)},c=function(t){return{configurable:!0,enumerable:!0,get:function(){return i[t]},set:function(e){i[t]=e}}};for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&"e"!==d&&Object.defineProperty(r,d,c(d));return r.e=function(t){return function(t){switch(l){case"ready":return u("prepare"),e.push(t),h((function(){u("ready")})),t;case"prepare":return e.push(t),t;default:return t}}(i.e(t))},r}(f.require,f.id);b.hot=(v=f.id,m=b,g={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=t!==v,_requireSelf:function(){a=m.parents.slice(),t=y?void 0:v,o(v)},active:!0,accept:function(t,e,i){if(void 0===t)g._selfAccepted=!0;else if("function"==typeof t)g._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var n=0;n<t.length;n++)g._acceptedDependencies[t[n]]=e||function(){},g._acceptedErrorHandlers[t[n]]=i;else g._acceptedDependencies[t]=e||function(){},g._acceptedErrorHandlers[t]=i},decline:function(t){if(void 0===t)g._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)g._declinedDependencies[t[e]]=!0;else g._declinedDependencies[t]=!0},dispose:function(t){g._disposeHandlers.push(t)},addDisposeHandler:function(t){g._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=g._disposeHandlers.indexOf(t);e>=0&&g._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":i=[],Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](v,i)})),u("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](v,i)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(v)}},check:d,apply:p,status:function(t){if(!t)return l;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:r[v]},t=void 0,g),b.parents=a,b.children=[],a=[],f.require=A})),o.hmrC={},o.hmrI={}})(),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t,e,i,n,r={143:0},s={};function a(t){return new Promise(((e,i)=>{s[t]=e;var n=o.p+o.hu(t),r=new Error;o.l(n,(e=>{if(s[t]){s[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,i(r)}}))}))}function c(s){function a(t){for(var e=[t],i={},n=e.map((function(t){return{chain:[t],id:t}}));n.length>0;){var r=n.pop(),s=r.id,a=r.chain,l=o.c[s];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var u=0;u<l.parents.length;u++){var h=l.parents[u],d=o.c[h];if(d){if(d.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([h]),moduleId:s,parentId:h};-1===e.indexOf(h)&&(d.hot._acceptedDependencies[s]?(i[h]||(i[h]=[]),c(i[h],[s])):(delete i[h],e.push(h),n.push({chain:a.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];-1===t.indexOf(n)&&t.push(n)}}o.f&&delete o.f.jsonpHmr,t=void 0;var l={},u=[],h={},d=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in e)if(o.o(e,p)){var f,v=e[p],m=!1,y=!1,g=!1,b="";switch((f=v?a(p):{type:"disposed",moduleId:p}).chain&&(b="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(m=new Error("Aborted because of self decline: "+f.moduleId+b));break;case"declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+b));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(f),s.ignoreUnaccepted||(m=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":s.onAccepted&&s.onAccepted(f),y=!0;break;case"disposed":s.onDisposed&&s.onDisposed(f),g=!0;break;default:throw new Error("Unexception type "+f.type)}if(m)return{error:m};if(y)for(p in h[p]=v,c(u,f.outdatedModules),f.outdatedDependencies)o.o(f.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],f.outdatedDependencies[p]));g&&(c(u,[f.moduleId]),h[p]=d)}e=void 0;for(var A,w=[],x=0;x<u.length;x++){var k=u[x],I=o.c[k];I&&(I.hot._selfAccepted||I.hot._main)&&h[k]!==d&&!I.hot._selfInvalidated&&w.push({module:k,require:I.hot._requireSelf,errorHandler:I.hot._selfAccepted})}return{dispose:function(){var t;i.forEach((function(t){delete r[t]})),i=void 0;for(var e,n=u.slice();n.length>0;){var s=n.pop(),a=o.c[s];if(a){var c={},h=a.hot._disposeHandlers;for(x=0;x<h.length;x++)h[x].call(null,c);for(o.hmrD[s]=c,a.hot.active=!1,delete o.c[s],delete l[s],x=0;x<a.children.length;x++){var d=o.c[a.children[x]];d&&((t=d.parents.indexOf(s))>=0&&d.parents.splice(t,1))}}}for(var p in l)if(o.o(l,p)&&(a=o.c[p]))for(A=l[p],x=0;x<A.length;x++)e=A[x],(t=a.children.indexOf(e))>=0&&a.children.splice(t,1)},apply:function(t){for(var e in h)o.o(h,e)&&(o.m[e]=h[e]);for(var i=0;i<n.length;i++)n[i](o);for(var r in l)if(o.o(l,r)){var a=o.c[r];if(a){A=l[r];for(var c=[],d=[],p=[],f=0;f<A.length;f++){var v=A[f],m=a.hot._acceptedDependencies[v],y=a.hot._acceptedErrorHandlers[v];if(m){if(-1!==c.indexOf(m))continue;c.push(m),d.push(y),p.push(v)}}for(var g=0;g<c.length;g++)try{c[g].call(null,A)}catch(e){if("function"==typeof d[g])try{d[g](e,{moduleId:r,dependencyId:p[g]})}catch(i){s.onErrored&&s.onErrored({type:"accept-error-handler-errored",moduleId:r,dependencyId:p[g],error:i,originalError:e}),s.ignoreErrored||(t(i),t(e))}else s.onErrored&&s.onErrored({type:"accept-errored",moduleId:r,dependencyId:p[g],error:e}),s.ignoreErrored||t(e)}}}for(var b=0;b<w.length;b++){var x=w[b],k=x.module;try{x.require(k)}catch(e){if("function"==typeof x.errorHandler)try{x.errorHandler(e,{moduleId:k,module:o.c[k]})}catch(i){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:i,originalError:e}),s.ignoreErrored||(t(i),t(e))}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:k,error:e}),s.ignoreErrored||t(e)}}return u}}}self.webpackHotUpdatecirsim=(t,i,r)=>{for(var a in i)o.o(i,a)&&(e[a]=i[a]);r&&n.push(r),s[t]&&(s[t](),s[t]=void 0)},o.hmrI.jsonp=function(t,r){e||(e={},n=[],i=[],r.push(c)),o.o(e,t)||(e[t]=o.m[t])},o.hmrC.jsonp=function(s,l,u,h,d,p){d.push(c),t={},i=l,e=u.reduce((function(t,e){return t[e]=!1,t}),{}),n=[],s.forEach((function(e){o.o(r,e)&&void 0!==r[e]&&(h.push(a(e)),t[e]=!0)})),o.f&&(o.f.jsonpHmr=function(e,i){t&&!o.o(t,e)&&o.o(r,e)&&void 0!==r[e]&&(i.push(a(e)),t[e]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})();o(396)})();